var Oo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yu(jn){return jn&&jn.__esModule&&Object.prototype.hasOwnProperty.call(jn,"default")?jn.default:jn}var tl={exports:{}};/*! grapesjs - 0.20.1 */(function(jn,ln){(function(Dn,sn){jn.exports=sn()})(typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:Oo,()=>(()=>{var Dn={3410:(gt,Ze,_)=>{var ve,_e,fe;_e=[_(9050),_(2316)],ve=function(de,ue){var ne=Array.prototype.slice;function X(A,z,B){return B.length<=4?A.call(z,B[0],B[1],B[2],B[3]):A.apply(z,B)}function ee(A,z){return ne.call(A,z)}function j(A,z){return A!=null&&(de.isArray(z)||(z=ee(arguments,1)),de.all(z,function(B){return B in A}))}var m=function(){var A=!1,z=-1;function B(){z++,A=!0,de.defer(function(){A=!1})}return function(){return A||B(),z}}();function b(){this.registeredObjects=[],this.cidIndexes=[]}function T(A,z,B,W){for(var ie,E=0,O=z.length;E<O;E++)if(ie=z[E]){if(A==="on"){if(!W.objectRegistry.register(ie))continue}else if(!W.objectRegistry.unregister(ie))continue;de.isFunction(ie[A])&&ie[A]("all",B,W)}}function V(A,z){var B=z.type,W=z.undoTypes,ie=!W[B]||W[B][A];de.isFunction(ie)&&ie(z.object,z.before,z.after,z.options)}function s(A,z,B,W,ie){if(!(B.isCurrentlyUndoRedoing||A==="undo"&&B.pointer===-1||A==="redo"&&B.pointer===B.length-1)){B.isCurrentlyUndoRedoing=!0;var E,O,a=A==="undo";for(ie?O=a&&B.pointer===B.length-1||!a&&B.pointer===-1?de.clone(B.models):ne.apply(B.models,a?[0,B.pointer]:[B.pointer,B.length-1]):(E=B.at(a?B.pointer:B.pointer+1),O=W?B.where({magicFusionIndex:E.get("magicFusionIndex")}):[E]),B.pointer+=(a?-1:1)*O.length;E=a?O.pop():O.shift();)E[A]();B.isCurrentlyUndoRedoing=!1,z.trigger(A,z)}}function ae(A,z){var B=A.condition,W=typeof B;return W==="function"?!!X(B,A,z):W!=="boolean"||B}function $(A,z,B,W){if(A.track&&!A.isCurrentlyUndoRedoing&&z in W&&ae(W[z],B)){var ie=X(W[z].on,W[z],B);if(j(ie,"object","before","after")){if(ie.type=z,ie.magicFusionIndex=m(),ie.undoTypes=W,A.pointer<A.length-1)for(var E=A.length-A.pointer-1;E--;)A.pop();A.pointer=A.length,A.add(ie),A.length>A.maximumStackLength&&(A.shift(),A.pointer--)}}}b.prototype={isRegistered:function(A){return A&&A.cid?this.registeredObjects[A.cid]:de.contains(this.registeredObjects,A)},register:function(A){return!this.isRegistered(A)&&(A&&A.cid?(this.registeredObjects[A.cid]=A,this.cidIndexes.push(A.cid)):this.registeredObjects.push(A),!0)},unregister:function(A){if(this.isRegistered(A)){if(A&&A.cid)delete this.registeredObjects[A.cid],this.cidIndexes.splice(de.indexOf(this.cidIndexes,A.cid),1);else{var z=de.indexOf(this.registeredObjects,A);this.registeredObjects.splice(z,1)}return!0}return!1},get:function(){return de.map(this.cidIndexes,function(A){return this.registeredObjects[A]},this).concat(this.registeredObjects)}};var R={add:{undo:function(A,z,B,W){A.remove(B,W)},redo:function(A,z,B,W){W.index&&(W.at=W.index),A.add(B,W)},on:function(A,z,B){return{object:z,before:void 0,after:A,options:de.clone(B)}}},remove:{undo:function(A,z,B,W){"index"in W&&(W.at=W.index),A.add(z,W)},redo:function(A,z,B,W){A.remove(z,W)},on:function(A,z,B){return{object:z,before:A,after:void 0,options:de.clone(B)}}},change:{undo:function(A,z,B,W){de.isEmpty(z)?de.each(de.keys(B),A.unset,A):(A.set(z),W&&W.unsetData&&W.unsetData.before&&W.unsetData.before.length&&de.each(W.unsetData.before,A.unset,A))},redo:function(A,z,B,W){de.isEmpty(B)?de.each(de.keys(z),A.unset,A):(A.set(B),W&&W.unsetData&&W.unsetData.after&&W.unsetData.after.length&&de.each(W.unsetData.after,A.unset,A))},on:function(A,z){var B=A.changedAttributes(),W=de.keys(B),ie=de.pick(A.previousAttributes(),W),E=de.keys(ie),O=(z||(z={})).unsetData={after:[],before:[]};return W.length!=E.length&&(W.length>E.length?de.each(W,function(a){a in ie||O.before.push(a)},this):de.each(E,function(a){a in B||O.after.push(a)})),{object:A,before:ie,after:B,options:de.clone(z)}}},reset:{undo:function(A,z,B){A.reset(z)},redo:function(A,z,B){A.reset(B)},on:function(A,z){return{object:A,before:z.previousModels,after:de.clone(A.models)}}}};function Z(){}function L(A,z,B,W){if(typeof z=="object")return de.each(z,function(ie,E){A===2?L(A,ie,B,W):L(A,E,ie,B)});switch(A){case 0:j(B,"undo","redo","on")&&de.all(de.pick(B,"undo","redo","on"),de.isFunction)&&(W[z]=B);break;case 1:W[z]&&de.isObject(B)&&(W[z]=de.extend({},W[z],B));break;case 2:delete W[z]}return this}Z.prototype=R;var te=ue.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(A){V("undo",this.attributes)},redo:function(A){V("redo",this.attributes)}}),xe=ue.Collection.extend({model:te,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(A){this.maximumStackLength=A}}),he=ue.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(A){this.stack=new xe,this.objectRegistry=new b,this.undoTypes=new Z,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(z,B){this.stack.setMaxLength(B)},this),A&&A.track&&this.startTracking(),A&&A.register&&(de.isArray(A.register)||de.isArguments(A.register)?X(this.register,this,A.register):this.register(A.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(A){$(this.stack,A,ee(arguments,1),this.undoTypes)},register:function(){T("on",arguments,this._addToStack,this)},unregister:function(){T("off",arguments,this._addToStack,this)},unregisterAll:function(){X(this.unregister,this,this.objectRegistry.get())},undo:function(A){s("undo",this,this.stack,A)},undoAll:function(){s("undo",this,this.stack,!1,!0)},redo:function(A){s("redo",this,this.stack,A)},redoAll:function(){s("redo",this,this.stack,!1,!0)},isAvailable:function(A){var z=this.stack,B=z.length;switch(A){case"undo":return B>0&&z.pointer>-1;case"redo":return B>0&&z.pointer<B-1;default:return!1}},merge:function(A){for(var z,B=de.isArray(A)?A:ee(arguments);z=B.pop();)z instanceof he&&z.stack instanceof xe&&(z.stack=this.stack)},addUndoType:function(A,z){L(0,A,z,this.undoTypes)},changeUndoType:function(A,z){L(1,A,z,this.undoTypes)},removeUndoType:function(A){L(2,A,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return de.extend(he,{defaults:function(A){de.extend(he.prototype.defaults,A)},addUndoType:function(A,z){L(0,A,z,R)},changeUndoType:function(A,z){L(1,A,z,R)},removeUndoType:function(A){L(2,A,void 0,R)}}),ue.UndoManager=he},(fe=typeof ve=="function"?ve.apply(Ze,_e):ve)===void 0||(gt.exports=fe)},2316:(gt,Ze,_)=>{var ve,_e;(function(fe){var de=typeof self=="object"&&self.self===self&&self||typeof _.g=="object"&&_.g.global===_.g&&_.g;ve=[_(9050),_(2579),Ze],_e=function(ue,ne,X){de.Backbone=function(ee,j,m,b){var T=ee.Backbone,V=Array.prototype.slice;j.VERSION="1.4.1",j.$=b,j.noConflict=function(){return ee.Backbone=T,this},j.emulateHTTP=!1,j.emulateJSON=!1;var s,ae=j.Events={},$=/\s+/,R=function(x,re,we,De,Ge){var Ke,bt=0;if(we&&typeof we=="object")for(De!==void 0&&("context"in Ge)&&Ge.context===void 0&&(Ge.context=De),Ke=m.keys(we);bt<Ke.length;bt++)re=R(x,re,Ke[bt],we[Ke[bt]],Ge);else if(we&&$.test(we))for(Ke=we.split($);bt<Ke.length;bt++)re=x(re,Ke[bt],De,Ge);else re=x(re,we,De,Ge);return re};ae.on=function(x,re,we){return this._events=R(Z,this._events||{},x,re,{context:we,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},ae.listenTo=function(x,re,we){if(!x)return this;var De=x._listenId||(x._listenId=m.uniqueId("l")),Ge=this._listeningTo||(this._listeningTo={}),Ke=s=Ge[De];Ke||(this._listenId||(this._listenId=m.uniqueId("l")),Ke=s=Ge[De]=new z(this,x));var bt=L(x,re,we,this);if(s=void 0,bt)throw bt;return Ke.interop&&Ke.on(re,we),this};var Z=function(x,re,we,De){if(we){var Ge=x[re]||(x[re]=[]),Ke=De.context,bt=De.ctx,At=De.listening;At&&At.count++,Ge.push({callback:we,context:Ke,ctx:Ke||bt,listening:At})}return x},L=function(x,re,we,De){try{x.on(re,we,De)}catch(Ge){return Ge}};ae.off=function(x,re,we){return this._events?(this._events=R(te,this._events,x,re,{context:we,listeners:this._listeners}),this):this},ae.stopListening=function(x,re,we){var De=this._listeningTo;if(!De)return this;for(var Ge=x?[x._listenId]:m.keys(De),Ke=0;Ke<Ge.length;Ke++){var bt=De[Ge[Ke]];if(!bt)break;bt.obj.off(re,we,this),bt.interop&&bt.off(re,we)}return m.isEmpty(De)&&(this._listeningTo=void 0),this};var te=function(x,re,we,De){if(x){var Ge,Ke=De.context,bt=De.listeners,At=0;if(re||Ke||we){for(Ge=re?[re]:m.keys(x);At<Ge.length;At++){var Ft=x[re=Ge[At]];if(!Ft)break;for(var rn=[],On=0;On<Ft.length;On++){var kt=Ft[On];if(we&&we!==kt.callback&&we!==kt.callback._callback||Ke&&Ke!==kt.context)rn.push(kt);else{var Ae=kt.listening;Ae&&Ae.off(re,we)}}rn.length?x[re]=rn:delete x[re]}return x}for(Ge=m.keys(bt);At<Ge.length;At++)bt[Ge[At]].cleanup()}};ae.once=function(x,re,we){var De=R(xe,{},x,re,this.off.bind(this));return typeof x=="string"&&we==null&&(re=void 0),this.on(De,re,we)},ae.listenToOnce=function(x,re,we){var De=R(xe,{},re,we,this.stopListening.bind(this,x));return this.listenTo(x,De)};var xe=function(x,re,we,De){if(we){var Ge=x[re]=m.once(function(){De(re,Ge),we.apply(this,arguments)});Ge._callback=we}return x};ae.trigger=function(x){if(!this._events)return this;for(var re=Math.max(0,arguments.length-1),we=Array(re),De=0;De<re;De++)we[De]=arguments[De+1];return R(he,this._events,x,void 0,we),this};var he=function(x,re,we,De){if(x){var Ge=x[re],Ke=x.all;Ge&&Ke&&(Ke=Ke.slice()),Ge&&A(Ge,De),Ke&&A(Ke,[re].concat(De))}return x},A=function(x,re){var we,De=-1,Ge=x.length,Ke=re[0],bt=re[1],At=re[2];switch(re.length){case 0:for(;++De<Ge;)(we=x[De]).callback.call(we.ctx);return;case 1:for(;++De<Ge;)(we=x[De]).callback.call(we.ctx,Ke);return;case 2:for(;++De<Ge;)(we=x[De]).callback.call(we.ctx,Ke,bt);return;case 3:for(;++De<Ge;)(we=x[De]).callback.call(we.ctx,Ke,bt,At);return;default:for(;++De<Ge;)(we=x[De]).callback.apply(we.ctx,re);return}},z=function(x,re){this.id=x._listenId,this.listener=x,this.obj=re,this.interop=!0,this.count=0,this._events=void 0};z.prototype.on=ae.on,z.prototype.off=function(x,re){var we;this.interop?(this._events=R(te,this._events,x,re,{context:void 0,listeners:void 0}),we=!this._events):(this.count--,we=this.count===0),we&&this.cleanup()},z.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},ae.bind=ae.on,ae.unbind=ae.off,m.extend(j,ae);var B=j.Model=function(x,re){var we=x||{};re||(re={}),this.preinitialize.apply(this,arguments),this.cid=m.uniqueId(this.cidPrefix),this.attributes={},re.collection&&(this.collection=re.collection),re.parse&&(we=this.parse(we,re)||{});var De=m.result(this,"defaults");we=m.defaults(m.extend({},De,we),De),this.set(we,re),this.changed={},this.initialize.apply(this,arguments)};m.extend(B.prototype,ae,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(x){return m.clone(this.attributes)},sync:function(){return j.sync.apply(this,arguments)},get:function(x){return this.attributes[x]},escape:function(x){return m.escape(this.get(x))},has:function(x){return this.get(x)!=null},matches:function(x){return!!m.iteratee(x,this)(this.attributes)},set:function(x,re,we){if(x==null)return this;var De;if(typeof x=="object"?(De=x,we=re):(De={})[x]=re,we||(we={}),!this._validate(De,we))return!1;var Ge=we.unset,Ke=we.silent,bt=[],At=this._changing;this._changing=!0,At||(this._previousAttributes=m.clone(this.attributes),this.changed={});var Ft=this.attributes,rn=this.changed,On=this._previousAttributes;for(var kt in De)re=De[kt],m.isEqual(Ft[kt],re)||bt.push(kt),m.isEqual(On[kt],re)?delete rn[kt]:rn[kt]=re,Ge?delete Ft[kt]:Ft[kt]=re;if(this.idAttribute in De){var Ae=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,Ae,we)}if(!Ke){bt.length&&(this._pending=we);for(var We=0;We<bt.length;We++)this.trigger("change:"+bt[We],this,Ft[bt[We]],we)}if(At)return this;if(!Ke)for(;this._pending;)we=this._pending,this._pending=!1,this.trigger("change",this,we);return this._pending=!1,this._changing=!1,this},unset:function(x,re){return this.set(x,void 0,m.extend({},re,{unset:!0}))},clear:function(x){var re={};for(var we in this.attributes)re[we]=void 0;return this.set(re,m.extend({},x,{unset:!0}))},hasChanged:function(x){return x==null?!m.isEmpty(this.changed):m.has(this.changed,x)},changedAttributes:function(x){if(!x)return!!this.hasChanged()&&m.clone(this.changed);var re,we=this._changing?this._previousAttributes:this.attributes,De={};for(var Ge in x){var Ke=x[Ge];m.isEqual(we[Ge],Ke)||(De[Ge]=Ke,re=!0)}return!!re&&De},previous:function(x){return x!=null&&this._previousAttributes?this._previousAttributes[x]:null},previousAttributes:function(){return m.clone(this._previousAttributes)},fetch:function(x){x=m.extend({parse:!0},x);var re=this,we=x.success;return x.success=function(De){var Ge=x.parse?re.parse(De,x):De;if(!re.set(Ge,x))return!1;we&&we.call(x.context,re,De,x),re.trigger("sync",re,De,x)},je(this,x),this.sync("read",this,x)},save:function(x,re,we){var De;x==null||typeof x=="object"?(De=x,we=re):(De={})[x]=re;var Ge=(we=m.extend({validate:!0,parse:!0},we)).wait;if(De&&!Ge){if(!this.set(De,we))return!1}else if(!this._validate(De,we))return!1;var Ke=this,bt=we.success,At=this.attributes;we.success=function(On){Ke.attributes=At;var kt=we.parse?Ke.parse(On,we):On;if(Ge&&(kt=m.extend({},De,kt)),kt&&!Ke.set(kt,we))return!1;bt&&bt.call(we.context,Ke,On,we),Ke.trigger("sync",Ke,On,we)},je(this,we),De&&Ge&&(this.attributes=m.extend({},At,De));var Ft=this.isNew()?"create":we.patch?"patch":"update";Ft!=="patch"||we.attrs||(we.attrs=De);var rn=this.sync(Ft,this,we);return this.attributes=At,rn},destroy:function(x){x=x?m.clone(x):{};var re=this,we=x.success,De=x.wait,Ge=function(){re.stopListening(),re.trigger("destroy",re,re.collection,x)};x.success=function(bt){De&&Ge(),we&&we.call(x.context,re,bt,x),re.isNew()||re.trigger("sync",re,bt,x)};var Ke=!1;return this.isNew()?m.defer(x.success):(je(this,x),Ke=this.sync("delete",this,x)),De||Ge(),Ke},url:function(){var x=m.result(this,"urlRoot")||m.result(this.collection,"url")||Se();if(this.isNew())return x;var re=this.get(this.idAttribute);return x.replace(/[^\/]$/,"$&/")+encodeURIComponent(re)},parse:function(x,re){return x},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(x){return this._validate({},m.extend({},x,{validate:!0}))},_validate:function(x,re){if(!re.validate||!this.validate)return!0;x=m.extend({},this.attributes,x);var we=this.validationError=this.validate(x,re)||null;return!we||(this.trigger("invalid",this,we,m.extend(re,{validationError:we})),!1)}});var W=j.Collection=function(x,re){re||(re={}),this.preinitialize.apply(this,arguments),re.model&&(this.model=re.model),re.comparator!==void 0&&(this.comparator=re.comparator),this._reset(),this.initialize.apply(this,arguments),x&&this.reset(x,m.extend({silent:!0},re))},ie={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},O=function(x,re,we){we=Math.min(Math.max(we,0),x.length);var De,Ge=Array(x.length-we),Ke=re.length;for(De=0;De<Ge.length;De++)Ge[De]=x[De+we];for(De=0;De<Ke;De++)x[De+we]=re[De];for(De=0;De<Ge.length;De++)x[De+Ke+we]=Ge[De]};m.extend(W.prototype,ae,{model:B,preinitialize:function(){},initialize:function(){},toJSON:function(x){return this.map(function(re){return re.toJSON(x)})},sync:function(){return j.sync.apply(this,arguments)},add:function(x,re){return this.set(x,m.extend({merge:!1},re,E))},remove:function(x,re){re=m.extend({},re);var we=!m.isArray(x);x=we?[x]:x.slice();var De=this._removeModels(x,re);return!re.silent&&De.length&&(re.changes={added:[],merged:[],removed:De},this.trigger("update",this,re)),we?De[0]:De},set:function(x,re){if(x!=null){(re=m.extend({},ie,re)).parse&&!this._isModel(x)&&(x=this.parse(x,re)||[]);var we=!m.isArray(x);x=we?[x]:x.slice();var De=re.at;De!=null&&(De=+De),De>this.length&&(De=this.length),De<0&&(De+=this.length+1);var Ge,Ke,bt=[],At=[],Ft=[],rn=[],On={},kt=re.add,Ae=re.merge,We=re.remove,et=!1,rt=this.comparator&&De==null&&re.sort!==!1,Lt=m.isString(this.comparator)?this.comparator:null;for(Ke=0;Ke<x.length;Ke++){Ge=x[Ke];var Be=this.get(Ge);if(Be){if(Ae&&Ge!==Be){var nt=this._isModel(Ge)?Ge.attributes:Ge;re.parse&&(nt=Be.parse(nt,re)),Be.set(nt,re),Ft.push(Be),rt&&!et&&(et=Be.hasChanged(Lt))}On[Be.cid]||(On[Be.cid]=!0,bt.push(Be)),x[Ke]=Be}else kt&&(Ge=x[Ke]=this._prepareModel(Ge,re))&&(At.push(Ge),this._addReference(Ge,re),On[Ge.cid]=!0,bt.push(Ge))}if(We){for(Ke=0;Ke<this.length;Ke++)On[(Ge=this.models[Ke]).cid]||rn.push(Ge);rn.length&&this._removeModels(rn,re)}var lt=!1,Rt=!rt&&kt&&We;if(bt.length&&Rt?(lt=this.length!==bt.length||m.some(this.models,function(_t,mt){return _t!==bt[mt]}),this.models.length=0,O(this.models,bt,0),this.length=this.models.length):At.length&&(rt&&(et=!0),O(this.models,At,De==null?this.length:De),this.length=this.models.length),et&&this.sort({silent:!0}),!re.silent){for(Ke=0;Ke<At.length;Ke++)De!=null&&(re.index=De+Ke),(Ge=At[Ke]).trigger("add",Ge,this,re);(et||lt)&&this.trigger("sort",this,re),(At.length||rn.length||Ft.length)&&(re.changes={added:At,removed:rn,merged:Ft},this.trigger("update",this,re))}return we?x[0]:x}},reset:function(x,re){re=re?m.clone(re):{};for(var we=0;we<this.models.length;we++)this._removeReference(this.models[we],re);return re.previousModels=this.models,this._reset(),x=this.add(x,m.extend({silent:!0},re)),re.silent||this.trigger("reset",this,re),x},push:function(x,re){return this.add(x,m.extend({at:this.length},re))},pop:function(x){var re=this.at(this.length-1);return this.remove(re,x)},unshift:function(x,re){return this.add(x,m.extend({at:0},re))},shift:function(x){var re=this.at(0);return this.remove(re,x)},slice:function(){return V.apply(this.models,arguments)},get:function(x){if(x!=null)return this._byId[x]||this._byId[this.modelId(this._isModel(x)?x.attributes:x,x.idAttribute)]||x.cid&&this._byId[x.cid]},has:function(x){return this.get(x)!=null},at:function(x){return x<0&&(x+=this.length),this.models[x]},where:function(x,re){return this[re?"find":"filter"](x)},findWhere:function(x){return this.where(x,!0)},sort:function(x){var re=this.comparator;if(!re)throw new Error("Cannot sort a set without a comparator");x||(x={});var we=re.length;return m.isFunction(re)&&(re=re.bind(this)),we===1||m.isString(re)?this.models=this.sortBy(re):this.models.sort(re),x.silent||this.trigger("sort",this,x),this},pluck:function(x){return this.map(x+"")},fetch:function(x){var re=(x=m.extend({parse:!0},x)).success,we=this;return x.success=function(De){var Ge=x.reset?"reset":"set";we[Ge](De,x),re&&re.call(x.context,we,De,x),we.trigger("sync",we,De,x)},je(this,x),this.sync("read",this,x)},create:function(x,re){var we=(re=re?m.clone(re):{}).wait;if(!(x=this._prepareModel(x,re)))return!1;we||this.add(x,re);var De=this,Ge=re.success;return re.success=function(Ke,bt,At){we&&De.add(Ke,At),Ge&&Ge.call(At.context,Ke,bt,At)},x.save(null,re),x},parse:function(x,re){return x},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(x,re){return x[re||this.model.prototype.idAttribute||"id"]},values:function(){return new c(this,g)},keys:function(){return new c(this,S)},entries:function(){return new c(this,se)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(x,re){return this._isModel(x)?(x.collection||(x.collection=this),x):((re=re?m.clone(re):{}).collection=this,(we=this.model.prototype?new this.model(x,re):this.model(x,re)).validationError?(this.trigger("invalid",this,we.validationError,re),!1):we);var we},_removeModels:function(x,re){for(var we=[],De=0;De<x.length;De++){var Ge=this.get(x[De]);if(Ge){var Ke=this.indexOf(Ge);this.models.splice(Ke,1),this.length--,delete this._byId[Ge.cid];var bt=this.modelId(Ge.attributes,Ge.idAttribute);bt!=null&&delete this._byId[bt],re.silent||(re.index=Ke,Ge.trigger("remove",Ge,this,re)),we.push(Ge),this._removeReference(Ge,re)}}return we},_isModel:function(x){return x instanceof B},_addReference:function(x,re){this._byId[x.cid]=x;var we=this.modelId(x.attributes,x.idAttribute);we!=null&&(this._byId[we]=x),x.on("all",this._onModelEvent,this)},_removeReference:function(x,re){delete this._byId[x.cid];var we=this.modelId(x.attributes,x.idAttribute);we!=null&&delete this._byId[we],this===x.collection&&delete x.collection,x.off("all",this._onModelEvent,this)},_onModelEvent:function(x,re,we,De){if(re){if((x==="add"||x==="remove")&&we!==this)return;if(x==="destroy"&&this.remove(re,De),x==="changeId"){var Ge=this.modelId(re.previousAttributes(),re.idAttribute),Ke=this.modelId(re.attributes,re.idAttribute);Ge!=null&&delete this._byId[Ge],Ke!=null&&(this._byId[Ke]=re)}}this.trigger.apply(this,arguments)}});var a=typeof Symbol=="function"&&Symbol.iterator;a&&(W.prototype[a]=W.prototype.values);var c=function(x,re){this._collection=x,this._kind=re,this._index=0},g=1,S=2,se=3;a&&(c.prototype[a]=function(){return this}),c.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var x,re=this._collection.at(this._index);if(this._index++,this._kind===g)x=re;else{var we=this._collection.modelId(re.attributes,re.idAttribute);x=this._kind===S?we:[we,re]}return{value:x,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var le=j.View=function(x){this.cid=m.uniqueId("view"),this.preinitialize.apply(this,arguments),m.extend(this,m.pick(x,I)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,I=["model","collection","el","id","attributes","className","tagName","events"];m.extend(le.prototype,ae,{tagName:"div",$:function(x){return this.$el.find(x)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(x){return this.undelegateEvents(),this._setElement(x),this.delegateEvents(),this},_setElement:function(x){this.$el=x instanceof j.$?x:j.$(x),this.el=this.$el[0]},delegateEvents:function(x){if(x||(x=m.result(this,"events")),!x)return this;for(var re in this.undelegateEvents(),x){var we=x[re];if(m.isFunction(we)||(we=this[we]),we){var De=re.match(D);this.delegate(De[1],De[2],we.bind(this))}}return this},delegate:function(x,re,we){return this.$el.on(x+".delegateEvents"+this.cid,re,we),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(x,re,we){return this.$el.off(x+".delegateEvents"+this.cid,re,we),this},_createElement:function(x){return document.createElement(x)},_ensureElement:function(){if(this.el)this.setElement(m.result(this,"el"));else{var x=m.extend({},m.result(this,"attributes"));this.id&&(x.id=m.result(this,"id")),this.className&&(x.class=m.result(this,"className")),this.setElement(this._createElement(m.result(this,"tagName"))),this._setAttributes(x)}},_setAttributes:function(x){this.$el.attr(x)}});var C=function(x,re,we,De){switch(re){case 1:return function(){return x[we](this[De])};case 2:return function(Ge){return x[we](this[De],Ge)};case 3:return function(Ge,Ke){return x[we](this[De],f(Ge,this),Ke)};case 4:return function(Ge,Ke,bt){return x[we](this[De],f(Ge,this),Ke,bt)};default:return function(){var Ge=V.call(arguments);return Ge.unshift(this[De]),x[we].apply(x,Ge)}}},l=function(x,re,we,De){m.each(we,function(Ge,Ke){re[Ke]&&(x.prototype[Ke]=C(re,Ge,Ke,De))})},f=function(x,re){return m.isFunction(x)?x:m.isObject(x)&&!re._isModel(x)?h(x):m.isString(x)?function(we){return we.get(x)}:x},h=function(x){var re=m.matches(x);return function(we){return re(we.attributes)}},u={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},d={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};m.each([[W,u,"models"],[B,d,"attributes"]],function(x){var re=x[0],we=x[1],De=x[2];re.mixin=function(Ge){var Ke=m.reduce(m.functions(Ge),function(bt,At){return bt[At]=0,bt},{});l(re,Ge,Ke,De)},l(re,m,we,De)}),j.sync=function(x,re,we){var De=P[x];m.defaults(we||(we={}),{emulateHTTP:j.emulateHTTP,emulateJSON:j.emulateJSON});var Ge={type:De,dataType:"json"};if(we.url||(Ge.url=m.result(re,"url")||Se()),we.data!=null||!re||x!=="create"&&x!=="update"&&x!=="patch"||(Ge.contentType="application/json",Ge.data=JSON.stringify(we.attrs||re.toJSON(we))),we.emulateJSON&&(Ge.contentType="application/x-www-form-urlencoded",Ge.data=Ge.data?{model:Ge.data}:{}),we.emulateHTTP&&(De==="PUT"||De==="DELETE"||De==="PATCH")){Ge.type="POST",we.emulateJSON&&(Ge.data._method=De);var Ke=we.beforeSend;we.beforeSend=function(Ft){if(Ft.setRequestHeader("X-HTTP-Method-Override",De),Ke)return Ke.apply(this,arguments)}}Ge.type==="GET"||we.emulateJSON||(Ge.processData=!1);var bt=we.error;we.error=function(Ft,rn,On){we.textStatus=rn,we.errorThrown=On,bt&&bt.call(we.context,Ft,rn,On)};var At=we.xhr=j.ajax(m.extend(Ge,we));return re.trigger("request",re,At,we),At};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};j.ajax=function(){return j.$.ajax.apply(j.$,arguments)};var q=j.Router=function(x){x||(x={}),this.preinitialize.apply(this,arguments),x.routes&&(this.routes=x.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},K=/\((.*?)\)/g,H=/(\(\?)?:\w+/g,w=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;m.extend(q.prototype,ae,{preinitialize:function(){},initialize:function(){},route:function(x,re,we){m.isRegExp(x)||(x=this._routeToRegExp(x)),m.isFunction(re)&&(we=re,re=""),we||(we=this[re]);var De=this;return j.history.route(x,function(Ge){var Ke=De._extractParameters(x,Ge);De.execute(we,Ke,re)!==!1&&(De.trigger.apply(De,["route:"+re].concat(Ke)),De.trigger("route",re,Ke),j.history.trigger("route",De,re,Ke))}),this},execute:function(x,re,we){x&&x.apply(this,re)},navigate:function(x,re){return j.history.navigate(x,re),this},_bindRoutes:function(){if(this.routes){this.routes=m.result(this,"routes");for(var x,re=m.keys(this.routes);(x=re.pop())!=null;)this.route(x,this.routes[x])}},_routeToRegExp:function(x){return x=x.replace(M,"\\$&").replace(K,"(?:$1)?").replace(H,function(re,we){return we?re:"([^/?]+)"}).replace(w,"([^?]*?)"),new RegExp("^"+x+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(x,re){var we=x.exec(re).slice(1);return m.map(we,function(De,Ge){return Ge===we.length-1?De||null:De?decodeURIComponent(De):null})}});var J=j.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},Oe=/^[#\/]|\s+$/g,Re=/^\/+|\/+$/g,Ye=/#.*$/;J.started=!1,m.extend(J.prototype,ae,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(x){return decodeURI(x.replace(/%25/g,"%2525"))},getSearch:function(){var x=this.location.href.replace(/#.*/,"").match(/\?.+/);return x?x[0]:""},getHash:function(x){var re=(x||this).location.href.match(/#(.*)$/);return re?re[1]:""},getPath:function(){var x=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return x.charAt(0)==="/"?x.slice(1):x},getFragment:function(x){return x==null&&(x=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),x.replace(Oe,"")},start:function(x){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=m.extend({root:"/"},this.options,x),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Re,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var re=this.root.slice(0,-1)||"/";return this.location.replace(re+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var we=document.body,De=we.insertBefore(this.iframe,we.firstChild).contentWindow;De.document.open(),De.document.close(),De.location.hash="#"+this.fragment}var Ge=window.addEventListener||function(Ke,bt){return attachEvent("on"+Ke,bt)};if(this._usePushState?Ge("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ge("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var x=window.removeEventListener||function(re,we){return detachEvent("on"+re,we)};this._usePushState?x("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&x("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(x,re){this.handlers.unshift({route:x,callback:re})},checkUrl:function(x){var re=this.getFragment();if(re===this.fragment&&this.iframe&&(re=this.getHash(this.iframe.contentWindow)),re===this.fragment)return!1;this.iframe&&this.navigate(re),this.loadUrl()},loadUrl:function(x){return!!this.matchRoot()&&(x=this.fragment=this.getFragment(x),m.some(this.handlers,function(re){if(re.route.test(x))return re.callback(x),!0}))},navigate:function(x,re){if(!J.started)return!1;re&&re!==!0||(re={trigger:!!re}),x=this.getFragment(x||"");var we=this.root;x!==""&&x.charAt(0)!=="?"||(we=we.slice(0,-1)||"/");var De=we+x;x=x.replace(Ye,"");var Ge=this.decodeFragment(x);if(this.fragment!==Ge){if(this.fragment=Ge,this._usePushState)this.history[re.replace?"replaceState":"pushState"]({},document.title,De);else{if(!this._wantsHashChange)return this.location.assign(De);if(this._updateHash(this.location,x,re.replace),this.iframe&&x!==this.getHash(this.iframe.contentWindow)){var Ke=this.iframe.contentWindow;re.replace||(Ke.document.open(),Ke.document.close()),this._updateHash(Ke.location,x,re.replace)}}return re.trigger?this.loadUrl(x):void 0}},_updateHash:function(x,re,we){if(we){var De=x.href.replace(/(javascript:|#).*$/,"");x.replace(De+"#"+re)}else x.hash="#"+re}}),j.history=new J;var Ve=function(x,re){var we,De=this;return we=x&&m.has(x,"constructor")?x.constructor:function(){return De.apply(this,arguments)},m.extend(we,De,re),we.prototype=m.create(De.prototype,x),we.prototype.constructor=we,we.__super__=De.prototype,we};B.extend=W.extend=q.extend=le.extend=J.extend=Ve;var Se=function(){throw new Error('A "url" property or function must be specified')},je=function(x,re){var we=re.error;re.error=function(De){we&&we.call(re.context,x,De,re),x.trigger("error",x,De,re)}};return j}(de,X,ue,ne)}.apply(Ze,ve),_e===void 0||(gt.exports=_e)})()},9210:(gt,Ze,_)=>{(function(ve){ve.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(fe,de){return/^[;{}]$/.test(de)}}),ve.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(fe,de,ue,ne){return this.jsonMode?/^[\[,{]$/.test(de)||/^}/.test(ue):(de!=";"||!ne.lexical||ne.lexical.type!=")")&&/^[;{}]$/.test(de)&&!/^;/.test(ue)}});var _e=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;ve.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(fe,de,ue,ne){var X=!1;return this.configuration=="html"&&(X=!!ne.context&&_e.test(ne.context.tagName)),!X&&(fe=="tag"&&/>$/.test(de)&&ne.context||/^</.test(ue))}}),ve.defineExtension("commentRange",function(fe,de,ue){var ne=this,X=ve.innerMode(ne.getMode(),ne.getTokenAt(de).state).mode;ne.operation(function(){if(fe)ne.replaceRange(X.commentEnd,ue),ne.replaceRange(X.commentStart,de),de.line==ue.line&&de.ch==ue.ch&&ne.setCursor(de.line,de.ch+X.commentStart.length);else{var ee=ne.getRange(de,ue),j=ee.indexOf(X.commentStart),m=ee.lastIndexOf(X.commentEnd);j>-1&&m>-1&&m>j&&(ee=ee.substr(0,j)+ee.substring(j+X.commentStart.length,m)+ee.substr(m+X.commentEnd.length)),ne.replaceRange(ee,de,ue)}})}),ve.defineExtension("autoIndentRange",function(fe,de){var ue=this;this.operation(function(){for(var ne=fe.line;ne<=de.line;ne++)ue.indentLine(ne,"smart")})}),ve.defineExtension("autoFormatRange",function(fe,de){var ue=this,ne=ue.getMode(),X=ue.getRange(fe,de).split(`
`),ee=ve.copyState(ne,ue.getTokenAt(fe).state),j=ue.getOption("tabSize"),m="",b=0,T=fe.ch===0;function V(){m+=`
`,T=!0,++b}for(var s=0;s<X.length;++s){for(var ae=new ve.StringStream(X[s],j);!ae.eol();){var $=ve.innerMode(ne,ee),R=ne.token(ae,ee),Z=ae.current();ae.start=ae.pos,T&&!/\S/.test(Z)||(m+=Z,T=!1),!T&&$.mode.newlineAfterToken&&$.mode.newlineAfterToken(R,Z,ae.string.slice(ae.pos)||X[s+1]||"",$.state)&&V()}!ae.pos&&ne.blankLine&&ne.blankLine(ee),!T&&s<X.length-1&&V()}ue.operation(function(){ue.replaceRange(m,fe,de);for(var L=fe.line+1,te=fe.line+b;L<=te;++L)ue.indentLine(L,"smart");ue.setSelection(fe,ue.getCursor(!1))})})})(_(4631))},4631:function(gt){gt.exports=function(){var Ze=navigator.userAgent,_=navigator.platform,ve=/gecko\/\d/i.test(Ze),_e=/MSIE \d/.test(Ze),fe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ze),de=/Edge\/(\d+)/.exec(Ze),ue=_e||fe||de,ne=ue&&(_e?document.documentMode||6:+(de||fe)[1]),X=!de&&/WebKit\//.test(Ze),ee=X&&/Qt\/\d+\.\d+/.test(Ze),j=!de&&/Chrome\/(\d+)/.exec(Ze),m=j&&+j[1],b=/Opera\//.test(Ze),T=/Apple Computer/.test(navigator.vendor),V=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ze),s=/PhantomJS/.test(Ze),ae=T&&(/Mobile\/\w+/.test(Ze)||navigator.maxTouchPoints>2),$=/Android/.test(Ze),R=ae||$||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ze),Z=ae||/Mac/.test(_),L=/\bCrOS\b/.test(Ze),te=/win/i.test(_),xe=b&&Ze.match(/Version\/(\d*\.\d*)/);xe&&(xe=Number(xe[1])),xe&&xe>=15&&(b=!1,X=!0);var he=Z&&(ee||b&&(xe==null||xe<12.11)),A=ve||ue&&ne>=9;function z(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var B,W=function(e,t){var r=e.className,n=z(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function ie(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return ie(e).appendChild(t)}function O(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var v=0;v<t.length;++v)i.appendChild(t[v]);return i}function a(e,t,r,n){var i=O(e,t,r,n);return i.setAttribute("role","presentation"),i}function c(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function g(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function S(e,t){var r=e.className;z(t).test(r)||(e.className+=(r?" ":"")+t)}function se(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!z(r[n]).test(t)&&(t+=" "+r[n]);return t}B=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch{return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var le=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function I(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function C(e,t,r,n,i){t==null&&(t=e.search(/[^\s\u00a0]/))==-1&&(t=e.length);for(var v=n||0,U=i||0;;){var Y=e.indexOf("	",v);if(Y<0||Y>=t)return U+(t-v);U+=Y-v,U+=r-U%r,v=Y+1}}ae?le=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ue&&(le=function(e){try{e.select()}catch{}});var l=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function f(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}l.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},l.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var h=50,u={toString:function(){return"CodeMirror.Pass"}},d={scroll:!1},P={origin:"*mouse"},q={origin:"+move"};function K(e,t,r){for(var n=0,i=0;;){var v=e.indexOf("	",n);v==-1&&(v=e.length);var U=v-n;if(v==e.length||i+U>=t)return n+Math.min(U,t-i);if(i+=v-n,n=v+1,(i+=r-i%r)>=t)return n}}var H=[""];function w(e){for(;H.length<=e;)H.push(M(H)+" ");return H[e]}function M(e){return e[e.length-1]}function J(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function Oe(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function Re(){}function Ye(e,t){var r;return Object.create?r=Object.create(e):(Re.prototype=e,r=new Re),t&&I(t,r),r}var Ve=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Se(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ve.test(e))}function je(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Se(e))||t.test(e):Se(e)}function x(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function we(e){return e.charCodeAt(0)>=768&&re.test(e)}function De(e,t,r){for(;(r<0?t>0:t<e.length)&&we(e.charAt(t));)t+=r;return t}function Ge(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,v=n<0?Math.ceil(i):Math.floor(i);if(v==t)return e(v)?t:r;e(v)?r=v:t=v+n}}function Ke(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,v=0;v<e.length;++v){var U=e[v];(U.from<r&&U.to>t||t==r&&U.to==t)&&(n(Math.max(U.from,t),Math.min(U.to,r),U.level==1?"rtl":"ltr",v),i=!0)}i||n(t,r,"ltr")}var bt=null;function At(e,t,r){var n;bt=null;for(var i=0;i<e.length;++i){var v=e[i];if(v.from<t&&v.to>t)return i;v.to==t&&(v.from!=v.to&&r=="before"?n=i:bt=i),v.from==t&&(v.from!=v.to&&r!="before"?n=i:bt=i)}return n!=null?n:bt}var Ft=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(be){return be<=247?e.charAt(be):1424<=be&&be<=1524?"R":1536<=be&&be<=1785?t.charAt(be-1536):1774<=be&&be<=2220?"r":8192<=be&&be<=8203?"w":be==8204?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,v=/[LRr]/,U=/[Lb1n]/,Y=/[1n]/;function me(be,Ue,$e){this.level=be,this.from=Ue,this.to=$e}return function(be,Ue){var $e=Ue=="ltr"?"L":"R";if(be.length==0||Ue=="ltr"&&!n.test(be))return!1;for(var ut=be.length,ct=[],yt=0;yt<ut;++yt)ct.push(r(be.charCodeAt(yt)));for(var Mt=0,Ht=$e;Mt<ut;++Mt){var Xt=ct[Mt];Xt=="m"?ct[Mt]=Ht:Ht=Xt}for(var en=0,Gt=$e;en<ut;++en){var an=ct[en];an=="1"&&Gt=="r"?ct[en]="n":v.test(an)&&(Gt=an,an=="r"&&(ct[en]="R"))}for(var on=1,dn=ct[0];on<ut-1;++on){var pr=ct[on];pr=="+"&&dn=="1"&&ct[on+1]=="1"?ct[on]="1":pr!=","||dn!=ct[on+1]||dn!="1"&&dn!="n"||(ct[on]=dn),dn=pr}for(var dr=0;dr<ut;++dr){var pi=ct[dr];if(pi==",")ct[dr]="N";else if(pi=="%"){var wr=void 0;for(wr=dr+1;wr<ut&&ct[wr]=="%";++wr);for(var ki=dr&&ct[dr-1]=="!"||wr<ut&&ct[wr]=="1"?"1":"N",di=dr;di<wr;++di)ct[di]=ki;dr=wr-1}}for(var jr=0,li=$e;jr<ut;++jr){var ri=ct[jr];li=="L"&&ri=="1"?ct[jr]="L":v.test(ri)&&(li=ri)}for(var Lr=0;Lr<ut;++Lr)if(i.test(ct[Lr])){var Rr=void 0;for(Rr=Lr+1;Rr<ut&&i.test(ct[Rr]);++Rr);for(var Zr=(Lr?ct[Lr-1]:$e)=="L",ui=Zr==((Rr<ut?ct[Rr]:$e)=="L")?Zr?"L":"R":$e,Gi=Lr;Gi<Rr;++Gi)ct[Gi]=ui;Lr=Rr-1}for(var _i,ei=[],Nr=0;Nr<ut;)if(U.test(ct[Nr])){var Va=Nr;for(++Nr;Nr<ut&&U.test(ct[Nr]);++Nr);ei.push(new me(0,Va,Nr))}else{var Ni=Nr,ao=ei.length,so=Ue=="rtl"?1:0;for(++Nr;Nr<ut&&ct[Nr]!="L";++Nr);for(var ii=Ni;ii<Nr;)if(Y.test(ct[ii])){Ni<ii&&(ei.splice(ao,0,new me(1,Ni,ii)),ao+=so);var Co=ii;for(++ii;ii<Nr&&Y.test(ct[ii]);++ii);ei.splice(ao,0,new me(2,Co,ii)),ao+=so,Ni=ii}else++ii;Ni<Nr&&ei.splice(ao,0,new me(1,Ni,Nr))}return Ue=="ltr"&&(ei[0].level==1&&(_i=be.match(/^\s+/))&&(ei[0].from=_i[0].length,ei.unshift(new me(0,0,_i[0].length))),M(ei).level==1&&(_i=be.match(/\s+$/))&&(M(ei).to-=_i[0].length,ei.push(new me(0,ut-_i[0].length,ut)))),Ue=="rtl"?ei.reverse():ei}}();function rn(e,t){var r=e.order;return r==null&&(r=e.order=Ft(e.text,t)),r}var On=[],kt=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||On).concat(r)}};function Ae(e,t){return e._handlers&&e._handlers[t]||On}function We(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var v=f(i,r);v>-1&&(n[t]=i.slice(0,v).concat(i.slice(v+1)))}}}function et(e,t){var r=Ae(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function rt(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),et(e,r||t.type,e,t),_t(t)||t.codemirrorIgnore}function Lt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)f(r,t[n])==-1&&r.push(t[n])}function Be(e,t){return Ae(e,t).length>0}function nt(e){e.prototype.on=function(t,r){kt(this,t,r)},e.prototype.off=function(t,r){We(this,t,r)}}function lt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Rt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function _t(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==0}function mt(e){lt(e),Rt(e)}function fn(e){return e.target||e.srcElement}function wn(e){var t=e.which;return t==null&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Z&&e.ctrlKey&&t==1&&(t=3),t}var pn,Rn,Sn=function(){if(ue&&ne<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in e}();function Fn(e){if(pn==null){var t=O("span","\u200B");E(e,O("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(pn=t.offsetWidth<=1&&t.offsetHeight>2&&!(ue&&ne<8))}var r=pn?O("span","\u200B"):O("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function gn(e){if(Rn!=null)return Rn;var t=E(e,document.createTextNode("A\u062EA")),r=B(t,0,1).getBoundingClientRect(),n=B(t,1,2).getBoundingClientRect();return ie(e),!(!r||r.left==r.right)&&(Rn=n.right-r.right<3)}var Wt,nn=`

b`.split(/\n/).length!=3?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf(`
`,t);i==-1&&(i=e.length);var v=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),U=v.indexOf("\r");U!=-1?(r.push(v.slice(0,U)),t+=U+1):(r.push(v),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},$n=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!(!t||t.parentElement()!=e)&&t.compareEndPoints("StartToEnd",t)!=0},tr="oncopy"in(Wt=O("div"))||(Wt.setAttribute("oncopy","return;"),typeof Wt.oncopy=="function"),Wn=null;function nr(e){if(Wn!=null)return Wn;var t=E(e,O("span","x")),r=t.getBoundingClientRect(),n=B(t,0,1).getBoundingClientRect();return Wn=Math.abs(r.left-n.left)>1}var In={},Hn={};function br(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),In[e]=t}function qn(e,t){Hn[e]=t}function Un(e){if(typeof e=="string"&&Hn.hasOwnProperty(e))e=Hn[e];else if(e&&typeof e.name=="string"&&Hn.hasOwnProperty(e.name)){var t=Hn[e.name];typeof t=="string"&&(t={name:t}),(e=Ye(t,e)).name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Un("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Un("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function gr(e,t){t=Un(t);var r=In[t.name];if(!r)return gr(e,"text/plain");var n=r(e,t);if(Bn.hasOwnProperty(t.name)){var i=Bn[t.name];for(var v in i)i.hasOwnProperty(v)&&(n.hasOwnProperty(v)&&(n["_"+v]=n[v]),n[v]=i[v])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var U in t.modeProps)n[U]=t.modeProps[U];return n}var Bn={};function fr(e,t){I(t,Bn.hasOwnProperty(e)?Bn[e]:Bn[e]={})}function ir(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ir(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function hr(e,t,r){return!e.startState||e.startState(t,r)}var Mn=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Yt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],v=i.chunkSize();if(t<v){r=i;break}t-=v}return r.lines[t]}function Nn(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(v){var U=v.text;i==r.line&&(U=U.slice(0,r.ch)),i==t.line&&(U=U.slice(t.ch)),n.push(U),++i}),n}function sr(e,t,r){var n=[];return e.iter(t,r,function(i){n.push(i.text)}),n}function Ln(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function un(e){if(e.parent==null)return null;for(var t=e.parent,r=f(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function cn(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],v=i.height;if(t<v){e=i;continue e}t-=v,r+=i.chunkSize()}return r}while(!e.lines);for(var U=0;U<e.lines.length;++U){var Y=e.lines[U].height;if(t<Y)break;t-=Y}return r+U}function Mr(e,t){return t>=e.first&&t<e.first+e.size}function Fr(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Tt(e,t,r){if(r===void 0&&(r=null),!(this instanceof Tt))return new Tt(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ye(e,t){return e.line-t.line||e.ch-t.ch}function ze(e,t){return e.sticky==t.sticky&&ye(e,t)==0}function xt(e){return Tt(e.line,e.ch)}function Vt(e,t){return ye(e,t)<0?t:e}function $t(e,t){return ye(e,t)<0?e:t}function vn(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function qt(e,t){if(t.line<e.first)return Tt(e.first,0);var r=e.first+e.size-1;return t.line>r?Tt(r,Yt(e,r).text.length):rr(t,Yt(e,t.line).text.length)}function rr(e,t){var r=e.ch;return r==null||r>t?Tt(e.line,t):r<0?Tt(e.line,0):e}function Jn(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=qt(e,t[n]);return r}Mn.prototype.eol=function(){return this.pos>=this.string.length},Mn.prototype.sol=function(){return this.pos==this.lineStart},Mn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Mn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Mn.prototype.eat=function(e){var t=this.string.charAt(this.pos);if(typeof e=="string"?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Mn.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Mn.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Mn.prototype.skipToEnd=function(){this.pos=this.string.length},Mn.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Mn.prototype.backUp=function(e){this.pos-=e},Mn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=C(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?C(this.string,this.lineStart,this.tabSize):0)},Mn.prototype.indentation=function(){return C(this.string,null,this.tabSize)-(this.lineStart?C(this.string,this.lineStart,this.tabSize):0)},Mn.prototype.match=function(e,t,r){if(typeof e!="string"){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(v){return r?v.toLowerCase():v};if(i(this.string.substr(this.pos,e.length))==i(e))return t!==!1&&(this.pos+=e.length),!0},Mn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Mn.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Mn.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Mn.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var kr=function(e,t){this.state=e,this.lookAhead=t},vr=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Ur(e,t,r,n){var i=[e.state.modeGen],v={};Me(e,t.text,e.doc.mode,r,function(be,Ue){return i.push(be,Ue)},v,n);for(var U=r.state,Y=function(be){r.baseTokens=i;var Ue=e.state.overlays[be],$e=1,ut=0;r.state=!0,Me(e,t.text,Ue.mode,r,function(ct,yt){for(var Mt=$e;ut<ct;){var Ht=i[$e];Ht>ct&&i.splice($e,1,ct,i[$e+1],Ht),$e+=2,ut=Math.min(ct,Ht)}if(yt)if(Ue.opaque)i.splice(Mt,$e-Mt,ct,"overlay "+yt),$e=Mt+2;else for(;Mt<$e;Mt+=2){var Xt=i[Mt+1];i[Mt+1]=(Xt?Xt+" ":"")+"overlay "+yt}},v),r.state=U,r.baseTokens=null,r.baseTokenPos=1},me=0;me<e.state.overlays.length;++me)Y(me);return{styles:i,classes:v.bgClass||v.textClass?v:null}}function Kr(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Br(e,un(t)),i=t.text.length>e.options.maxHighlightLength&&ir(e.doc.mode,n.state),v=Ur(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=v.styles,v.classes?t.styleClasses=v.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Br(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new vr(n,!0,t);var v=Fe(e,t,r),U=v>n.first&&Yt(n,v-1).stateAfter,Y=U?vr.fromSaved(n,U,v):new vr(n,hr(n.mode),v);return n.iter(v,t,function(me){Cr(e,me.text,Y);var be=Y.line;me.stateAfter=be==t-1||be%5==0||be>=i.viewFrom&&be<i.viewTo?Y.save():null,Y.nextLine()}),r&&(n.modeFrontier=Y.line),Y}function Cr(e,t,r,n){var i=e.doc.mode,v=new Mn(t,e.options.tabSize,r);for(v.start=v.pos=n||0,t==""&&Tr(i,r.state);!v.eol();)Qn(i,v,r.state),v.start=v.pos}function Tr(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ir(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Qn(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ir(e,r).mode);var v=e.token(t,r);if(t.pos>t.start)return v}throw new Error("Mode "+e.name+" failed to advance stream.")}vr.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vr.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vr.fromSaved=function(e,t,r){return t instanceof kr?new vr(e,ir(e.mode,t.state),r,t.lookAhead):new vr(e,ir(e.mode,t),r)},vr.prototype.save=function(e){var t=e!==!1?ir(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new kr(t,this.maxLookAhead):t};var Or=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Vr(e,t,r,n){var i,v,U=e.doc,Y=U.mode,me=Yt(U,(t=qt(U,t)).line),be=Br(e,t.line,r),Ue=new Mn(me.text,e.options.tabSize,be);for(n&&(v=[]);(n||Ue.pos<t.ch)&&!Ue.eol();)Ue.start=Ue.pos,i=Qn(Y,Ue,be.state),n&&v.push(new Or(Ue,i,ir(U.mode,be.state)));return n?v:new Or(Ue,i,be.state)}function Wr(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";t[n]==null?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Me(e,t,r,n,i,v,U){var Y=r.flattenSpans;Y==null&&(Y=e.options.flattenSpans);var me,be=0,Ue=null,$e=new Mn(t,e.options.tabSize,n),ut=e.options.addModeClass&&[null];for(t==""&&Wr(Tr(r,n.state),v);!$e.eol();){if($e.pos>e.options.maxHighlightLength?(Y=!1,U&&Cr(e,t,n,$e.pos),$e.pos=t.length,me=null):me=Wr(Qn(r,$e,n.state,ut),v),ut){var ct=ut[0].name;ct&&(me="m-"+(me?ct+" "+me:ct))}if(!Y||Ue!=me){for(;be<$e.start;)i(be=Math.min($e.start,be+5e3),Ue);Ue=me}$e.start=$e.pos}for(;be<$e.pos;){var yt=Math.min($e.pos,be+5e3);i(yt,Ue),be=yt}}function Fe(e,t,r){for(var n,i,v=e.doc,U=r?-1:t-(e.doc.mode.innerMode?1e3:100),Y=t;Y>U;--Y){if(Y<=v.first)return v.first;var me=Yt(v,Y-1),be=me.stateAfter;if(be&&(!r||Y+(be instanceof kr?be.lookAhead:0)<=v.modeFrontier))return Y;var Ue=C(me.text,null,e.options.tabSize);(i==null||n>Ue)&&(i=Y-1,n=Ue)}return i}function pe(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Yt(e,n).stateAfter;if(i&&(!(i instanceof kr)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var y=!1,Q=!1;function Te(){y=!0}function Ie(){Q=!0}function tt(e,t,r){this.marker=e,this.from=t,this.to=r}function pt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Pt(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Ct(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function Zt(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var v=e[i],U=v.marker;if(v.from==null||(U.inclusiveLeft?v.from<=t:v.from<t)||v.from==t&&U.type=="bookmark"&&(!r||!v.marker.insertLeft)){var Y=v.to==null||(U.inclusiveRight?v.to>=t:v.to>t);(n||(n=[])).push(new tt(U,v.from,Y?null:v.to))}}return n}function It(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var v=e[i],U=v.marker;if(v.to==null||(U.inclusiveRight?v.to>=t:v.to>t)||v.from==t&&U.type=="bookmark"&&(!r||v.marker.insertLeft)){var Y=v.from==null||(U.inclusiveLeft?v.from<=t:v.from<t);(n||(n=[])).push(new tt(U,Y?null:v.from-t,v.to==null?null:v.to-t))}}return n}function Ut(e,t){if(t.full)return null;var r=Mr(e,t.from.line)&&Yt(e,t.from.line).markedSpans,n=Mr(e,t.to.line)&&Yt(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,v=t.to.ch,U=ye(t.from,t.to)==0,Y=Zt(r,i,U),me=It(n,v,U),be=t.text.length==1,Ue=M(t.text).length+(be?i:0);if(Y)for(var $e=0;$e<Y.length;++$e){var ut=Y[$e];if(ut.to==null){var ct=pt(me,ut.marker);ct?be&&(ut.to=ct.to==null?null:ct.to+Ue):ut.to=i}}if(me)for(var yt=0;yt<me.length;++yt){var Mt=me[yt];Mt.to!=null&&(Mt.to+=Ue),Mt.from==null?pt(Y,Mt.marker)||(Mt.from=Ue,be&&(Y||(Y=[])).push(Mt)):(Mt.from+=Ue,be&&(Y||(Y=[])).push(Mt))}Y&&(Y=xn(Y)),me&&me!=Y&&(me=xn(me));var Ht=[Y];if(!be){var Xt,en=t.text.length-2;if(en>0&&Y)for(var Gt=0;Gt<Y.length;++Gt)Y[Gt].to==null&&(Xt||(Xt=[])).push(new tt(Y[Gt].marker,null,null));for(var an=0;an<en;++an)Ht.push(Xt);Ht.push(me)}return Ht}function xn(e){for(var t=0;t<e.length;++t){var r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function hn(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(ct){if(ct.markedSpans)for(var yt=0;yt<ct.markedSpans.length;++yt){var Mt=ct.markedSpans[yt].marker;!Mt.readOnly||n&&f(n,Mt)!=-1||(n||(n=[])).push(Mt)}}),!n)return null;for(var i=[{from:t,to:r}],v=0;v<n.length;++v)for(var U=n[v],Y=U.find(0),me=0;me<i.length;++me){var be=i[me];if(!(ye(be.to,Y.from)<0||ye(be.from,Y.to)>0)){var Ue=[me,1],$e=ye(be.from,Y.from),ut=ye(be.to,Y.to);($e<0||!U.inclusiveLeft&&!$e)&&Ue.push({from:be.from,to:Y.from}),(ut>0||!U.inclusiveRight&&!ut)&&Ue.push({from:Y.to,to:be.to}),i.splice.apply(i,Ue),me+=Ue.length-3}}return i}function kn(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Ce(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Pe(e){return e.inclusiveLeft?-1:0}function F(e){return e.inclusiveRight?1:0}function G(e,t){var r=e.lines.length-t.lines.length;if(r!=0)return r;var n=e.find(),i=t.find(),v=ye(n.from,i.from)||Pe(e)-Pe(t);if(v)return-v;var U=ye(n.to,i.to)||F(e)-F(t);return U||t.id-e.id}function Ne(e,t){var r,n=Q&&e.markedSpans;if(n)for(var i=void 0,v=0;v<n.length;++v)(i=n[v]).marker.collapsed&&(t?i.from:i.to)==null&&(!r||G(r,i.marker)<0)&&(r=i.marker);return r}function st(e){return Ne(e,!0)}function wt(e){return Ne(e,!1)}function zt(e,t){var r,n=Q&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var v=n[i];v.marker.collapsed&&(v.from==null||v.from<t)&&(v.to==null||v.to>t)&&(!r||G(r,v.marker)<0)&&(r=v.marker)}return r}function o(e,t,r,n,i){var v=Yt(e,t),U=Q&&v.markedSpans;if(U)for(var Y=0;Y<U.length;++Y){var me=U[Y];if(me.marker.collapsed){var be=me.marker.find(0),Ue=ye(be.from,r)||Pe(me.marker)-Pe(i),$e=ye(be.to,n)||F(me.marker)-F(i);if(!(Ue>=0&&$e<=0||Ue<=0&&$e>=0)&&(Ue<=0&&(me.marker.inclusiveRight&&i.inclusiveLeft?ye(be.to,r)>=0:ye(be.to,r)>0)||Ue>=0&&(me.marker.inclusiveRight&&i.inclusiveLeft?ye(be.from,n)<=0:ye(be.from,n)<0)))return!0}}}function p(e){for(var t;t=st(e);)e=t.find(-1,!0).line;return e}function k(e){for(var t;t=wt(e);)e=t.find(1,!0).line;return e}function N(e){for(var t,r;t=wt(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function oe(e,t){var r=Yt(e,t),n=p(r);return r==n?t:un(n)}function ce(e,t){if(t>e.lastLine())return t;var r,n=Yt(e,t);if(!ke(e,n))return t;for(;r=wt(n);)n=r.find(1,!0).line;return un(n)+1}function ke(e,t){var r=Q&&t.markedSpans;if(r){for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed&&(n.from==null||!n.marker.widgetNode&&n.from==0&&n.marker.inclusiveLeft&&Xe(e,t,n)))return!0}}function Xe(e,t,r){if(r.to==null){var n=r.marker.find(1,!0);return Xe(e,n.line,pt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,v=0;v<t.markedSpans.length;++v)if((i=t.markedSpans[v]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(i.to==null||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Xe(e,t,i))return!0}function He(e){for(var t=0,r=(e=p(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var v=r.parent;v;v=(r=v).parent)for(var U=0;U<v.children.length;++U){var Y=v.children[U];if(Y==r)break;t+=Y.height}return t}function at(e){if(e.height==0)return 0;for(var t,r=e.text.length,n=e;t=st(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=wt(n);){var v=t.find(0,!0);r-=n.text.length-v.from.ch,r+=(n=v.to.line).text.length-v.to.ch}return r}function vt(e){var t=e.display,r=e.doc;t.maxLine=Yt(r,r.first),t.maxLineLength=at(t.maxLine),t.maxLineChanged=!0,r.iter(function(n){var i=at(n);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=n)})}var jt=function(e,t,r){this.text=e,Ce(this,t),this.height=r?r(this):1};function dt(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),kn(e),Ce(e,r);var i=n?n(e):1;i!=e.height&&Ln(e,i)}function Ot(e){e.parent=null,kn(e)}jt.prototype.lineNo=function(){return un(this)},nt(jt);var tn={},_n={};function Qt(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?_n:tn;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function mr(e,t){var r=a("span",null,null,X?"padding-right: .1px":null),n={pre:a("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var v=i?t.rest[i-1]:t.line,U=void 0;n.pos=0,n.addToken=Hr,gn(e.display.measure)&&(U=rn(v,e.doc.direction))&&(n.addToken=An(n.addToken,U)),n.map=[],Vn(v,n,Kr(e,v,t!=e.display.externalMeasured&&un(v))),v.styleClasses&&(v.styleClasses.bgClass&&(n.bgClass=se(v.styleClasses.bgClass,n.bgClass||"")),v.styleClasses.textClass&&(n.textClass=se(v.styleClasses.textClass,n.textClass||""))),n.map.length==0&&n.map.push(0,0,n.content.appendChild(Fn(e.display.measure))),i==0?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(X){var Y=n.content.lastChild;(/\bcm-tab\b/.test(Y.className)||Y.querySelector&&Y.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return et(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=se(n.pre.className,n.textClass||"")),n}function yr(e){var t=O("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Hr(e,t,r,n,i,v,U){if(t){var Y,me=e.splitSpaces?Gn(t,e.trailingSpace):t,be=e.cm.state.specialChars,Ue=!1;if(be.test(t)){Y=document.createDocumentFragment();for(var $e=0;;){be.lastIndex=$e;var ut=be.exec(t),ct=ut?ut.index-$e:t.length-$e;if(ct){var yt=document.createTextNode(me.slice($e,$e+ct));ue&&ne<9?Y.appendChild(O("span",[yt])):Y.appendChild(yt),e.map.push(e.pos,e.pos+ct,yt),e.col+=ct,e.pos+=ct}if(!ut)break;$e+=ct+1;var Mt=void 0;if(ut[0]=="	"){var Ht=e.cm.options.tabSize,Xt=Ht-e.col%Ht;(Mt=Y.appendChild(O("span",w(Xt),"cm-tab"))).setAttribute("role","presentation"),Mt.setAttribute("cm-text","	"),e.col+=Xt}else ut[0]=="\r"||ut[0]==`
`?((Mt=Y.appendChild(O("span",ut[0]=="\r"?"\u240D":"\u2424","cm-invalidchar"))).setAttribute("cm-text",ut[0]),e.col+=1):((Mt=e.cm.options.specialCharPlaceholder(ut[0])).setAttribute("cm-text",ut[0]),ue&&ne<9?Y.appendChild(O("span",[Mt])):Y.appendChild(Mt),e.col+=1);e.map.push(e.pos,e.pos+1,Mt),e.pos++}}else e.col+=t.length,Y=document.createTextNode(me),e.map.push(e.pos,e.pos+t.length,Y),ue&&ne<9&&(Ue=!0),e.pos+=t.length;if(e.trailingSpace=me.charCodeAt(t.length-1)==32,r||n||i||Ue||v||U){var en=r||"";n&&(en+=n),i&&(en+=i);var Gt=O("span",[Y],en,v);if(U)for(var an in U)U.hasOwnProperty(an)&&an!="style"&&an!="class"&&Gt.setAttribute(an,U[an]);return e.content.appendChild(Gt)}e.content.appendChild(Y)}}function Gn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var v=e.charAt(i);v!=" "||!r||i!=e.length-1&&e.charCodeAt(i+1)!=32||(v="\xA0"),n+=v,r=v==" "}return n}function An(e,t){return function(r,n,i,v,U,Y,me){i=i?i+" cm-force-border":"cm-force-border";for(var be=r.pos,Ue=be+n.length;;){for(var $e=void 0,ut=0;ut<t.length&&!(($e=t[ut]).to>be&&$e.from<=be);ut++);if($e.to>=Ue)return e(r,n,i,v,U,Y,me);e(r,n.slice(0,$e.to-be),i,v,null,Y,me),v=null,n=n.slice($e.to-be),be=$e.to}}}function Sr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Vn(e,t,r){var n=e.markedSpans,i=e.text,v=0;if(n)for(var U,Y,me,be,Ue,$e,ut,ct=i.length,yt=0,Mt=1,Ht="",Xt=0;;){if(Xt==yt){me=be=Ue=Y="",ut=null,$e=null,Xt=1/0;for(var en=[],Gt=void 0,an=0;an<n.length;++an){var on=n[an],dn=on.marker;if(dn.type=="bookmark"&&on.from==yt&&dn.widgetNode)en.push(dn);else if(on.from<=yt&&(on.to==null||on.to>yt||dn.collapsed&&on.to==yt&&on.from==yt)){if(on.to!=null&&on.to!=yt&&Xt>on.to&&(Xt=on.to,be=""),dn.className&&(me+=" "+dn.className),dn.css&&(Y=(Y?Y+";":"")+dn.css),dn.startStyle&&on.from==yt&&(Ue+=" "+dn.startStyle),dn.endStyle&&on.to==Xt&&(Gt||(Gt=[])).push(dn.endStyle,on.to),dn.title&&((ut||(ut={})).title=dn.title),dn.attributes)for(var pr in dn.attributes)(ut||(ut={}))[pr]=dn.attributes[pr];dn.collapsed&&(!$e||G($e.marker,dn)<0)&&($e=on)}else on.from>yt&&Xt>on.from&&(Xt=on.from)}if(Gt)for(var dr=0;dr<Gt.length;dr+=2)Gt[dr+1]==Xt&&(be+=" "+Gt[dr]);if(!$e||$e.from==yt)for(var pi=0;pi<en.length;++pi)Sr(t,0,en[pi]);if($e&&($e.from||0)==yt){if(Sr(t,($e.to==null?ct+1:$e.to)-yt,$e.marker,$e.from==null),$e.to==null)return;$e.to==yt&&($e=!1)}}if(yt>=ct)break;for(var wr=Math.min(ct,Xt);;){if(Ht){var ki=yt+Ht.length;if(!$e){var di=ki>wr?Ht.slice(0,wr-yt):Ht;t.addToken(t,di,U?U+me:me,Ue,yt+di.length==Xt?be:"",Y,ut)}if(ki>=wr){Ht=Ht.slice(wr-yt),yt=wr;break}yt=ki,Ue=""}Ht=i.slice(v,v=r[Mt++]),U=Qt(r[Mt++],t.cm.options)}}else for(var jr=1;jr<r.length;jr+=2)t.addToken(t,i.slice(v,v=r[jr]),Qt(r[jr+1],t.cm.options))}function er(e,t,r){this.line=t,this.rest=N(t),this.size=this.rest?un(M(this.rest))-r+1:1,this.node=this.text=null,this.hidden=ke(e,t)}function Ar(e,t,r){for(var n,i=[],v=t;v<r;v=n){var U=new er(e.doc,Yt(e.doc,v),v);n=v+U.size,i.push(U)}return i}var $r=null;function Yr(e){$r?$r.ops.push(e):e.ownsGroup=$r={ops:[e],delayedCallbacks:[]}}function bi(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function wi(e,t){var r=e.ownsGroup;if(r)try{bi(r)}finally{$r=null,t(r)}}var _r=null;function ar(e,t){var r=Ae(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);$r?n=$r.delayedCallbacks:_r?n=_r:(n=_r=[],setTimeout(zr,0));for(var v=function(Y){n.push(function(){return r[Y].apply(null,i)})},U=0;U<r.length;++U)v(U)}}function zr(){var e=_r;_r=null;for(var t=0;t<e.length;++t)e[t]()}function ci(e,t,r,n){for(var i=0;i<t.changes.length;i++){var v=t.changes[i];v=="text"?Yn(e,t):v=="gutter"?Fi(e,t,r,n):v=="class"?fi(e,t):v=="widget"&&Ei(e,t,n)}t.changes=null}function Ci(e){return e.node==e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ue&&ne<8&&(e.node.style.zIndex=2)),e.node}function oi(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Ci(t);t.background=n.insertBefore(O("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function Ti(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):mr(e,t)}function Yn(e,t){var r=t.text.className,n=Ti(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,fi(e,t)):r&&(t.text.className=r)}function fi(e,t){oi(e,t),t.line.wrapClass?Ci(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Fi(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Ci(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var v=t.line.gutterMarkers;if(e.options.lineNumbers||v){var U=Ci(t),Y=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(Y.setAttribute("aria-hidden","true"),e.display.input.setUneditable(Y),U.insertBefore(Y,t.text),t.line.gutterClass&&(Y.className+=" "+t.line.gutterClass),!e.options.lineNumbers||v&&v["CodeMirror-linenumbers"]||(t.lineNumber=Y.appendChild(O("div",Fr(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),v)for(var me=0;me<e.display.gutterSpecs.length;++me){var be=e.display.gutterSpecs[me].className,Ue=v.hasOwnProperty(be)&&v[be];Ue&&Y.appendChild(O("div",[Ue],"CodeMirror-gutter-elt","left: "+n.gutterLeft[be]+"px; width: "+n.gutterWidth[be]+"px"))}}}function Ei(e,t,r){t.alignable&&(t.alignable=null);for(var n=z("CodeMirror-linewidget"),i=t.node.firstChild,v=void 0;i;i=v)v=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);ji(e,t,r)}function Ki(e,t,r,n){var i=Ti(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),fi(e,t),Fi(e,t,r,n),ji(e,t,n),t.node}function ji(e,t,r){if(Bi(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Bi(e,t.rest[n],t,r,!1)}function Bi(e,t,r,n,i){if(t.widgets)for(var v=Ci(r),U=0,Y=t.widgets;U<Y.length;++U){var me=Y[U],be=O("div",[me.node],"CodeMirror-linewidget"+(me.className?" "+me.className:""));me.handleMouseEvents||be.setAttribute("cm-ignore-events","true"),lo(me,be,r,n),e.display.input.setUneditable(be),i&&me.above?v.insertBefore(be,r.gutter||r.text):v.appendChild(be),ar(me,"redraw")}}function lo(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function ge(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!c(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,O("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Ee(e,t){for(var r=fn(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function qe(e){return e.lineSpace.offsetTop}function Je(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ht(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,O("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function it(e){return h-e.display.nativeBarWidth}function St(e){return e.display.scroller.clientWidth-it(e)-e.display.barWidth}function Bt(e){return e.display.scroller.clientHeight-it(e)-e.display.barHeight}function Pn(e,t,r){var n=e.options.lineWrapping,i=n&&St(e);if(!t.measure.heights||n&&t.measure.width!=i){var v=t.measure.heights=[];if(n){t.measure.width=i;for(var U=t.text.firstChild.getClientRects(),Y=0;Y<U.length-1;Y++){var me=U[Y],be=U[Y+1];Math.abs(me.bottom-be.bottom)>2&&v.push((me.bottom+be.top)/2-r.top)}}v.push(r.bottom-r.top)}}function Zn(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(un(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Xn(e,t){var r=un(t=p(t)),n=e.display.externalMeasured=new er(e.doc,t,r);n.lineN=r;var i=n.built=mr(e,n);return n.text=i.pre,E(e.display.lineMeasure,i.pre),n}function Er(e,t,r,n){return gi(e,xi(e,t),r,n)}function Ai(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Cn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function xi(e,t){var r=un(t),n=Ai(e,r);n&&!n.text?n=null:n&&n.changes&&(ci(e,n,r,Nt(e)),e.curOp.forceUpdate=!0),n||(n=Xn(e,t));var i=Zn(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function gi(e,t,r,n,i){t.before&&(r=-1);var v,U=r+(n||"");return t.cache.hasOwnProperty(U)?v=t.cache[U]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Pn(e,t.view,t.rect),t.hasHeights=!0),(v=mi(e,t,r,n)).bogus||(t.cache[U]=v)),{left:v.left,right:v.right,top:i?v.rtop:v.top,bottom:i?v.rbottom:v.bottom}}var Di,lr={left:0,right:0,top:0,bottom:0};function Yi(e,t,r){for(var n,i,v,U,Y,me,be=0;be<e.length;be+=3)if(Y=e[be],me=e[be+1],t<Y?(i=0,v=1,U="left"):t<me?v=(i=t-Y)+1:(be==e.length-3||t==me&&e[be+3]>t)&&(i=(v=me-Y)-1,t>=me&&(U="right")),i!=null){if(n=e[be+2],Y==me&&r==(n.insertLeft?"left":"right")&&(U=r),r=="left"&&i==0)for(;be&&e[be-2]==e[be-3]&&e[be-1].insertLeft;)n=e[(be-=3)+2],U="left";if(r=="right"&&i==me-Y)for(;be<e.length-3&&e[be+3]==e[be+4]&&!e[be+5].insertLeft;)n=e[(be+=3)+2],U="right";break}return{node:n,start:i,end:v,collapse:U,coverStart:Y,coverEnd:me}}function vi(e,t){var r=lr;if(t=="left")for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function mi(e,t,r,n){var i,v=Yi(t.map,r,n),U=v.node,Y=v.start,me=v.end,be=v.collapse;if(U.nodeType==3){for(var Ue=0;Ue<4;Ue++){for(;Y&&we(t.line.text.charAt(v.coverStart+Y));)--Y;for(;v.coverStart+me<v.coverEnd&&we(t.line.text.charAt(v.coverStart+me));)++me;if((i=ue&&ne<9&&Y==0&&me==v.coverEnd-v.coverStart?U.parentNode.getBoundingClientRect():vi(B(U,Y,me).getClientRects(),n)).left||i.right||Y==0)break;me=Y,Y-=1,be="right"}ue&&ne<11&&(i=So(e.display.measure,i))}else{var $e;Y>0&&(be=n="right"),i=e.options.lineWrapping&&($e=U.getClientRects()).length>1?$e[n=="right"?$e.length-1:0]:U.getBoundingClientRect()}if(ue&&ne<9&&!Y&&(!i||!i.left&&!i.right)){var ut=U.parentNode.getClientRects()[0];i=ut?{left:ut.left,right:ut.left+Dt(e.display),top:ut.top,bottom:ut.bottom}:lr}for(var ct=i.top-t.rect.top,yt=i.bottom-t.rect.top,Mt=(ct+yt)/2,Ht=t.view.measure.heights,Xt=0;Xt<Ht.length-1&&!(Mt<Ht[Xt]);Xt++);var en=Xt?Ht[Xt-1]:0,Gt=Ht[Xt],an={left:(be=="right"?i.right:i.left)-t.rect.left,right:(be=="left"?i.left:i.right)-t.rect.left,top:en,bottom:Gt};return i.left||i.right||(an.bogus=!0),e.options.singleCursorHeightPerLine||(an.rtop=ct,an.rbottom=yt),an}function So(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!nr(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function _o(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Go(e){e.display.externalMeasure=null,ie(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)_o(e.display.view[t])}function Xi(e){Go(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Po(){return j&&$?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Pi(){return j&&$?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ji(e){var t=p(e).widgets,r=0;if(t)for(var n=0;n<t.length;++n)t[n].above&&(r+=ge(t[n]));return r}function Qi(e,t,r,n,i){if(!i){var v=Ji(t);r.top+=v,r.bottom+=v}if(n=="line")return r;n||(n="local");var U=He(t);if(n=="local"?U+=qe(e.display):U-=e.display.viewOffset,n=="page"||n=="window"){var Y=e.display.lineSpace.getBoundingClientRect();U+=Y.top+(n=="window"?0:Pi());var me=Y.left+(n=="window"?0:Po());r.left+=me,r.right+=me}return r.top+=U,r.bottom+=U,r}function eo(e,t,r){if(r=="div")return t;var n=t.left,i=t.top;if(r=="page")n-=Po(),i-=Pi();else if(r=="local"||!r){var v=e.display.sizer.getBoundingClientRect();n+=v.left,i+=v.top}var U=e.display.lineSpace.getBoundingClientRect();return{left:n-U.left,top:i-U.top}}function Ri(e,t,r,n,i){return n||(n=Yt(e.doc,t.line)),Qi(e,n,Er(e,n,t.ch,i),r)}function ai(e,t,r,n,i,v){function U(yt,Mt){var Ht=gi(e,i,yt,Mt?"right":"left",v);return Mt?Ht.left=Ht.right:Ht.right=Ht.left,Qi(e,n,Ht,r)}n=n||Yt(e.doc,t.line),i||(i=xi(e,n));var Y=rn(n,e.doc.direction),me=t.ch,be=t.sticky;if(me>=n.text.length?(me=n.text.length,be="before"):me<=0&&(me=0,be="after"),!Y)return U(be=="before"?me-1:me,be=="before");function Ue(yt,Mt,Ht){return U(Ht?yt-1:yt,Y[Mt].level==1!=Ht)}var $e=At(Y,me,be),ut=bt,ct=Ue(me,$e,be=="before");return ut!=null&&(ct.other=Ue(me,ut,be!="before")),ct}function Ko(e,t){var r=0;t=qt(e.doc,t),e.options.lineWrapping||(r=Dt(e.display)*t.ch);var n=Yt(e.doc,t.line),i=He(n)+qe(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function Vi(e,t,r,n,i){var v=Tt(e,t,r);return v.xRel=i,n&&(v.outside=n),v}function to(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return Vi(n.first,0,null,-1,-1);var i=cn(n,r),v=n.first+n.size-1;if(i>v)return Vi(n.first+n.size-1,Yt(n,v).text.length,null,1,1);t<0&&(t=0);for(var U=Yt(n,i);;){var Y=Qe(e,U,i,t,r),me=zt(U,Y.ch+(Y.xRel>0||Y.outside>0?1:0));if(!me)return Y;var be=me.find(1);if(be.line==i)return be;U=Yt(n,i=be.line)}}function uo(e,t,r,n){n-=Ji(t);var i=t.text.length,v=Ge(function(U){return gi(e,r,U-1).bottom<=n},i,0);return{begin:v,end:i=Ge(function(U){return gi(e,r,U).top>n},v,i)}}function Yo(e,t,r,n){return r||(r=xi(e,t)),uo(e,t,r,Qi(e,t,gi(e,r,n),"line").top)}function Le(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Qe(e,t,r,n,i){i-=He(t);var v=xi(e,t),U=Ji(t),Y=0,me=t.text.length,be=!0,Ue=rn(t,e.doc.direction);if(Ue){var $e=(e.options.lineWrapping?Et:ot)(e,t,r,v,Ue,n,i);Y=(be=$e.level!=1)?$e.from:$e.to-1,me=be?$e.to:$e.from-1}var ut,ct,yt=null,Mt=null,Ht=Ge(function(on){var dn=gi(e,v,on);return dn.top+=U,dn.bottom+=U,!!Le(dn,n,i,!1)&&(dn.top<=i&&dn.left<=n&&(yt=on,Mt=dn),!0)},Y,me),Xt=!1;if(Mt){var en=n-Mt.left<Mt.right-n,Gt=en==be;Ht=yt+(Gt?0:1),ct=Gt?"after":"before",ut=en?Mt.left:Mt.right}else{be||Ht!=me&&Ht!=Y||Ht++,ct=Ht==0?"after":Ht==t.text.length?"before":gi(e,v,Ht-(be?1:0)).bottom+U<=i==be?"after":"before";var an=ai(e,Tt(r,Ht,ct),"line",t,v);ut=an.left,Xt=i<an.top?-1:i>=an.bottom?1:0}return Vi(r,Ht=De(t.text,Ht,1),ct,Xt,n-ut)}function ot(e,t,r,n,i,v,U){var Y=Ge(function($e){var ut=i[$e],ct=ut.level!=1;return Le(ai(e,Tt(r,ct?ut.to:ut.from,ct?"before":"after"),"line",t,n),v,U,!0)},0,i.length-1),me=i[Y];if(Y>0){var be=me.level!=1,Ue=ai(e,Tt(r,be?me.from:me.to,be?"after":"before"),"line",t,n);Le(Ue,v,U,!0)&&Ue.top>U&&(me=i[Y-1])}return me}function Et(e,t,r,n,i,v,U){var Y=uo(e,t,n,U),me=Y.begin,be=Y.end;/\s/.test(t.text.charAt(be-1))&&be--;for(var Ue=null,$e=null,ut=0;ut<i.length;ut++){var ct=i[ut];if(!(ct.from>=be||ct.to<=me)){var yt=gi(e,n,ct.level!=1?Math.min(be,ct.to)-1:Math.max(me,ct.from)).right,Mt=yt<v?v-yt+1e9:yt-v;(!Ue||$e>Mt)&&(Ue=ct,$e=Mt)}}return Ue||(Ue=i[i.length-1]),Ue.from<me&&(Ue={from:me,to:Ue.to,level:Ue.level}),Ue.to>be&&(Ue={from:Ue.from,to:be,level:Ue.level}),Ue}function ft(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Di==null){Di=O("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Di.appendChild(document.createTextNode("x")),Di.appendChild(O("br"));Di.appendChild(document.createTextNode("x"))}E(e.measure,Di);var r=Di.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),ie(e.measure),r||1}function Dt(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx"),r=O("pre",[t],"CodeMirror-line-like");E(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Nt(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,v=t.gutters.firstChild,U=0;v;v=v.nextSibling,++U){var Y=e.display.gutterSpecs[U].className;r[Y]=v.offsetLeft+v.clientLeft+i,n[Y]=v.clientWidth}return{fixedPos:Kt(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Kt(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Jt(e){var t=ft(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/Dt(e.display)-3);return function(i){if(ke(e.doc,i))return 0;var v=0;if(i.widgets)for(var U=0;U<i.widgets.length;U++)i.widgets[U].height&&(v+=i.widgets[U].height);return r?v+(Math.ceil(i.text.length/n)||1)*t:v+t}}function Tn(e){var t=e.doc,r=Jt(e);t.iter(function(n){var i=r(n);i!=n.height&&Ln(n,i)})}function mn(e,t,r,n){var i=e.display;if(!r&&fn(t).getAttribute("cm-not-content")=="true")return null;var v,U,Y=i.lineSpace.getBoundingClientRect();try{v=t.clientX-Y.left,U=t.clientY-Y.top}catch{return null}var me,be=to(e,v,U);if(n&&be.xRel>0&&(me=Yt(e.doc,be.line).text).length==be.ch){var Ue=C(me,me.length,e.options.tabSize)-me.length;be=Tt(be.line,Math.max(0,Math.round((v-ht(e.display).left)/Dt(e.display))-Ue))}return be}function Cn(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function En(e,t,r,n){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Q&&oe(e.doc,t)<i.viewTo&&yn(e);else if(r<=i.viewFrom)Q&&ce(e.doc,r+n)>i.viewFrom?yn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)yn(e);else if(t<=i.viewFrom){var v=Pr(e,r,r+n,1);v?(i.view=i.view.slice(v.index),i.viewFrom=v.lineN,i.viewTo+=n):yn(e)}else if(r>=i.viewTo){var U=Pr(e,t,t,-1);U?(i.view=i.view.slice(0,U.index),i.viewTo=U.lineN):yn(e)}else{var Y=Pr(e,t,t,-1),me=Pr(e,r,r+n,1);Y&&me?(i.view=i.view.slice(0,Y.index).concat(Ar(e,Y.lineN,me.lineN)).concat(i.view.slice(me.index)),i.viewTo+=n):yn(e)}var be=i.externalMeasured;be&&(r<be.lineN?be.lineN+=n:t<be.lineN+be.size&&(i.externalMeasured=null))}function Kn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var v=n.view[Cn(e,t)];if(v.node!=null){var U=v.changes||(v.changes=[]);f(U,r)==-1&&U.push(r)}}}function yn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Pr(e,t,r,n){var i,v=Cn(e,t),U=e.display.view;if(!Q||r==e.doc.first+e.doc.size)return{index:v,lineN:r};for(var Y=e.display.viewFrom,me=0;me<v;me++)Y+=U[me].size;if(Y!=t){if(n>0){if(v==U.length-1)return null;i=Y+U[v].size-t,v++}else i=Y-t;t+=i,r+=i}for(;oe(e.doc,r)!=r;){if(v==(n<0?0:U.length-1))return null;r+=n*U[v-(n<0?1:0)].size,v+=n}return{index:v,lineN:r}}function Xr(e,t,r){var n=e.display;n.view.length==0||t>=n.viewTo||r<=n.viewFrom?(n.view=Ar(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=Ar(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Cn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(Ar(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Cn(e,r)))),n.viewTo=r}function ti(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function ur(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Hi(e,t){t===void 0&&(t=!0);var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),v=n.selection=document.createDocumentFragment(),U=e.options.$customCursor;U&&(t=!0);for(var Y=0;Y<r.sel.ranges.length;Y++)if(t||Y!=r.sel.primIndex){var me=r.sel.ranges[Y];if(!(me.from().line>=e.display.viewTo||me.to().line<e.display.viewFrom)){var be=me.empty();if(U){var Ue=U(e,me);Ue&&Mi(e,Ue,i)}else(be||e.options.showCursorWhenSelecting)&&Mi(e,me.head,i);be||ol(e,me,v)}}return n}function Mi(e,t,r){var n=ai(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(O("div","\xA0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var v=Ri(e,t,"div",null,null),U=v.right-v.left;i.style.width=(U>0?U:e.defaultCharWidth())+"px"}if(n.other){var Y=r.appendChild(O("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));Y.style.display="",Y.style.left=n.other.left+"px",Y.style.top=n.other.top+"px",Y.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Jr(e,t){return e.top-t.top||e.left-t.left}function ol(e,t,r){var n=e.display,i=e.doc,v=document.createDocumentFragment(),U=ht(e.display),Y=U.left,me=Math.max(n.sizerWidth,St(e)-n.sizer.offsetLeft)-U.right,be=i.direction=="ltr";function Ue(Gt,an,on,dn){an<0&&(an=0),an=Math.round(an),dn=Math.round(dn),v.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+Gt+`px;
                             top: `+an+"px; width: "+(on==null?me-Gt:on)+`px;
                             height: `+(dn-an)+"px"))}function $e(Gt,an,on){var dn,pr,dr=Yt(i,Gt),pi=dr.text.length;function wr(jr,li){return Ri(e,Tt(Gt,jr),"div",dr,li)}function ki(jr,li,ri){var Lr=Yo(e,dr,null,jr),Rr=li=="ltr"==(ri=="after")?"left":"right";return wr(ri=="after"?Lr.begin:Lr.end-(/\s/.test(dr.text.charAt(Lr.end-1))?2:1),Rr)[Rr]}var di=rn(dr,i.direction);return Ke(di,an||0,on==null?pi:on,function(jr,li,ri,Lr){var Rr=ri=="ltr",Zr=wr(jr,Rr?"left":"right"),ui=wr(li-1,Rr?"right":"left"),Gi=an==null&&jr==0,_i=on==null&&li==pi,ei=Lr==0,Nr=!di||Lr==di.length-1;if(ui.top-Zr.top<=3){var Va=(be?_i:Gi)&&Nr,Ni=(be?Gi:_i)&&ei?Y:(Rr?Zr:ui).left,ao=Va?me:(Rr?ui:Zr).right;Ue(Ni,Zr.top,ao-Ni,Zr.bottom)}else{var so,ii,Co,Ha;Rr?(so=be&&Gi&&ei?Y:Zr.left,ii=be?me:ki(jr,ri,"before"),Co=be?Y:ki(li,ri,"after"),Ha=be&&_i&&Nr?me:ui.right):(so=be?ki(jr,ri,"before"):Y,ii=!be&&Gi&&ei?me:Zr.right,Co=!be&&_i&&Nr?Y:ui.left,Ha=be?ki(li,ri,"after"):me),Ue(so,Zr.top,ii-so,Zr.bottom),Zr.bottom<ui.top&&Ue(Y,Zr.bottom,null,ui.top),Ue(Co,ui.top,Ha-Co,ui.bottom)}(!dn||Jr(Zr,dn)<0)&&(dn=Zr),Jr(ui,dn)<0&&(dn=ui),(!pr||Jr(Zr,pr)<0)&&(pr=Zr),Jr(ui,pr)<0&&(pr=ui)}),{start:dn,end:pr}}var ut=t.from(),ct=t.to();if(ut.line==ct.line)$e(ut.line,ut.ch,ct.ch);else{var yt=Yt(i,ut.line),Mt=Yt(i,ct.line),Ht=p(yt)==p(Mt),Xt=$e(ut.line,ut.ch,Ht?yt.text.length+1:null).end,en=$e(ct.line,Ht?0:null,ct.ch).start;Ht&&(Xt.top<en.top-2?(Ue(Xt.right,Xt.top,null,Xt.bottom),Ue(Y,en.top,en.left,en.bottom)):Ue(Xt.right,Xt.top,en.left-Xt.right,Xt.bottom)),Xt.bottom<en.top&&Ue(Y,Xt.bottom,null,en.top)}r.appendChild(v)}function va(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||co(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function za(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||ya(e))}function ma(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&co(e))},100)}function ya(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(et(e,"focus",e,t),e.state.focused=!0,S(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),X&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),va(e))}function co(e,t){e.state.delayingBlurEvent||(e.state.focused&&(et(e,"blur",e,t),e.state.focused=!1,W(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Xo(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,v=0,U=0;U<t.view.length;U++){var Y=t.view[U],me=e.options.lineWrapping,be=void 0,Ue=0;if(!Y.hidden){if(i+=Y.line.height,ue&&ne<8){var $e=Y.node.offsetTop+Y.node.offsetHeight;be=$e-r,r=$e}else{var ut=Y.node.getBoundingClientRect();be=ut.bottom-ut.top,!me&&Y.text.firstChild&&(Ue=Y.text.firstChild.getBoundingClientRect().right-ut.left-1)}var ct=Y.line.height-be;if((ct>.005||ct<-.005)&&(i<n&&(v-=ct),Ln(Y.line,be),Ua(Y.line),Y.rest))for(var yt=0;yt<Y.rest.length;yt++)Ua(Y.rest[yt]);if(Ue>e.display.sizerWidth){var Mt=Math.ceil(Ue/Dt(e.display));Mt>e.display.maxLineLength&&(e.display.maxLineLength=Mt,e.display.maxLine=Y.line,e.display.maxLineChanged=!0)}}}Math.abs(v)>2&&(t.scroller.scrollTop+=v)}function Ua(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Jo(e,t,r){var n=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-qe(e));var i=r&&r.bottom!=null?r.bottom:n+e.wrapper.clientHeight,v=cn(t,n),U=cn(t,i);if(r&&r.ensure){var Y=r.ensure.from.line,me=r.ensure.to.line;Y<v?(v=Y,U=cn(t,He(Yt(t,Y))+e.wrapper.clientHeight)):Math.min(me,t.lastLine())>=U&&(v=cn(t,He(Yt(t,me))-e.wrapper.clientHeight),U=me)}return{from:v,to:Math.max(U,v+1)}}function al(e,t){if(!rt(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),i!=null&&!s){var v=O("div","\u200B",null,`position: absolute;
                         top: `+(t.top-r.viewOffset-qe(e.display))+`px;
                         height: `+(t.bottom-t.top+it(e)+r.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(v),v.scrollIntoView(i),e.display.lineSpace.removeChild(v)}}}function sl(e,t,r,n){var i;n==null&&(n=0),e.options.lineWrapping||t!=r||(r=t.sticky=="before"?Tt(t.line,t.ch+1,"before"):t,t=t.ch?Tt(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var v=0;v<5;v++){var U=!1,Y=ai(e,t),me=r&&r!=t?ai(e,r):Y,be=ba(e,i={left:Math.min(Y.left,me.left),top:Math.min(Y.top,me.top)-n,right:Math.max(Y.left,me.left),bottom:Math.max(Y.bottom,me.bottom)+n}),Ue=e.doc.scrollTop,$e=e.doc.scrollLeft;if(be.scrollTop!=null&&(Eo(e,be.scrollTop),Math.abs(e.doc.scrollTop-Ue)>1&&(U=!0)),be.scrollLeft!=null&&(no(e,be.scrollLeft),Math.abs(e.doc.scrollLeft-$e)>1&&(U=!0)),!U)break}return i}function ll(e,t){var r=ba(e,t);r.scrollTop!=null&&Eo(e,r.scrollTop),r.scrollLeft!=null&&no(e,r.scrollLeft)}function ba(e,t){var r=e.display,n=ft(e.display);t.top<0&&(t.top=0);var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,v=Bt(e),U={};t.bottom-t.top>v&&(t.bottom=t.top+v);var Y=e.doc.height+Je(r),me=t.top<n,be=t.bottom>Y-n;if(t.top<i)U.scrollTop=me?0:t.top;else if(t.bottom>i+v){var Ue=Math.min(t.top,(be?Y:t.bottom)-v);Ue!=i&&(U.scrollTop=Ue)}var $e=e.options.fixedGutter?0:r.gutters.offsetWidth,ut=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-$e,ct=St(e)-r.gutters.offsetWidth,yt=t.right-t.left>ct;return yt&&(t.right=t.left+ct),t.left<10?U.scrollLeft=0:t.left<ut?U.scrollLeft=Math.max(0,t.left+$e-(yt?0:10)):t.right>ct+ut-3&&(U.scrollLeft=t.right+(yt?0:10)-ct),U}function wa(e,t){t!=null&&(Qo(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function fo(e){Qo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function To(e,t,r){t==null&&r==null||Qo(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function ul(e,t){Qo(e),e.curOp.scrollToPos=t}function Qo(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Wa(e,Ko(e,t.from),Ko(e,t.to),t.margin))}function Wa(e,t,r,n){var i=ba(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});To(e,i.scrollLeft,i.scrollTop)}function Eo(e,t){Math.abs(e.doc.scrollTop-t)<2||(ve||ka(e,{top:t}),$a(e,t,!0),ve&&ka(e),Do(e,100))}function $a(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function no(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Xa(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function jo(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Je(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+it(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var ro=function(e,t,r){this.cm=r;var n=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),kt(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),kt(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ue&&ne<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ro.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var v=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+v)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(n==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ro.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ro.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ro.prototype.zeroWidthHack=function(){var e=Z&&!V?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new l,this.disableVert=new l},ro.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,n)}e.style.visibility="",t.set(1e3,n)},ro.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ao=function(){};function ho(e,t){t||(t=jo(e));var r=e.display.barWidth,n=e.display.barHeight;qa(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Xo(e),qa(e,jo(e)),r=e.display.barWidth,n=e.display.barHeight}function qa(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Ao.prototype.update=function(){return{bottom:0,right:0}},Ao.prototype.setScrollLeft=function(){},Ao.prototype.setScrollTop=function(){},Ao.prototype.clear=function(){};var Ga={native:ro,null:Ao};function Ka(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&W(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ga[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),kt(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){r=="horizontal"?no(e,t):Eo(e,t)},e),e.display.scrollbars.addClass&&S(e.display.wrapper,e.display.scrollbars.addClass)}var cl=0;function io(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++cl,markArrays:null},Yr(e.curOp)}function oo(e){var t=e.curOp;t&&wi(t,function(r){for(var n=0;n<r.ops.length;n++)r.ops[n].cm.curOp=null;fl(r)})}function fl(e){for(var t=e.ops,r=0;r<t.length;r++)hl(t[r]);for(var n=0;n<t.length;n++)pl(t[n]);for(var i=0;i<t.length;i++)dl(t[i]);for(var v=0;v<t.length;v++)gl(t[v]);for(var U=0;U<t.length;U++)vl(t[U])}function hl(e){var t=e.cm,r=t.display;yl(t),e.updateMaxLine&&vt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ea(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function pl(e){e.updatedDisplay=e.mustUpdate&&xa(e.cm,e.update)}function dl(e){var t=e.cm,r=t.display;e.updatedDisplay&&Xo(t),e.barMeasure=jo(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Er(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+it(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-St(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function gl(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&no(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==g();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ho(t,e.barMeasure),e.updatedDisplay&&Oa(t,e.barMeasure),e.selectionChanged&&va(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&za(e.cm)}function vl(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&Ya(t,e.update),r.wheelStartX==null||e.scrollTop==null&&e.scrollLeft==null&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&$a(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&no(t,e.scrollLeft,!0,!0),e.scrollToPos&&al(t,sl(t,qt(n,e.scrollToPos.from),qt(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,v=e.maybeUnhiddenMarkers;if(i)for(var U=0;U<i.length;++U)i[U].lines.length||et(i[U],"hide");if(v)for(var Y=0;Y<v.length;++Y)v[Y].lines.length&&et(v[Y],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&et(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function hi(e,t){if(e.curOp)return t();io(e);try{return t()}finally{oo(e)}}function qr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);io(e);try{return t.apply(e,arguments)}finally{oo(e)}}}function ni(e){return function(){if(this.curOp)return e.apply(this,arguments);io(this);try{return e.apply(this,arguments)}finally{oo(this)}}}function Gr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);io(t);try{return e.apply(this,arguments)}finally{oo(t)}}}function Do(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(ml,e))}function ml(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=Br(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(v){if(n.line>=e.display.viewFrom){var U=v.styles,Y=v.text.length>e.options.maxHighlightLength?ir(t.mode,n.state):null,me=Ur(e,v,n,!0);Y&&(n.state=Y),v.styles=me.styles;var be=v.styleClasses,Ue=me.classes;Ue?v.styleClasses=Ue:be&&(v.styleClasses=null);for(var $e=!U||U.length!=v.styles.length||be!=Ue&&(!be||!Ue||be.bgClass!=Ue.bgClass||be.textClass!=Ue.textClass),ut=0;!$e&&ut<U.length;++ut)$e=U[ut]!=v.styles[ut];$e&&i.push(n.line),v.stateAfter=n.save(),n.nextLine()}else v.text.length<=e.options.maxHighlightLength&&Cr(e,v.text,n),v.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Do(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&hi(e,function(){for(var v=0;v<i.length;v++)Kn(e,i[v],"text")})}}var ea=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Jo(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=St(e),this.force=r,this.dims=Nt(e),this.events=[]};function yl(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=it(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=it(e)+"px",t.scrollbarsClipped=!0)}function bl(e){if(e.hasFocus())return null;var t=g();if(!t||!c(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&c(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function wl(e){if(e&&e.activeElt&&e.activeElt!=g()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&c(document.body,e.anchorNode)&&c(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function xa(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return yn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&ti(e)==0)return!1;Ja(e)&&(yn(e),t.dims=Nt(e));var i=n.first+n.size,v=Math.max(t.visible.from-e.options.viewportMargin,n.first),U=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<v&&v-r.viewFrom<20&&(v=Math.max(n.first,r.viewFrom)),r.viewTo>U&&r.viewTo-U<20&&(U=Math.min(i,r.viewTo)),Q&&(v=oe(e.doc,v),U=ce(e.doc,U));var Y=v!=r.viewFrom||U!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Xr(e,v,U),r.viewOffset=He(Yt(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var me=ti(e);if(!Y&&me==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;var be=bl(e);return me>4&&(r.lineDiv.style.display="none"),xl(e,r.updateLineNumbers,t.dims),me>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,wl(be),ie(r.cursorDiv),ie(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,Y&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Do(e,400)),r.updateLineNumbers=null,!0}function Ya(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=St(e))n&&(t.visible=Jo(e.display,e.doc,r));else if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+Je(e.display)-Bt(e),r.top)}),t.visible=Jo(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!xa(e,t))break;Xo(e);var i=jo(e);ur(e),ho(e,i),Oa(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ka(e,t){var r=new ea(e,t);if(xa(e,r)){Xo(e),Ya(e,r);var n=jo(e);ur(e),ho(e,n),Oa(e,n),r.finish()}}function xl(e,t,r){var n=e.display,i=e.options.lineNumbers,v=n.lineDiv,U=v.firstChild;function Y(yt){var Mt=yt.nextSibling;return X&&Z&&e.display.currentWheelTarget==yt?yt.style.display="none":yt.parentNode.removeChild(yt),Mt}for(var me=n.view,be=n.viewFrom,Ue=0;Ue<me.length;Ue++){var $e=me[Ue];if(!$e.hidden)if($e.node&&$e.node.parentNode==v){for(;U!=$e.node;)U=Y(U);var ut=i&&t!=null&&t<=be&&$e.lineNumber;$e.changes&&(f($e.changes,"gutter")>-1&&(ut=!1),ci(e,$e,be,r)),ut&&(ie($e.lineNumber),$e.lineNumber.appendChild(document.createTextNode(Fr(e.options,be)))),U=$e.node.nextSibling}else{var ct=Ki(e,$e,be,r);v.insertBefore(ct,U)}be+=$e.size}for(;U;)U=Y(U)}function Ca(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",ar(e,"gutterChanged",e)}function Oa(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+it(e)+"px"}function Xa(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Kt(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,v=n+"px",U=0;U<r.length;U++)if(!r[U].hidden){e.options.fixedGutter&&(r[U].gutter&&(r[U].gutter.style.left=v),r[U].gutterBackground&&(r[U].gutterBackground.style.left=v));var Y=r[U].alignable;if(Y)for(var me=0;me<Y.length;me++)Y[me].style.left=v}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Ja(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=Fr(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(O("div",[O("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),v=i.firstChild.offsetWidth,U=i.offsetWidth-v;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(v,n.lineGutter.offsetWidth-U)+1,n.lineNumWidth=n.lineNumInnerWidth+U,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Ca(e.display),!0}return!1}function Sa(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var v=e[i],U=null;if(typeof v!="string"&&(U=v.style,v=v.className),v=="CodeMirror-linenumbers"){if(!t)continue;n=!0}r.push({className:v,style:U})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Qa(e){var t=e.gutters,r=e.gutterSpecs;ie(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],v=i.className,U=i.style,Y=t.appendChild(O("div",null,"CodeMirror-gutter "+v));U&&(Y.style.cssText=U),v=="CodeMirror-linenumbers"&&(e.lineGutter=Y,Y.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Ca(e)}function Ro(e){Qa(e.display),En(e),Xa(e)}function kl(e,t,r,n){var i=this;this.input=r,i.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=a("div",null,"CodeMirror-code"),i.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=O("div",null,"CodeMirror-cursors"),i.measure=O("div",null,"CodeMirror-measure"),i.lineMeasure=O("div",null,"CodeMirror-measure"),i.lineSpace=a("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var v=a("div",[i.lineSpace],"CodeMirror-lines");i.mover=O("div",[v],null,"position: relative"),i.sizer=O("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=O("div",null,null,"position: absolute; height: "+h+"px; width: 1px;"),i.gutters=O("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=O("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=O("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),i.wrapper.setAttribute("translate","no"),ue&&ne<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),X||ve&&R||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Sa(n.gutters,n.lineNumbers),Qa(i),r.init(i)}ea.prototype.signal=function(e,t){Be(e,t)&&this.events.push(arguments)},ea.prototype.finish=function(){for(var e=0;e<this.events.length;e++)et.apply(null,this.events[e])};var ta=0,Li=null;function es(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function Cl(e){var t=es(e);return t.x*=Li,t.y*=Li,t}function ts(e,t){j&&m>=102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var r=es(t),n=r.x,i=r.y,v=Li;t.deltaMode===0&&(n=t.deltaX,i=t.deltaY,v=1);var U=e.display,Y=U.scroller,me=Y.scrollWidth>Y.clientWidth,be=Y.scrollHeight>Y.clientHeight;if(n&&me||i&&be){if(i&&Z&&X){e:for(var Ue=t.target,$e=U.view;Ue!=Y;Ue=Ue.parentNode)for(var ut=0;ut<$e.length;ut++)if($e[ut].node==Ue){e.display.currentWheelTarget=Ue;break e}}if(n&&!ve&&!b&&v!=null)return i&&be&&Eo(e,Math.max(0,Y.scrollTop+i*v)),no(e,Math.max(0,Y.scrollLeft+n*v)),(!i||i&&be)&&lt(t),void(U.wheelStartX=null);if(i&&v!=null){var ct=i*v,yt=e.doc.scrollTop,Mt=yt+U.wrapper.clientHeight;ct<0?yt=Math.max(0,yt+ct-50):Mt=Math.min(e.doc.height,Mt+ct+50),ka(e,{top:yt,bottom:Mt})}ta<20&&t.deltaMode!==0&&(U.wheelStartX==null?(U.wheelStartX=Y.scrollLeft,U.wheelStartY=Y.scrollTop,U.wheelDX=n,U.wheelDY=i,setTimeout(function(){if(U.wheelStartX!=null){var Ht=Y.scrollLeft-U.wheelStartX,Xt=Y.scrollTop-U.wheelStartY,en=Xt&&U.wheelDY&&Xt/U.wheelDY||Ht&&U.wheelDX&&Ht/U.wheelDX;U.wheelStartX=U.wheelStartY=null,en&&(Li=(Li*ta+en)/(ta+1),++ta)}},200)):(U.wheelDX+=n,U.wheelDY+=i))}}ue?Li=-.53:ve?Li=15:j?Li=-.7:T&&(Li=-.3333333333333333);var yi=function(e,t){this.ranges=e,this.primIndex=t};yi.prototype.primary=function(){return this.ranges[this.primIndex]},yi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!ze(r.anchor,n.anchor)||!ze(r.head,n.head))return!1}return!0},yi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new or(xt(this.ranges[t].anchor),xt(this.ranges[t].head));return new yi(e,this.primIndex)},yi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},yi.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ye(t,n.from())>=0&&ye(e,n.to())<=0)return r}return-1};var or=function(e,t){this.anchor=e,this.head=t};function Oi(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(ut,ct){return ye(ut.from(),ct.from())}),r=f(t,i);for(var v=1;v<t.length;v++){var U=t[v],Y=t[v-1],me=ye(Y.to(),U.from());if(n&&!U.empty()?me>0:me>=0){var be=$t(Y.from(),U.from()),Ue=Vt(Y.to(),U.to()),$e=Y.empty()?U.from()==U.head:Y.from()==Y.head;v<=r&&--r,t.splice(--v,2,new or($e?Ue:be,$e?be:Ue))}}return new yi(t,r)}function zi(e,t){return new yi([new or(e,t||e)],0)}function Ui(e){return e.text?Tt(e.from.line+e.text.length-1,M(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function ns(e,t){if(ye(e,t.from)<0)return e;if(ye(e,t.to)<=0)return Ui(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Ui(t).ch-t.to.ch),Tt(r,n)}function _a(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new or(ns(i.anchor,t),ns(i.head,t)))}return Oi(e.cm,r,e.sel.primIndex)}function rs(e,t,r){return e.line==t.line?Tt(r.line,e.ch-t.ch+r.ch):Tt(r.line+(e.line-t.line),e.ch)}function Ol(e,t,r){for(var n=[],i=Tt(e.first,0),v=i,U=0;U<t.length;U++){var Y=t[U],me=rs(Y.from,i,v),be=rs(Ui(Y),i,v);if(i=Y.to,v=be,r=="around"){var Ue=e.sel.ranges[U],$e=ye(Ue.head,Ue.anchor)<0;n[U]=new or($e?be:me,$e?me:be)}else n[U]=new or(me,me)}return new yi(n,e.sel.primIndex)}function Pa(e){e.doc.mode=gr(e.options,e.doc.modeOption),Mo(e)}function Mo(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Do(e,100),e.state.modeGen++,e.curOp&&En(e)}function is(e,t){return t.from.ch==0&&t.to.ch==0&&M(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ta(e,t,r,n){function i(en){return r?r[en]:null}function v(en,Gt,an){dt(en,Gt,an,n),ar(en,"change",en,t)}function U(en,Gt){for(var an=[],on=en;on<Gt;++on)an.push(new jt(be[on],i(on),n));return an}var Y=t.from,me=t.to,be=t.text,Ue=Yt(e,Y.line),$e=Yt(e,me.line),ut=M(be),ct=i(be.length-1),yt=me.line-Y.line;if(t.full)e.insert(0,U(0,be.length)),e.remove(be.length,e.size-be.length);else if(is(e,t)){var Mt=U(0,be.length-1);v($e,$e.text,ct),yt&&e.remove(Y.line,yt),Mt.length&&e.insert(Y.line,Mt)}else if(Ue==$e)if(be.length==1)v(Ue,Ue.text.slice(0,Y.ch)+ut+Ue.text.slice(me.ch),ct);else{var Ht=U(1,be.length-1);Ht.push(new jt(ut+Ue.text.slice(me.ch),ct,n)),v(Ue,Ue.text.slice(0,Y.ch)+be[0],i(0)),e.insert(Y.line+1,Ht)}else if(be.length==1)v(Ue,Ue.text.slice(0,Y.ch)+be[0]+$e.text.slice(me.ch),i(0)),e.remove(Y.line+1,yt);else{v(Ue,Ue.text.slice(0,Y.ch)+be[0],i(0)),v($e,ut+$e.text.slice(me.ch),ct);var Xt=U(1,be.length-1);yt>1&&e.remove(Y.line+1,yt-1),e.insert(Y.line+1,Xt)}ar(e,"change",e,t)}function Wi(e,t,r){function n(i,v,U){if(i.linked)for(var Y=0;Y<i.linked.length;++Y){var me=i.linked[Y];if(me.doc!=v){var be=U&&me.sharedHist;r&&!be||(t(me.doc,be),n(me.doc,i,be))}}}n(e,null,!0)}function os(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Tn(e),Pa(e),as(e),e.options.direction=t.direction,e.options.lineWrapping||vt(e),e.options.mode=t.modeOption,En(e)}function as(e){(e.doc.direction=="rtl"?S:W)(e.display.lineDiv,"CodeMirror-rtl")}function Sl(e){hi(e,function(){as(e),En(e)})}function na(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Ea(e,t){var r={from:xt(t.from),to:Ui(t),text:Nn(e,t.from,t.to)};return us(e,r,t.from.line,t.to.line+1),Wi(e,function(n){return us(n,r,t.from.line,t.to.line+1)},!0),r}function ss(e){for(;e.length&&M(e).ranges;)e.pop()}function _l(e,t){return t?(ss(e.done),M(e.done)):e.done.length&&!M(e.done).ranges?M(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),M(e.done)):void 0}function ls(e,t,r,n){var i=e.history;i.undone.length=0;var v,U,Y=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>Y-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(v=_l(i,i.lastOp==n)))U=M(v.changes),ye(t.from,t.to)==0&&ye(t.from,U.to)==0?U.to=Ui(t):v.changes.push(Ea(e,t));else{var me=M(i.done);for(me&&me.ranges||ra(e.sel,i.done),v={changes:[Ea(e,t)],generation:i.generation},i.done.push(v);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=Y,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,U||et(e,"historyAdded")}function Pl(e,t,r,n){var i=t.charAt(0);return i=="*"||i=="+"&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Tl(e,t,r,n){var i=e.history,v=n&&n.origin;r==i.lastSelOp||v&&i.lastSelOrigin==v&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==v||Pl(e,v,M(i.done),t))?i.done[i.done.length-1]=t:ra(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=v,i.lastSelOp=r,n&&n.clearRedo!==!1&&ss(i.undone)}function ra(e,t){var r=M(t);r&&r.ranges&&r.equals(e)||t.push(e)}function us(e,t,r,n){var i=t["spans_"+e.id],v=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(U){U.markedSpans&&((i||(i=t["spans_"+e.id]={}))[v]=U.markedSpans),++v})}function El(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function jl(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(El(r[i]));return n}function cs(e,t){var r=jl(e,t),n=Ut(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var v=r[i],U=n[i];if(v&&U)e:for(var Y=0;Y<U.length;++Y){for(var me=U[Y],be=0;be<v.length;++be)if(v[be].marker==me.marker)continue e;v.push(me)}else U&&(r[i]=U)}return r}function po(e,t,r){for(var n=[],i=0;i<e.length;++i){var v=e[i];if(v.ranges)n.push(r?yi.prototype.deepCopy.call(v):v);else{var U=v.changes,Y=[];n.push({changes:Y});for(var me=0;me<U.length;++me){var be=U[me],Ue=void 0;if(Y.push({from:be.from,to:be.to,text:be.text}),t)for(var $e in be)(Ue=$e.match(/^spans_(\d+)$/))&&f(t,Number(Ue[1]))>-1&&(M(Y)[$e]=be[$e],delete be[$e])}}}return n}function ja(e,t,r,n){if(n){var i=e.anchor;if(r){var v=ye(t,i)<0;v!=ye(r,i)<0?(i=t,t=r):v!=ye(t,r)<0&&(t=r)}return new or(i,t)}return new or(r||t,t)}function ia(e,t,r,n,i){i==null&&(i=e.cm&&(e.cm.display.shift||e.extend)),Qr(e,new yi([ja(e.sel.primary(),t,r,i)],0),n)}function fs(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),v=0;v<e.sel.ranges.length;v++)n[v]=ja(e.sel.ranges[v],t[v],null,i);Qr(e,Oi(e.cm,n,e.sel.primIndex),r)}function Aa(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Qr(e,Oi(e.cm,i,e.sel.primIndex),n)}function hs(e,t,r,n){Qr(e,zi(t,r),n)}function Al(e,t,r){var n={ranges:t.ranges,update:function(i){this.ranges=[];for(var v=0;v<i.length;v++)this.ranges[v]=new or(qt(e,i[v].anchor),qt(e,i[v].head))},origin:r&&r.origin};return et(e,"beforeSelectionChange",e,n),e.cm&&et(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Oi(e.cm,n.ranges,n.ranges.length-1):t}function ps(e,t,r){var n=e.history.done,i=M(n);i&&i.ranges?(n[n.length-1]=t,oa(e,t,r)):Qr(e,t,r)}function Qr(e,t,r){oa(e,t,r),Tl(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function oa(e,t,r){(Be(e,"beforeSelectionChange")||e.cm&&Be(e.cm,"beforeSelectionChange"))&&(t=Al(e,t,r));var n=r&&r.bias||(ye(t.primary().head,e.sel.primary().head)<0?-1:1);ds(e,vs(e,t,n,!0)),r&&r.scroll===!1||!e.cm||e.cm.getOption("readOnly")=="nocursor"||fo(e.cm)}function ds(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Lt(e.cm)),ar(e,"cursorActivity",e))}function gs(e){ds(e,vs(e,e.sel,null,!1))}function vs(e,t,r,n){for(var i,v=0;v<t.ranges.length;v++){var U=t.ranges[v],Y=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[v],me=aa(e,U.anchor,Y&&Y.anchor,r,n),be=U.head==U.anchor?me:aa(e,U.head,Y&&Y.head,r,n);(i||me!=U.anchor||be!=U.head)&&(i||(i=t.ranges.slice(0,v)),i[v]=new or(me,be))}return i?Oi(e.cm,i,t.primIndex):t}function go(e,t,r,n,i){var v=Yt(e,t.line);if(v.markedSpans)for(var U=0;U<v.markedSpans.length;++U){var Y=v.markedSpans[U],me=Y.marker,be="selectLeft"in me?!me.selectLeft:me.inclusiveLeft,Ue="selectRight"in me?!me.selectRight:me.inclusiveRight;if((Y.from==null||(be?Y.from<=t.ch:Y.from<t.ch))&&(Y.to==null||(Ue?Y.to>=t.ch:Y.to>t.ch))){if(i&&(et(me,"beforeCursorEnter"),me.explicitlyCleared)){if(v.markedSpans){--U;continue}break}if(!me.atomic)continue;if(r){var $e=me.find(n<0?1:-1),ut=void 0;if((n<0?Ue:be)&&($e=ms(e,$e,-n,$e&&$e.line==t.line?v:null)),$e&&$e.line==t.line&&(ut=ye($e,r))&&(n<0?ut<0:ut>0))return go(e,$e,t,n,i)}var ct=me.find(n<0?-1:1);return(n<0?be:Ue)&&(ct=ms(e,ct,n,ct.line==t.line?v:null)),ct?go(e,ct,t,n,i):null}}return t}function aa(e,t,r,n,i){var v=n||1,U=go(e,t,r,v,i)||!i&&go(e,t,r,v,!0)||go(e,t,r,-v,i)||!i&&go(e,t,r,-v,!0);return U||(e.cantEdit=!0,Tt(e.first,0))}function ms(e,t,r,n){return r<0&&t.ch==0?t.line>e.first?qt(e,Tt(t.line-1)):null:r>0&&t.ch==(n||Yt(e,t.line)).text.length?t.line<e.first+e.size-1?Tt(t.line+1,0):null:new Tt(t.line,t.ch+r)}function ys(e){e.setSelection(Tt(e.firstLine(),0),Tt(e.lastLine()),d)}function bs(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(i,v,U,Y){i&&(n.from=qt(e,i)),v&&(n.to=qt(e,v)),U&&(n.text=U),Y!==void 0&&(n.origin=Y)}),et(e,"beforeChange",e,n),e.cm&&et(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function vo(e,t,r){if(e.cm){if(!e.cm.curOp)return qr(e.cm,vo)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Be(e,"beforeChange")||e.cm&&Be(e.cm,"beforeChange"))||(t=bs(e,t,!0))){var n=y&&!r&&hn(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)ws(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else ws(e,t)}}function ws(e,t){if(t.text.length!=1||t.text[0]!=""||ye(t.from,t.to)!=0){var r=_a(e,t);ls(e,t,r,e.cm?e.cm.curOp.id:NaN),Lo(e,t,r,Ut(e,t));var n=[];Wi(e,function(i,v){v||f(n,i.history)!=-1||(Os(i.history,t),n.push(i.history)),Lo(i,t,null,Ut(i,t))})}}function sa(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,v=e.history,U=e.sel,Y=t=="undo"?v.done:v.undone,me=t=="undo"?v.undone:v.done,be=0;be<Y.length&&(i=Y[be],r?!i.ranges||i.equals(e.sel):i.ranges);be++);if(be!=Y.length){for(v.lastOrigin=v.lastSelOrigin=null;;){if(!(i=Y.pop()).ranges){if(n)return void Y.push(i);break}if(ra(i,me),r&&!i.equals(e.sel))return void Qr(e,i,{clearRedo:!1});U=i}var Ue=[];ra(U,me),me.push({changes:Ue,generation:v.generation}),v.generation=i.generation||++v.maxGeneration;for(var $e=Be(e,"beforeChange")||e.cm&&Be(e.cm,"beforeChange"),ut=function(Mt){var Ht=i.changes[Mt];if(Ht.origin=t,$e&&!bs(e,Ht,!1))return Y.length=0,{};Ue.push(Ea(e,Ht));var Xt=Mt?_a(e,Ht):M(Y);Lo(e,Ht,Xt,cs(e,Ht)),!Mt&&e.cm&&e.cm.scrollIntoView({from:Ht.from,to:Ui(Ht)});var en=[];Wi(e,function(Gt,an){an||f(en,Gt.history)!=-1||(Os(Gt.history,Ht),en.push(Gt.history)),Lo(Gt,Ht,null,cs(Gt,Ht))})},ct=i.changes.length-1;ct>=0;--ct){var yt=ut(ct);if(yt)return yt.v}}}}function xs(e,t){if(t!=0&&(e.first+=t,e.sel=new yi(J(e.sel.ranges,function(i){return new or(Tt(i.anchor.line+t,i.anchor.ch),Tt(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){En(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Kn(e.cm,n,"gutter")}}function Lo(e,t,r,n){if(e.cm&&!e.cm.curOp)return qr(e.cm,Lo)(e,t,r,n);if(t.to.line<e.first)xs(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);xs(e,i),t={from:Tt(e.first,0),to:Tt(t.to.line+i,t.to.ch),text:[M(t.text)],origin:t.origin}}var v=e.lastLine();t.to.line>v&&(t={from:t.from,to:Tt(v,Yt(e,v).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Nn(e,t.from,t.to),r||(r=_a(e,t)),e.cm?Dl(e.cm,t,n):Ta(e,t,n),oa(e,r,d),e.cantEdit&&aa(e,Tt(e.firstLine(),0))&&(e.cantEdit=!1)}}function Dl(e,t,r){var n=e.doc,i=e.display,v=t.from,U=t.to,Y=!1,me=v.line;e.options.lineWrapping||(me=un(p(Yt(n,v.line))),n.iter(me,U.line+1,function(ct){if(ct==i.maxLine)return Y=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Lt(e),Ta(n,t,r,Jt(e)),e.options.lineWrapping||(n.iter(me,v.line+t.text.length,function(ct){var yt=at(ct);yt>i.maxLineLength&&(i.maxLine=ct,i.maxLineLength=yt,i.maxLineChanged=!0,Y=!1)}),Y&&(e.curOp.updateMaxLine=!0)),pe(n,v.line),Do(e,400);var be=t.text.length-(U.line-v.line)-1;t.full?En(e):v.line!=U.line||t.text.length!=1||is(e.doc,t)?En(e,v.line,U.line+1,be):Kn(e,v.line,"text");var Ue=Be(e,"changes"),$e=Be(e,"change");if($e||Ue){var ut={from:v,to:U,text:t.text,removed:t.removed,origin:t.origin};$e&&ar(e,"change",e,ut),Ue&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(ut)}e.display.selForContextMenu=null}function mo(e,t,r,n,i){var v;n||(n=r),ye(n,r)<0&&(r=(v=[n,r])[0],n=v[1]),typeof t=="string"&&(t=e.splitLines(t)),vo(e,{from:r,to:n,text:t,origin:i})}function ks(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Cs(e,t,r,n){for(var i=0;i<e.length;++i){var v=e[i],U=!0;if(v.ranges){v.copied||((v=e[i]=v.deepCopy()).copied=!0);for(var Y=0;Y<v.ranges.length;Y++)ks(v.ranges[Y].anchor,t,r,n),ks(v.ranges[Y].head,t,r,n)}else{for(var me=0;me<v.changes.length;++me){var be=v.changes[me];if(r<be.from.line)be.from=Tt(be.from.line+n,be.from.ch),be.to=Tt(be.to.line+n,be.to.ch);else if(t<=be.to.line){U=!1;break}}U||(e.splice(0,i+1),i=0)}}}function Os(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Cs(e.done,r,n,i),Cs(e.undone,r,n,i)}function Zo(e,t,r,n){var i=t,v=t;return typeof t=="number"?v=Yt(e,vn(e,t)):i=un(t),i==null?null:(n(v,i)&&e.cm&&Kn(e.cm,i,r),v)}function No(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function Io(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}or.prototype.from=function(){return $t(this.anchor,this.head)},or.prototype.to=function(){return Vt(this.anchor,this.head)},or.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},No.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,Ot(i),ar(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},Io.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var v=Math.min(t,i-e),U=n.height;if(n.removeInner(e,v),this.height-=U-n.height,i==v&&(this.children.splice(r--,1),n.parent=null),(t-=v)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof No))){var Y=[];this.collapse(Y),this.children=[new No(Y)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],v=i.chunkSize();if(e<=v){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var U=i.lines.length%25+25,Y=U;Y<i.lines.length;){var me=new No(i.lines.slice(Y,Y+=25));i.height-=me.height,this.children.splice(++n,0,me),me.parent=this}i.lines=i.lines.slice(0,U),this.maybeSpill()}break}e-=v}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Io(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=f(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new Io(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],v=i.chunkSize();if(e<v){var U=Math.min(t,v-e);if(i.iterN(e,U,r))return!0;if((t-=U)==0)break;e=0}else e-=v}}};var Fo=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function Ss(e,t,r){He(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&wa(e,r)}function Rl(e,t,r,n){var i=new Fo(e,r,n),v=e.cm;return v&&i.noHScroll&&(v.display.alignWidgets=!0),Zo(e,t,"widget",function(U){var Y=U.widgets||(U.widgets=[]);if(i.insertAt==null?Y.push(i):Y.splice(Math.min(Y.length,Math.max(0,i.insertAt)),0,i),i.line=U,v&&!ke(e,U)){var me=He(U)<e.scrollTop;Ln(U,U.height+ge(i)),me&&wa(v,i.height),v.curOp.forceUpdate=!0}return!0}),v&&ar(v,"lineWidgetAdded",v,i,typeof t=="number"?t:un(t)),i}Fo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=un(r);if(n!=null&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var v=ge(this);Ln(r,Math.max(0,r.height-v)),e&&(hi(e,function(){Ss(e,r,-v),Kn(e,n,"widget")}),ar(e,"lineWidgetCleared",e,this,n))}},Fo.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=ge(this)-t;i&&(ke(this.doc,n)||Ln(n,n.height+i),r&&hi(r,function(){r.curOp.forceUpdate=!0,Ss(r,n,i),ar(r,"lineWidgetChanged",r,e,un(n))}))},nt(Fo);var _s=0,$i=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++_s};function yo(e,t,r,n,i){if(n&&n.shared)return Ml(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return qr(e.cm,yo)(e,t,r,n,i);var v=new $i(e,i),U=ye(t,r);if(n&&I(n,v,!1),U>0||U==0&&v.clearWhenEmpty!==!1)return v;if(v.replacedWith&&(v.collapsed=!0,v.widgetNode=a("span",[v.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||v.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(v.widgetNode.insertLeft=!0)),v.collapsed){if(o(e,t.line,t,r,v)||t.line!=r.line&&o(e,r.line,t,r,v))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ie()}v.addToHistory&&ls(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var Y,me=t.line,be=e.cm;if(e.iter(me,r.line+1,function($e){be&&v.collapsed&&!be.options.lineWrapping&&p($e)==be.display.maxLine&&(Y=!0),v.collapsed&&me!=t.line&&Ln($e,0),Ct($e,new tt(v,me==t.line?t.ch:null,me==r.line?r.ch:null),e.cm&&e.cm.curOp),++me}),v.collapsed&&e.iter(t.line,r.line+1,function($e){ke(e,$e)&&Ln($e,0)}),v.clearOnEnter&&kt(v,"beforeCursorEnter",function(){return v.clear()}),v.readOnly&&(Te(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),v.collapsed&&(v.id=++_s,v.atomic=!0),be){if(Y&&(be.curOp.updateMaxLine=!0),v.collapsed)En(be,t.line,r.line+1);else if(v.className||v.startStyle||v.endStyle||v.css||v.attributes||v.title)for(var Ue=t.line;Ue<=r.line;Ue++)Kn(be,Ue,"text");v.atomic&&gs(be.doc),ar(be,"markerAdded",be,v)}return v}$i.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&io(e),Be(this,"clear")){var r=this.find();r&&ar(this,"clear",r.from,r.to)}for(var n=null,i=null,v=0;v<this.lines.length;++v){var U=this.lines[v],Y=pt(U.markedSpans,this);e&&!this.collapsed?Kn(e,un(U),"text"):e&&(Y.to!=null&&(i=un(U)),Y.from!=null&&(n=un(U))),U.markedSpans=Pt(U.markedSpans,Y),Y.from==null&&this.collapsed&&!ke(this.doc,U)&&e&&Ln(U,ft(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var me=0;me<this.lines.length;++me){var be=p(this.lines[me]),Ue=at(be);Ue>e.display.maxLineLength&&(e.display.maxLine=be,e.display.maxLineLength=Ue,e.display.maxLineChanged=!0)}n!=null&&e&&this.collapsed&&En(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&gs(e.doc)),e&&ar(e,"markerCleared",e,this,n,i),t&&oo(e),this.parent&&this.parent.clear()}},$i.prototype.find=function(e,t){var r,n;e==null&&this.type=="bookmark"&&(e=1);for(var i=0;i<this.lines.length;++i){var v=this.lines[i],U=pt(v.markedSpans,this);if(U.from!=null&&(r=Tt(t?v:un(v),U.from),e==-1))return r;if(U.to!=null&&(n=Tt(t?v:un(v),U.to),e==1))return n}return r&&{from:r,to:n}},$i.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&hi(n,function(){var i=t.line,v=un(t.line),U=Ai(n,v);if(U&&(_o(U),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ke(r.doc,i)&&r.height!=null){var Y=r.height;r.height=null;var me=ge(r)-Y;me&&Ln(i,i.height+me)}ar(n,"markerChanged",n,e)})},$i.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&f(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},$i.prototype.detachLine=function(e){if(this.lines.splice(f(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},nt($i);var Bo=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function Ml(e,t,r,n,i){(n=I(n)).shared=!1;var v=[yo(e,t,r,n,i)],U=v[0],Y=n.widgetNode;return Wi(e,function(me){Y&&(n.widgetNode=Y.cloneNode(!0)),v.push(yo(me,qt(me,t),qt(me,r),n,i));for(var be=0;be<me.linked.length;++be)if(me.linked[be].isParent)return;U=M(v)}),new Bo(v,U)}function Ps(e){return e.findMarks(Tt(e.first,0),e.clipPos(Tt(e.lastLine())),function(t){return t.parent})}function Ll(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),v=e.clipPos(i.from),U=e.clipPos(i.to);if(ye(v,U)){var Y=yo(e,v,U,n.primary,n.primary.type);n.markers.push(Y),Y.parent=n}}}function Zl(e){for(var t=function(n){var i=e[n],v=[i.primary.doc];Wi(i.primary.doc,function(me){return v.push(me)});for(var U=0;U<i.markers.length;U++){var Y=i.markers[U];f(v,Y.doc)==-1&&(Y.parent=null,i.markers.splice(U--,1))}},r=0;r<e.length;r++)t(r)}Bo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ar(this,"clear")}},Bo.prototype.find=function(e,t){return this.primary.find(e,t)},nt(Bo);var Nl=0,si=function(e,t,r,n,i){if(!(this instanceof si))return new si(e,t,r,n,i);r==null&&(r=0),Io.call(this,[new No([new jt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var v=Tt(r,0);this.sel=zi(v),this.history=new na(null),this.id=++Nl,this.modeOption=t,this.lineSep=n,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Ta(this,{from:v,to:v,text:e}),Qr(this,zi(v),d)};si.prototype=Ye(Io.prototype,{constructor:si,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=sr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Gr(function(e){var t=Tt(this.first,0),r=this.first+this.size-1;vo(this,{from:t,to:Tt(r,Yt(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&To(this.cm,0,0),Qr(this,zi(t),d)}),replaceRange:function(e,t,r,n){mo(this,e,t=qt(this,t),r=r?qt(this,r):t,n)},getRange:function(e,t,r){var n=Nn(this,qt(this,e),qt(this,t));return r===!1?n:r===""?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Mr(this,e))return Yt(this,e)},getLineNumber:function(e){return un(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Yt(this,e)),p(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return qt(this,e)},getCursor:function(e){var t=this.sel.primary();return e==null||e=="head"?t.head:e=="anchor"?t.anchor:e=="end"||e=="to"||e===!1?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Gr(function(e,t,r){hs(this,qt(this,typeof e=="number"?Tt(e,t||0):e),null,r)}),setSelection:Gr(function(e,t,r){hs(this,qt(this,e),qt(this,t||e),r)}),extendSelection:Gr(function(e,t,r){ia(this,qt(this,e),t&&qt(this,t),r)}),extendSelections:Gr(function(e,t){fs(this,Jn(this,e),t)}),extendSelectionsBy:Gr(function(e,t){fs(this,Jn(this,J(this.sel.ranges,e)),t)}),setSelections:Gr(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new or(qt(this,e[i].anchor),qt(this,e[i].head||e[i].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Qr(this,Oi(this.cm,n,t),r)}}),addSelection:Gr(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new or(qt(this,e),qt(this,t||e))),Qr(this,Oi(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=Nn(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=Nn(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Gr(function(e,t,r){for(var n=[],i=this.sel,v=0;v<i.ranges.length;v++){var U=i.ranges[v];n[v]={from:U.from(),to:U.to(),text:this.splitLines(e[v]),origin:r}}for(var Y=t&&t!="end"&&Ol(this,n,t),me=n.length-1;me>=0;me--)vo(this,n[me]);Y?ps(this,Y):this.cm&&fo(this.cm)}),undo:Gr(function(){sa(this,"undo")}),redo:Gr(function(){sa(this,"redo")}),undoSelection:Gr(function(){sa(this,"undo",!0)}),redoSelection:Gr(function(){sa(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new na(this.history),Wi(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:po(this.history.done),undone:po(this.history.undone)}},setHistory:function(e){var t=this.history=new na(this.history);t.done=po(e.done.slice(0),null,!0),t.undone=po(e.undone.slice(0),null,!0)},setGutterMarker:Gr(function(e,t,r){return Zo(this,e,"gutter",function(n){var i=n.gutterMarkers||(n.gutterMarkers={});return i[t]=r,!r&&x(i)&&(n.gutterMarkers=null),!0})}),clearGutter:Gr(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Zo(t,r,"gutter",function(){return r.gutterMarkers[e]=null,x(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!Mr(this,e)||(t=e,!(e=Yt(this,e))))return null}else if((t=un(e))==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Gr(function(e,t,r){return Zo(this,e,t=="gutter"?"gutter":"class",function(n){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(n[i]){if(z(r).test(n[i]))return!1;n[i]+=" "+r}else n[i]=r;return!0})}),removeLineClass:Gr(function(e,t,r){return Zo(this,e,t=="gutter"?"gutter":"class",function(n){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",v=n[i];if(!v)return!1;if(r==null)n[i]=null;else{var U=v.match(z(r));if(!U)return!1;var Y=U.index+U[0].length;n[i]=v.slice(0,U.index)+(U.index&&Y!=v.length?" ":"")+v.slice(Y)||null}return!0})}),addLineWidget:Gr(function(e,t,r){return Rl(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return yo(this,qt(this,e),qt(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return yo(this,e=qt(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Yt(this,(e=qt(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=qt(this,e),t=qt(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(v){var U=v.markedSpans;if(U)for(var Y=0;Y<U.length;Y++){var me=U[Y];me.to!=null&&i==e.line&&e.ch>=me.to||me.from==null&&i!=e.line||me.from!=null&&i==t.line&&me.from>=t.ch||r&&!r(me.marker)||n.push(me.marker.parent||me.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)r[n].from!=null&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var v=i.text.length+n;if(v>e)return t=e,!0;e-=v,++r}),qt(this,Tt(r,t))},indexFromPos:function(e){var t=(e=qt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(n){t+=n.text.length+r}),t},copy:function(e){var t=new si(sr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);var n=new si(sr(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ll(n,Ps(this)),n},unlinkDoc:function(e){if(e instanceof xr&&(e=e.doc),this.linked){for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Zl(Ps(this));break}}if(e.history==this.history){var r=[e.id];Wi(e,function(n){return r.push(n.id)},!0),e.history=new na(null),e.history.done=po(this.history.done,r),e.history.undone=po(this.history.undone,r)}},iterLinkedDocs:function(e){Wi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):nn(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Gr(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&Sl(this.cm))})}),si.prototype.eachLine=si.prototype.iter;var Ts=0;function Il(e){var t=this;if(Es(t),!rt(t,e)&&!Ee(t.display,e)){lt(e),ue&&(Ts=+new Date);var r=mn(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,v=Array(i),U=0,Y=function(){++U==i&&qr(t,function(){var ct={from:r=qt(t.doc,r),to:r,text:t.doc.splitLines(v.filter(function(yt){return yt!=null}).join(t.doc.lineSeparator())),origin:"paste"};vo(t.doc,ct),ps(t.doc,zi(qt(t.doc,r),qt(t.doc,Ui(ct))))})()},me=function(ct,yt){if(t.options.allowDropFileTypes&&f(t.options.allowDropFileTypes,ct.type)==-1)Y();else{var Mt=new FileReader;Mt.onerror=function(){return Y()},Mt.onload=function(){var Ht=Mt.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Ht)||(v[yt]=Ht),Y()},Mt.readAsText(ct)}},be=0;be<n.length;be++)me(n[be],be);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var Ue=e.dataTransfer.getData("Text");if(Ue){var $e;if(t.state.draggingText&&!t.state.draggingText.copy&&($e=t.listSelections()),oa(t.doc,zi(r,r)),$e)for(var ut=0;ut<$e.length;++ut)mo(t.doc,"",$e[ut].anchor,$e[ut].head,"drag");t.replaceSelection(Ue,"around","paste"),t.display.input.focus()}}catch{}}}}function Fl(e,t){if(ue&&(!e.state.draggingText||+new Date-Ts<100))mt(t);else if(!rt(e,t)&&!Ee(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!T)){var r=O("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),b&&r.parentNode.removeChild(r)}}function Bl(e,t){var r=mn(e,t);if(r){var n=document.createDocumentFragment();Mi(e,r,n),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,n)}}function Es(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function js(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var v=0;v<r.length;v++)e(r[v])})}}var As=!1;function Vl(){As||(Hl(),As=!0)}function Hl(){var e;kt(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,js(zl)},100))}),kt(window,"blur",function(){return js(co)})}function zl(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var qi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vo=0;Vo<10;Vo++)qi[Vo+48]=qi[Vo+96]=String(Vo);for(var la=65;la<=90;la++)qi[la]=String.fromCharCode(la);for(var Ho=1;Ho<=12;Ho++)qi[Ho+111]=qi[Ho+63235]="F"+Ho;var Zi={};function Ul(e){var t,r,n,i,v=e.split(/-(?!$)/);e=v[v.length-1];for(var U=0;U<v.length-1;U++){var Y=v[U];if(/^(cmd|meta|m)$/i.test(Y))i=!0;else if(/^a(lt)?$/i.test(Y))t=!0;else if(/^(c|ctrl|control)$/i.test(Y))r=!0;else{if(!/^s(hift)?$/i.test(Y))throw new Error("Unrecognized modifier name: "+Y);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Wl(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(n=="..."){delete e[r];continue}for(var i=J(r.split(" "),Ul),v=0;v<i.length;v++){var U=void 0,Y=void 0;v==i.length-1?(Y=i.join(" "),U=n):(Y=i.slice(0,v+1).join(" "),U="...");var me=t[Y];if(me){if(me!=U)throw new Error("Inconsistent bindings for "+Y)}else t[Y]=U}delete e[r]}for(var be in t)e[be]=t[be];return e}function bo(e,t,r,n){var i=(t=ua(t)).call?t.call(e,n):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&r(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return bo(e,t.fallthrough,r,n);for(var v=0;v<t.fallthrough.length;v++){var U=bo(e,t.fallthrough[v],r,n);if(U)return U}}}function Ds(e){var t=typeof e=="string"?e:qi[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Rs(e,t,r){var n=e;return t.altKey&&n!="Alt"&&(e="Alt-"+e),(he?t.metaKey:t.ctrlKey)&&n!="Ctrl"&&(e="Ctrl-"+e),(he?t.ctrlKey:t.metaKey)&&n!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&n!="Shift"&&(e="Shift-"+e),e}function Ms(e,t){if(b&&e.keyCode==34&&e.char)return!1;var r=qi[e.keyCode];return r!=null&&!e.altGraphKey&&(e.keyCode==3&&e.code&&(r=e.code),Rs(r,e,t))}function ua(e){return typeof e=="string"?Zi[e]:e}function wo(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var v=t(r[i]);n.length&&ye(v.from,M(n).to)<=0;){var U=n.pop();if(ye(U.from,v.from)<0){v.from=U.from;break}}n.push(v)}hi(e,function(){for(var Y=n.length-1;Y>=0;Y--)mo(e.doc,"",n[Y].from,n[Y].to,"+delete");fo(e)})}function Da(e,t,r){var n=De(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Ra(e,t,r){var n=Da(e,t.ch,r);return n==null?null:new Tt(t.line,n,r<0?"after":"before")}function Ma(e,t,r,n,i){if(e){t.doc.direction=="rtl"&&(i=-i);var v=rn(r,t.doc.direction);if(v){var U,Y=i<0?M(v):v[0],me=i<0==(Y.level==1)?"after":"before";if(Y.level>0||t.doc.direction=="rtl"){var be=xi(t,r);U=i<0?r.text.length-1:0;var Ue=gi(t,be,U).top;U=Ge(function($e){return gi(t,be,$e).top==Ue},i<0==(Y.level==1)?Y.from:Y.to-1,U),me=="before"&&(U=Da(r,U,1))}else U=i<0?Y.to:Y.from;return new Tt(n,U,me)}}return new Tt(n,i<0?r.text.length:0,i<0?"before":"after")}function $l(e,t,r,n){var i=rn(t,e.doc.direction);if(!i)return Ra(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var v=At(i,r.ch,r.sticky),U=i[v];if(e.doc.direction=="ltr"&&U.level%2==0&&(n>0?U.to>r.ch:U.from<r.ch))return Ra(t,r,n);var Y,me=function(Xt,en){return Da(t,Xt instanceof Tt?Xt.ch:Xt,en)},be=function(Xt){return e.options.lineWrapping?(Y=Y||xi(e,t),Yo(e,t,Y,Xt)):{begin:0,end:t.text.length}},Ue=be(r.sticky=="before"?me(r,-1):r.ch);if(e.doc.direction=="rtl"||U.level==1){var $e=U.level==1==n<0,ut=me(r,$e?1:-1);if(ut!=null&&($e?ut<=U.to&&ut<=Ue.end:ut>=U.from&&ut>=Ue.begin)){var ct=$e?"before":"after";return new Tt(r.line,ut,ct)}}var yt=function(Xt,en,Gt){for(var an=function(dr,pi){return pi?new Tt(r.line,me(dr,1),"before"):new Tt(r.line,dr,"after")};Xt>=0&&Xt<i.length;Xt+=en){var on=i[Xt],dn=en>0==(on.level!=1),pr=dn?Gt.begin:me(Gt.end,-1);if(on.from<=pr&&pr<on.to||(pr=dn?on.from:me(on.to,-1),Gt.begin<=pr&&pr<Gt.end))return an(pr,dn)}},Mt=yt(v+n,n,Ue);if(Mt)return Mt;var Ht=n>0?Ue.end:me(Ue.begin,-1);return Ht==null||n>0&&Ht==t.text.length||!(Mt=yt(n>0?0:i.length-1,n,be(Ht)))?null:Mt}Zi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Zi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Zi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Zi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Zi.default=Z?Zi.macDefault:Zi.pcDefault;var zo={selectAll:ys,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),d)},killLine:function(e){return wo(e,function(t){if(t.empty()){var r=Yt(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:Tt(t.head.line+1,0)}:{from:t.head,to:Tt(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return wo(e,function(t){return{from:Tt(t.from().line,0),to:qt(e.doc,Tt(t.to().line+1,0))}})},delLineLeft:function(e){return wo(e,function(t){return{from:Tt(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return wo(e,function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}})},delWrappedLineRight:function(e){return wo(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Tt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Tt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Ls(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Zs(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return ql(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},q)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},q)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?Zs(e,t.head):n},q)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var v=r[i].from(),U=C(e.getLine(v.line),v.ch,n);t.push(w(n-U%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return hi(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,v=Yt(e.doc,i.line).text;if(v){if(i.ch==v.length&&(i=new Tt(i.line,i.ch-1)),i.ch>0)i=new Tt(i.line,i.ch+1),e.replaceRange(v.charAt(i.ch-1)+v.charAt(i.ch-2),Tt(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var U=Yt(e.doc,i.line-1).text;U&&(i=new Tt(i.line,1),e.replaceRange(v.charAt(0)+e.doc.lineSeparator()+U.charAt(U.length-1),Tt(i.line-1,U.length-1),i,"+transpose"))}}r.push(new or(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return hi(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);fo(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ls(e,t){var r=Yt(e.doc,t),n=p(r);return n!=r&&(t=un(n)),Ma(!0,e,n,t,1)}function ql(e,t){var r=Yt(e.doc,t),n=k(r);return n!=r&&(t=un(n)),Ma(!0,e,r,t,-1)}function Zs(e,t){var r=Ls(e,t.line),n=Yt(e.doc,r.line),i=rn(n,e.doc.direction);if(!i||i[0].level==0){var v=Math.max(r.ch,n.text.search(/\S/)),U=t.line==r.line&&t.ch<=v&&t.ch;return Tt(r.line,U?0:v,r.sticky)}return r}function ca(e,t,r){if(typeof t=="string"&&!(t=zo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=u}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function Gl(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=bo(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&bo(t,e.options.extraKeys,r,e)||bo(t,e.options.keyMap,r,e)}var Kl=new l;function Uo(e,t,r,n){var i=e.state.keySeq;if(i){if(Ds(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Kl.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Ns(e,i+" "+t,r,n))return!0}return Ns(e,t,r,n)}function Ns(e,t,r,n){var i=Gl(e,t,n);return i=="multi"&&(e.state.keySeq=t),i=="handled"&&ar(e,"keyHandled",e,t,r),i!="handled"&&i!="multi"||(lt(r),va(e)),!!i}function Is(e,t){var r=Ms(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Uo(e,"Shift-"+r,t,function(n){return ca(e,n,!0)})||Uo(e,r,t,function(n){if(typeof n=="string"?/^go[A-Z]/.test(n):n.motion)return ca(e,n)}):Uo(e,r,t,function(n){return ca(e,n)}))}function Yl(e,t,r){return Uo(e,"'"+r+"'",t,function(n){return ca(e,n,!0)})}var La=null;function Fs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=g(),rt(t,e)))){ue&&ne<11&&e.keyCode==27&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=r==16||e.shiftKey;var n=Is(t,e);b&&(La=n?r:null,n||r!=88||tr||!(Z?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),ve&&!Z&&!n&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r!=18||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Xl(t)}}function Xl(e){var t=e.display.lineDiv;function r(n){n.keyCode!=18&&n.altKey||(W(t,"CodeMirror-crosshair"),We(document,"keyup",r),We(document,"mouseover",r))}S(t,"CodeMirror-crosshair"),kt(document,"keyup",r),kt(document,"mouseover",r)}function Bs(e){e.keyCode==16&&(this.doc.sel.shift=!1),rt(this,e)}function Vs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Ee(t.display,e)||rt(t,e)||e.ctrlKey&&!e.altKey||Z&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(b&&r==La)return La=null,void lt(e);if(!b||e.which&&!(e.which<10)||!Is(t,e)){var i=String.fromCharCode(n==null?r:n);i!="\b"&&(Yl(t,e,i)||t.display.input.onKeyPress(e))}}}var Wo,$o,Jl=400,Za=function(e,t,r){this.time=e,this.pos=t,this.button=r};function Ql(e,t){var r=+new Date;return $o&&$o.compare(r,e,t)?(Wo=$o=null,"triple"):Wo&&Wo.compare(r,e,t)?($o=new Za(r,e,t),Wo=null,"double"):(Wo=new Za(r,e,t),$o=null,"single")}function Hs(e){var t=this,r=t.display;if(!(rt(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Ee(r,e))X||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!Na(t,e)){var n=mn(t,e),i=wn(e),v=n?Ql(n,i):"single";window.focus(),i==1&&t.state.selectingText&&t.state.selectingText(e),n&&eu(t,i,n,v,e)||(i==1?n?nu(t,n,v,e):fn(e)==r.scroller&&lt(e):i==2?(n&&ia(t.doc,n),setTimeout(function(){return r.input.focus()},20)):i==3&&(A?t.display.input.onContextMenu(e):ma(t)))}}}function eu(e,t,r,n,i){var v="Click";return n=="double"?v="Double"+v:n=="triple"&&(v="Triple"+v),Uo(e,Rs(v=(t==1?"Left":t==2?"Middle":"Right")+v,i),i,function(U){if(typeof U=="string"&&(U=zo[U]),!U)return!1;var Y=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),Y=U(e,r)!=u}finally{e.state.suppressEdits=!1}return Y})}function tu(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(i.unit==null){var v=L?r.shiftKey&&r.metaKey:r.altKey;i.unit=v?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(i.extend==null||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),i.addNew==null&&(i.addNew=Z?r.metaKey:r.ctrlKey),i.moveOnDrag==null&&(i.moveOnDrag=!(Z?r.altKey:r.ctrlKey)),i}function nu(e,t,r,n){ue?setTimeout(D(za,e),0):e.curOp.focus=g();var i,v=tu(e,r,n),U=e.doc.sel;e.options.dragDrop&&Sn&&!e.isReadOnly()&&r=="single"&&(i=U.contains(t))>-1&&(ye((i=U.ranges[i]).from(),t)<0||t.xRel>0)&&(ye(i.to(),t)>0||t.xRel<0)?ru(e,n,t,v):iu(e,n,t,v)}function ru(e,t,r,n){var i=e.display,v=!1,U=qr(e,function(be){X&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:ma(e)),We(i.wrapper.ownerDocument,"mouseup",U),We(i.wrapper.ownerDocument,"mousemove",Y),We(i.scroller,"dragstart",me),We(i.scroller,"drop",U),v||(lt(be),n.addNew||ia(e.doc,r,null,null,n.extend),X&&!T||ue&&ne==9?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),Y=function(be){v=v||Math.abs(t.clientX-be.clientX)+Math.abs(t.clientY-be.clientY)>=10},me=function(){return v=!0};X&&(i.scroller.draggable=!0),e.state.draggingText=U,U.copy=!n.moveOnDrag,kt(i.wrapper.ownerDocument,"mouseup",U),kt(i.wrapper.ownerDocument,"mousemove",Y),kt(i.scroller,"dragstart",me),kt(i.scroller,"drop",U),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function zs(e,t,r){if(r=="char")return new or(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new or(Tt(t.line,0),qt(e.doc,Tt(t.line+1,0)));var n=r(e,t);return new or(n.from,n.to)}function iu(e,t,r,n){ue&&ma(e);var i=e.display,v=e.doc;lt(t);var U,Y,me=v.sel,be=me.ranges;if(n.addNew&&!n.extend?(Y=v.sel.contains(r),U=Y>-1?be[Y]:new or(r,r)):(U=v.sel.primary(),Y=v.sel.primIndex),n.unit=="rectangle")n.addNew||(U=new or(r,r)),r=mn(e,t,!0,!0),Y=-1;else{var Ue=zs(e,r,n.unit);U=n.extend?ja(U,Ue.anchor,Ue.head,n.extend):Ue}n.addNew?Y==-1?(Y=be.length,Qr(v,Oi(e,be.concat([U]),Y),{scroll:!1,origin:"*mouse"})):be.length>1&&be[Y].empty()&&n.unit=="char"&&!n.extend?(Qr(v,Oi(e,be.slice(0,Y).concat(be.slice(Y+1)),0),{scroll:!1,origin:"*mouse"}),me=v.sel):Aa(v,Y,U,P):(Y=0,Qr(v,new yi([U],0),P),me=v.sel);var $e=r;function ut(Gt){if(ye($e,Gt)!=0)if($e=Gt,n.unit=="rectangle"){for(var an=[],on=e.options.tabSize,dn=C(Yt(v,r.line).text,r.ch,on),pr=C(Yt(v,Gt.line).text,Gt.ch,on),dr=Math.min(dn,pr),pi=Math.max(dn,pr),wr=Math.min(r.line,Gt.line),ki=Math.min(e.lastLine(),Math.max(r.line,Gt.line));wr<=ki;wr++){var di=Yt(v,wr).text,jr=K(di,dr,on);dr==pi?an.push(new or(Tt(wr,jr),Tt(wr,jr))):di.length>jr&&an.push(new or(Tt(wr,jr),Tt(wr,K(di,pi,on))))}an.length||an.push(new or(r,r)),Qr(v,Oi(e,me.ranges.slice(0,Y).concat(an),Y),{origin:"*mouse",scroll:!1}),e.scrollIntoView(Gt)}else{var li,ri=U,Lr=zs(e,Gt,n.unit),Rr=ri.anchor;ye(Lr.anchor,Rr)>0?(li=Lr.head,Rr=$t(ri.from(),Lr.anchor)):(li=Lr.anchor,Rr=Vt(ri.to(),Lr.head));var Zr=me.ranges.slice(0);Zr[Y]=ou(e,new or(qt(v,Rr),li)),Qr(v,Oi(e,Zr,Y),P)}}var ct=i.wrapper.getBoundingClientRect(),yt=0;function Mt(Gt){var an=++yt,on=mn(e,Gt,!0,n.unit=="rectangle");if(on)if(ye(on,$e)!=0){e.curOp.focus=g(),ut(on);var dn=Jo(i,v);(on.line>=dn.to||on.line<dn.from)&&setTimeout(qr(e,function(){yt==an&&Mt(Gt)}),150)}else{var pr=Gt.clientY<ct.top?-20:Gt.clientY>ct.bottom?20:0;pr&&setTimeout(qr(e,function(){yt==an&&(i.scroller.scrollTop+=pr,Mt(Gt))}),50)}}function Ht(Gt){e.state.selectingText=!1,yt=1/0,Gt&&(lt(Gt),i.input.focus()),We(i.wrapper.ownerDocument,"mousemove",Xt),We(i.wrapper.ownerDocument,"mouseup",en),v.history.lastSelOrigin=null}var Xt=qr(e,function(Gt){Gt.buttons!==0&&wn(Gt)?Mt(Gt):Ht(Gt)}),en=qr(e,Ht);e.state.selectingText=en,kt(i.wrapper.ownerDocument,"mousemove",Xt),kt(i.wrapper.ownerDocument,"mouseup",en)}function ou(e,t){var r=t.anchor,n=t.head,i=Yt(e.doc,r.line);if(ye(r,n)==0&&r.sticky==n.sticky)return t;var v=rn(i);if(!v)return t;var U=At(v,r.ch,r.sticky),Y=v[U];if(Y.from!=r.ch&&Y.to!=r.ch)return t;var me,be=U+(Y.from==r.ch==(Y.level!=1)?0:1);if(be==0||be==v.length)return t;if(n.line!=r.line)me=(n.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var Ue=At(v,n.ch,n.sticky),$e=Ue-U||(n.ch-r.ch)*(Y.level==1?-1:1);me=Ue==be-1||Ue==be?$e<0:$e>0}var ut=v[be+(me?-1:0)],ct=me==(ut.level==1),yt=ct?ut.from:ut.to,Mt=ct?"after":"before";return r.ch==yt&&r.sticky==Mt?t:new or(new Tt(r.line,yt,Mt),n)}function Us(e,t,r,n){var i,v;if(t.touches)i=t.touches[0].clientX,v=t.touches[0].clientY;else try{i=t.clientX,v=t.clientY}catch{return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&lt(t);var U=e.display,Y=U.lineDiv.getBoundingClientRect();if(v>Y.bottom||!Be(e,r))return _t(t);v-=Y.top-U.viewOffset;for(var me=0;me<e.display.gutterSpecs.length;++me){var be=U.gutters.childNodes[me];if(be&&be.getBoundingClientRect().right>=i)return et(e,r,e,cn(e.doc,v),e.display.gutterSpecs[me].className,t),_t(t)}}function Na(e,t){return Us(e,t,"gutterClick",!0)}function Ws(e,t){Ee(e.display,t)||au(e,t)||rt(e,t,"contextmenu")||A||e.display.input.onContextMenu(t)}function au(e,t){return!!Be(e,"gutterContextMenu")&&Us(e,t,"gutterContextMenu",!1)}function $s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Xi(e)}Za.prototype.compare=function(e,t,r){return this.time+Jl>e&&ye(t,this.pos)==0&&r==this.button};var xo={toString:function(){return"CodeMirror.Init"}},qs={},fa={};function su(e){var t=e.optionHandlers;function r(n,i,v,U){e.defaults[n]=i,v&&(t[n]=U?function(Y,me,be){be!=xo&&v(Y,me,be)}:v)}e.defineOption=r,e.Init=xo,r("value","",function(n,i){return n.setValue(i)},!0),r("mode",null,function(n,i){n.doc.modeOption=i,Pa(n)},!0),r("indentUnit",2,Pa,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,function(n){Mo(n),Xi(n),En(n)},!0),r("lineSeparator",null,function(n,i){if(n.doc.lineSep=i,i){var v=[],U=n.doc.first;n.doc.iter(function(me){for(var be=0;;){var Ue=me.text.indexOf(i,be);if(Ue==-1)break;be=Ue+i.length,v.push(Tt(U,Ue))}U++});for(var Y=v.length-1;Y>=0;Y--)mo(n.doc,i,v[Y],Tt(v[Y].line,v[Y].ch+i.length))}}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(n,i,v){n.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),v!=xo&&n.refresh()}),r("specialCharPlaceholder",yr,function(n){return n.refresh()},!0),r("electricChars",!0),r("inputStyle",R?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,function(n,i){return n.getInputField().spellcheck=i},!0),r("autocorrect",!1,function(n,i){return n.getInputField().autocorrect=i},!0),r("autocapitalize",!1,function(n,i){return n.getInputField().autocapitalize=i},!0),r("rtlMoveVisually",!te),r("wholeLineUpdateBefore",!0),r("theme","default",function(n){$s(n),Ro(n)},!0),r("keyMap","default",function(n,i,v){var U=ua(i),Y=v!=xo&&ua(v);Y&&Y.detach&&Y.detach(n,U),U.attach&&U.attach(n,Y||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,uu,!0),r("gutters",[],function(n,i){n.display.gutterSpecs=Sa(i,n.options.lineNumbers),Ro(n)},!0),r("fixedGutter",!0,function(n,i){n.display.gutters.style.left=i?Kt(n.display)+"px":"0",n.refresh()},!0),r("coverGutterNextToScrollbar",!1,function(n){return ho(n)},!0),r("scrollbarStyle","native",function(n){Ka(n),ho(n),n.display.scrollbars.setScrollTop(n.doc.scrollTop),n.display.scrollbars.setScrollLeft(n.doc.scrollLeft)},!0),r("lineNumbers",!1,function(n,i){n.display.gutterSpecs=Sa(n.options.gutters,i),Ro(n)},!0),r("firstLineNumber",1,Ro,!0),r("lineNumberFormatter",function(n){return n},Ro,!0),r("showCursorWhenSelecting",!1,ur,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,function(n,i){i=="nocursor"&&(co(n),n.display.input.blur()),n.display.input.readOnlyChanged(i)}),r("screenReaderLabel",null,function(n,i){i=i===""?null:i,n.display.input.screenReaderLabelChanged(i)}),r("disableInput",!1,function(n,i){i||n.display.input.reset()},!0),r("dragDrop",!0,lu),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,ur,!0),r("singleCursorHeightPerLine",!0,ur,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Mo,!0),r("addModeClass",!1,Mo,!0),r("pollInterval",100),r("undoDepth",200,function(n,i){return n.doc.history.undoDepth=i}),r("historyEventDelay",1250),r("viewportMargin",10,function(n){return n.refresh()},!0),r("maxHighlightLength",1e4,Mo,!0),r("moveInputWithCursor",!0,function(n,i){i||n.display.input.resetPosition()}),r("tabindex",null,function(n,i){return n.display.input.getField().tabIndex=i||""}),r("autofocus",null),r("direction","ltr",function(n,i){return n.doc.setDirection(i)},!0),r("phrases",null)}function lu(e,t,r){if(!t!=!(r&&r!=xo)){var n=e.display.dragFunctions,i=t?kt:We;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function uu(e){e.options.lineWrapping?(S(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(W(e.display.wrapper,"CodeMirror-wrap"),vt(e)),Tn(e),En(e),Xi(e),setTimeout(function(){return ho(e)},100)}function xr(e,t){var r=this;if(!(this instanceof xr))return new xr(e,t);this.options=t=t?I(t):{},I(qs,t,!1);var n=t.value;typeof n=="string"?n=new si(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new xr.inputStyles[t.inputStyle](this),v=this.display=new kl(e,n,i,t);for(var U in v.wrapper.CodeMirror=this,$s(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ka(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new l,keySeq:null,specialChars:null},t.autofocus&&!R&&v.input.focus(),ue&&ne<11&&setTimeout(function(){return r.display.input.reset(!0)},20),cu(this),Vl(),io(this),this.curOp.forceUpdate=!0,os(this,n),t.autofocus&&!R||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&ya(r)},20):co(this),fa)fa.hasOwnProperty(U)&&fa[U](this,t[U],xo);Ja(this),t.finishInit&&t.finishInit(this);for(var Y=0;Y<Ia.length;++Y)Ia[Y](this);oo(this),X&&t.lineWrapping&&getComputedStyle(v.lineDiv).textRendering=="optimizelegibility"&&(v.lineDiv.style.textRendering="auto")}function cu(e){var t=e.display;kt(t.scroller,"mousedown",qr(e,Hs)),kt(t.scroller,"dblclick",ue&&ne<11?qr(e,function(me){if(!rt(e,me)){var be=mn(e,me);if(be&&!Na(e,me)&&!Ee(e.display,me)){lt(me);var Ue=e.findWordAt(be);ia(e.doc,Ue.anchor,Ue.head)}}}):function(me){return rt(e,me)||lt(me)}),kt(t.scroller,"contextmenu",function(me){return Ws(e,me)}),kt(t.input.getField(),"contextmenu",function(me){t.scroller.contains(me.target)||Ws(e,me)});var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function v(me){if(me.touches.length!=1)return!1;var be=me.touches[0];return be.radiusX<=1&&be.radiusY<=1}function U(me,be){if(be.left==null)return!0;var Ue=be.left-me.left,$e=be.top-me.top;return Ue*Ue+$e*$e>400}kt(t.scroller,"touchstart",function(me){if(!rt(e,me)&&!v(me)&&!Na(e,me)){t.input.ensurePolled(),clearTimeout(r);var be=+new Date;t.activeTouch={start:be,moved:!1,prev:be-n.end<=300?n:null},me.touches.length==1&&(t.activeTouch.left=me.touches[0].pageX,t.activeTouch.top=me.touches[0].pageY)}}),kt(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),kt(t.scroller,"touchend",function(me){var be=t.activeTouch;if(be&&!Ee(t,me)&&be.left!=null&&!be.moved&&new Date-be.start<300){var Ue,$e=e.coordsChar(t.activeTouch,"page");Ue=!be.prev||U(be,be.prev)?new or($e,$e):!be.prev.prev||U(be,be.prev.prev)?e.findWordAt($e):new or(Tt($e.line,0),qt(e.doc,Tt($e.line+1,0))),e.setSelection(Ue.anchor,Ue.head),e.focus(),lt(me)}i()}),kt(t.scroller,"touchcancel",i),kt(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Eo(e,t.scroller.scrollTop),no(e,t.scroller.scrollLeft,!0),et(e,"scroll",e))}),kt(t.scroller,"mousewheel",function(me){return ts(e,me)}),kt(t.scroller,"DOMMouseScroll",function(me){return ts(e,me)}),kt(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(me){rt(e,me)||mt(me)},over:function(me){rt(e,me)||(Bl(e,me),mt(me))},start:function(me){return Fl(e,me)},drop:qr(e,Il),leave:function(me){rt(e,me)||Es(e)}};var Y=t.input.getField();kt(Y,"keyup",function(me){return Bs.call(e,me)}),kt(Y,"keydown",qr(e,Fs)),kt(Y,"keypress",qr(e,Vs)),kt(Y,"focus",function(me){return ya(e,me)}),kt(Y,"blur",function(me){return co(e,me)})}xr.defaults=qs,xr.optionHandlers=fa;var Ia=[];function qo(e,t,r,n){var i,v=e.doc;r==null&&(r="add"),r=="smart"&&(v.mode.indent?i=Br(e,t).state:r="prev");var U=e.options.tabSize,Y=Yt(v,t),me=C(Y.text,null,U);Y.stateAfter&&(Y.stateAfter=null);var be,Ue=Y.text.match(/^\s*/)[0];if(n||/\S/.test(Y.text)){if(r=="smart"&&((be=v.mode.indent(i,Y.text.slice(Ue.length),Y.text))==u||be>150)){if(!n)return;r="prev"}}else be=0,r="not";r=="prev"?be=t>v.first?C(Yt(v,t-1).text,null,U):0:r=="add"?be=me+e.options.indentUnit:r=="subtract"?be=me-e.options.indentUnit:typeof r=="number"&&(be=me+r),be=Math.max(0,be);var $e="",ut=0;if(e.options.indentWithTabs)for(var ct=Math.floor(be/U);ct;--ct)ut+=U,$e+="	";if(ut<be&&($e+=w(be-ut)),$e!=Ue)return mo(v,$e,Tt(t,0),Tt(t,Ue.length),"+input"),Y.stateAfter=null,!0;for(var yt=0;yt<v.sel.ranges.length;yt++){var Mt=v.sel.ranges[yt];if(Mt.head.line==t&&Mt.head.ch<Ue.length){var Ht=Tt(t,Ue.length);Aa(v,yt,new or(Ht,Ht));break}}}xr.defineInitHook=function(e){return Ia.push(e)};var Si=null;function ha(e){Si=e}function Fa(e,t,r,n,i){var v=e.doc;e.display.shift=!1,n||(n=v.sel);var U=+new Date-200,Y=i=="paste"||e.state.pasteIncoming>U,me=nn(t),be=null;if(Y&&n.ranges.length>1)if(Si&&Si.text.join(`
`)==t){if(n.ranges.length%Si.text.length==0){be=[];for(var Ue=0;Ue<Si.text.length;Ue++)be.push(v.splitLines(Si.text[Ue]))}}else me.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(be=J(me,function(Xt){return[Xt]}));for(var $e=e.curOp.updateInput,ut=n.ranges.length-1;ut>=0;ut--){var ct=n.ranges[ut],yt=ct.from(),Mt=ct.to();ct.empty()&&(r&&r>0?yt=Tt(yt.line,yt.ch-r):e.state.overwrite&&!Y?Mt=Tt(Mt.line,Math.min(Yt(v,Mt.line).text.length,Mt.ch+M(me).length)):Y&&Si&&Si.lineWise&&Si.text.join(`
`)==me.join(`
`)&&(yt=Mt=Tt(yt.line,0)));var Ht={from:yt,to:Mt,text:be?be[ut%be.length]:me,origin:i||(Y?"paste":e.state.cutIncoming>U?"cut":"+input")};vo(e.doc,Ht),ar(e,"inputRead",e,Ht)}t&&!Y&&Ks(e,t),fo(e),e.curOp.updateInput<2&&(e.curOp.updateInput=$e),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Gs(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||hi(t,function(){return Fa(t,r,0,null,"paste")}),!0}function Ks(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var v=e.getModeAt(i.head),U=!1;if(v.electricChars){for(var Y=0;Y<v.electricChars.length;Y++)if(t.indexOf(v.electricChars.charAt(Y))>-1){U=qo(e,i.head.line,"smart");break}}else v.electricInput&&v.electricInput.test(Yt(e.doc,i.head.line).text.slice(0,i.head.ch))&&(U=qo(e,i.head.line,"smart"));U&&ar(e,"electricInput",e,i.head.line)}}}function Ys(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,v={anchor:Tt(i,0),head:Tt(i+1,0)};r.push(v),t.push(e.getRange(v.anchor,v.head))}return{text:t,ranges:r}}function Xs(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Js(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return X?e.style.width="1000px":e.setAttribute("wrap","off"),ae&&(e.style.border="1px solid black"),Xs(e),t}function fu(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(n,i){var v=this.options,U=v[n];v[n]==i&&n!="mode"||(v[n]=i,t.hasOwnProperty(n)&&qr(this,t[n])(this,i,U),et(this,"optionChange",this,n))},getOption:function(n){return this.options[n]},getDoc:function(){return this.doc},addKeyMap:function(n,i){this.state.keyMaps[i?"push":"unshift"](ua(n))},removeKeyMap:function(n){for(var i=this.state.keyMaps,v=0;v<i.length;++v)if(i[v]==n||i[v].name==n)return i.splice(v,1),!0},addOverlay:ni(function(n,i){var v=n.token?n:e.getMode(this.options,n);if(v.startState)throw new Error("Overlays may not be stateful.");Oe(this.state.overlays,{mode:v,modeSpec:n,opaque:i&&i.opaque,priority:i&&i.priority||0},function(U){return U.priority}),this.state.modeGen++,En(this)}),removeOverlay:ni(function(n){for(var i=this.state.overlays,v=0;v<i.length;++v){var U=i[v].modeSpec;if(U==n||typeof n=="string"&&U.name==n)return i.splice(v,1),this.state.modeGen++,void En(this)}}),indentLine:ni(function(n,i,v){typeof i!="string"&&typeof i!="number"&&(i=i==null?this.options.smartIndent?"smart":"prev":i?"add":"subtract"),Mr(this.doc,n)&&qo(this,n,i,v)}),indentSelection:ni(function(n){for(var i=this.doc.sel.ranges,v=-1,U=0;U<i.length;U++){var Y=i[U];if(Y.empty())Y.head.line>v&&(qo(this,Y.head.line,n,!0),v=Y.head.line,U==this.doc.sel.primIndex&&fo(this));else{var me=Y.from(),be=Y.to(),Ue=Math.max(v,me.line);v=Math.min(this.lastLine(),be.line-(be.ch?0:1))+1;for(var $e=Ue;$e<v;++$e)qo(this,$e,n);var ut=this.doc.sel.ranges;me.ch==0&&i.length==ut.length&&ut[U].from().ch>0&&Aa(this.doc,U,new or(me,ut[U].to()),d)}}}),getTokenAt:function(n,i){return Vr(this,n,i)},getLineTokens:function(n,i){return Vr(this,Tt(n),i,!0)},getTokenTypeAt:function(n){n=qt(this.doc,n);var i,v=Kr(this,Yt(this.doc,n.line)),U=0,Y=(v.length-1)/2,me=n.ch;if(me==0)i=v[2];else for(;;){var be=U+Y>>1;if((be?v[2*be-1]:0)>=me)Y=be;else{if(!(v[2*be+1]<me)){i=v[2*be+2];break}U=be+1}}var Ue=i?i.indexOf("overlay "):-1;return Ue<0?i:Ue==0?null:i.slice(0,Ue-1)},getModeAt:function(n){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(n).state).mode:i},getHelper:function(n,i){return this.getHelpers(n,i)[0]},getHelpers:function(n,i){var v=[];if(!r.hasOwnProperty(i))return v;var U=r[i],Y=this.getModeAt(n);if(typeof Y[i]=="string")U[Y[i]]&&v.push(U[Y[i]]);else if(Y[i])for(var me=0;me<Y[i].length;me++){var be=U[Y[i][me]];be&&v.push(be)}else Y.helperType&&U[Y.helperType]?v.push(U[Y.helperType]):U[Y.name]&&v.push(U[Y.name]);for(var Ue=0;Ue<U._global.length;Ue++){var $e=U._global[Ue];$e.pred(Y,this)&&f(v,$e.val)==-1&&v.push($e.val)}return v},getStateAfter:function(n,i){var v=this.doc;return Br(this,(n=vn(v,n==null?v.first+v.size-1:n))+1,i).state},cursorCoords:function(n,i){var v=this.doc.sel.primary();return ai(this,n==null?v.head:typeof n=="object"?qt(this.doc,n):n?v.from():v.to(),i||"page")},charCoords:function(n,i){return Ri(this,qt(this.doc,n),i||"page")},coordsChar:function(n,i){return to(this,(n=eo(this,n,i||"page")).left,n.top)},lineAtHeight:function(n,i){return n=eo(this,{top:n,left:0},i||"page").top,cn(this.doc,n+this.display.viewOffset)},heightAtLine:function(n,i,v){var U,Y=!1;if(typeof n=="number"){var me=this.doc.first+this.doc.size-1;n<this.doc.first?n=this.doc.first:n>me&&(n=me,Y=!0),U=Yt(this.doc,n)}else U=n;return Qi(this,U,{top:0,left:0},i||"page",v||Y).top+(Y?this.doc.height-He(U):0)},defaultTextHeight:function(){return ft(this.display)},defaultCharWidth:function(){return Dt(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(n,i,v,U,Y){var me=this.display,be=(n=ai(this,qt(this.doc,n))).bottom,Ue=n.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),me.sizer.appendChild(i),U=="over")be=n.top;else if(U=="above"||U=="near"){var $e=Math.max(me.wrapper.clientHeight,this.doc.height),ut=Math.max(me.sizer.clientWidth,me.lineSpace.clientWidth);(U=="above"||n.bottom+i.offsetHeight>$e)&&n.top>i.offsetHeight?be=n.top-i.offsetHeight:n.bottom+i.offsetHeight<=$e&&(be=n.bottom),Ue+i.offsetWidth>ut&&(Ue=ut-i.offsetWidth)}i.style.top=be+"px",i.style.left=i.style.right="",Y=="right"?(Ue=me.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(Y=="left"?Ue=0:Y=="middle"&&(Ue=(me.sizer.clientWidth-i.offsetWidth)/2),i.style.left=Ue+"px"),v&&ll(this,{left:Ue,top:be,right:Ue+i.offsetWidth,bottom:be+i.offsetHeight})},triggerOnKeyDown:ni(Fs),triggerOnKeyPress:ni(Vs),triggerOnKeyUp:Bs,triggerOnMouseDown:ni(Hs),execCommand:function(n){if(zo.hasOwnProperty(n))return zo[n].call(null,this)},triggerElectric:ni(function(n){Ks(this,n)}),findPosH:function(n,i,v,U){var Y=1;i<0&&(Y=-1,i=-i);for(var me=qt(this.doc,n),be=0;be<i&&!(me=Ba(this.doc,me,Y,v,U)).hitSide;++be);return me},moveH:ni(function(n,i){var v=this;this.extendSelectionsBy(function(U){return v.display.shift||v.doc.extend||U.empty()?Ba(v.doc,U.head,n,i,v.options.rtlMoveVisually):n<0?U.from():U.to()},q)}),deleteH:ni(function(n,i){var v=this.doc.sel,U=this.doc;v.somethingSelected()?U.replaceSelection("",null,"+delete"):wo(this,function(Y){var me=Ba(U,Y.head,n,i,!1);return n<0?{from:me,to:Y.head}:{from:Y.head,to:me}})}),findPosV:function(n,i,v,U){var Y=1,me=U;i<0&&(Y=-1,i=-i);for(var be=qt(this.doc,n),Ue=0;Ue<i;++Ue){var $e=ai(this,be,"div");if(me==null?me=$e.left:$e.left=me,(be=Qs(this,$e,Y,v)).hitSide)break}return be},moveV:ni(function(n,i){var v=this,U=this.doc,Y=[],me=!this.display.shift&&!U.extend&&U.sel.somethingSelected();if(U.extendSelectionsBy(function(Ue){if(me)return n<0?Ue.from():Ue.to();var $e=ai(v,Ue.head,"div");Ue.goalColumn!=null&&($e.left=Ue.goalColumn),Y.push($e.left);var ut=Qs(v,$e,n,i);return i=="page"&&Ue==U.sel.primary()&&wa(v,Ri(v,ut,"div").top-$e.top),ut},q),Y.length)for(var be=0;be<U.sel.ranges.length;be++)U.sel.ranges[be].goalColumn=Y[be]}),findWordAt:function(n){var i=Yt(this.doc,n.line).text,v=n.ch,U=n.ch;if(i){var Y=this.getHelper(n,"wordChars");n.sticky!="before"&&U!=i.length||!v?++U:--v;for(var me=i.charAt(v),be=je(me,Y)?function(Ue){return je(Ue,Y)}:/\s/.test(me)?function(Ue){return/\s/.test(Ue)}:function(Ue){return!/\s/.test(Ue)&&!je(Ue)};v>0&&be(i.charAt(v-1));)--v;for(;U<i.length&&be(i.charAt(U));)++U}return new or(Tt(n.line,v),Tt(n.line,U))},toggleOverwrite:function(n){n!=null&&n==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?S(this.display.cursorDiv,"CodeMirror-overwrite"):W(this.display.cursorDiv,"CodeMirror-overwrite"),et(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==g()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ni(function(n,i){To(this,n,i)}),getScrollInfo:function(){var n=this.display.scroller;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight-it(this)-this.display.barHeight,width:n.scrollWidth-it(this)-this.display.barWidth,clientHeight:Bt(this),clientWidth:St(this)}},scrollIntoView:ni(function(n,i){n==null?(n={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof n=="number"?n={from:Tt(n,0),to:null}:n.from==null&&(n={from:n,to:null}),n.to||(n.to=n.from),n.margin=i||0,n.from.line!=null?ul(this,n):Wa(this,n.from,n.to,n.margin)}),setSize:ni(function(n,i){var v=this,U=function(me){return typeof me=="number"||/^\d+$/.test(String(me))?me+"px":me};n!=null&&(this.display.wrapper.style.width=U(n)),i!=null&&(this.display.wrapper.style.height=U(i)),this.options.lineWrapping&&Go(this);var Y=this.display.viewFrom;this.doc.iter(Y,this.display.viewTo,function(me){if(me.widgets){for(var be=0;be<me.widgets.length;be++)if(me.widgets[be].noHScroll){Kn(v,Y,"widget");break}}++Y}),this.curOp.forceUpdate=!0,et(this,"refresh",this)}),operation:function(n){return hi(this,n)},startOperation:function(){return io(this)},endOperation:function(){return oo(this)},refresh:ni(function(){var n=this.display.cachedTextHeight;En(this),this.curOp.forceUpdate=!0,Xi(this),To(this,this.doc.scrollLeft,this.doc.scrollTop),Ca(this.display),(n==null||Math.abs(n-ft(this.display))>.5||this.options.lineWrapping)&&Tn(this),et(this,"refresh",this)}),swapDoc:ni(function(n){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),os(this,n),Xi(this),this.display.input.reset(),To(this,n.scrollLeft,n.scrollTop),this.curOp.forceScroll=!0,ar(this,"swapDoc",this,i),i}),phrase:function(n){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,n)?i[n]:n},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},nt(e),e.registerHelper=function(n,i,v){r.hasOwnProperty(n)||(r[n]=e[n]={_global:[]}),r[n][i]=v},e.registerGlobalHelper=function(n,i,v,U){e.registerHelper(n,i,U),r[n]._global.push({pred:v,val:U})}}function Ba(e,t,r,n,i){var v=t,U=r,Y=Yt(e,t.line),me=i&&e.direction=="rtl"?-r:r;function be(){var en=t.line+me;return!(en<e.first||en>=e.first+e.size)&&(t=new Tt(en,t.ch,t.sticky),Y=Yt(e,en))}function Ue(en){var Gt;if(n=="codepoint"){var an=Y.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(an))Gt=null;else{var on=r>0?an>=55296&&an<56320:an>=56320&&an<57343;Gt=new Tt(t.line,Math.max(0,Math.min(Y.text.length,t.ch+r*(on?2:1))),-r)}}else Gt=i?$l(e.cm,Y,t,r):Ra(Y,t,r);if(Gt==null){if(en||!be())return!1;t=Ma(i,e.cm,Y,t.line,me)}else t=Gt;return!0}if(n=="char"||n=="codepoint")Ue();else if(n=="column")Ue(!0);else if(n=="word"||n=="group")for(var $e=null,ut=n=="group",ct=e.cm&&e.cm.getHelper(t,"wordChars"),yt=!0;!(r<0)||Ue(!yt);yt=!1){var Mt=Y.text.charAt(t.ch)||`
`,Ht=je(Mt,ct)?"w":ut&&Mt==`
`?"n":!ut||/\s/.test(Mt)?null:"p";if(!ut||yt||Ht||(Ht="s"),$e&&$e!=Ht){r<0&&(r=1,Ue(),t.sticky="after");break}if(Ht&&($e=Ht),r>0&&!Ue(!yt))break}var Xt=aa(e,t,v,U,!0);return ze(v,Xt)&&(Xt.hitSide=!0),Xt}function Qs(e,t,r,n){var i,v,U=e.doc,Y=t.left;if(n=="page"){var me=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),be=Math.max(me-.5*ft(e.display),3);i=(r>0?t.bottom:t.top)+r*be}else n=="line"&&(i=r>0?t.bottom+3:t.top-3);for(;(v=to(e,Y,i)).outside;){if(r<0?i<=0:i>=U.height){v.hitSide=!0;break}i+=5*r}return v}var cr=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new l,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function el(e,t){var r=Ai(e,t.line);if(!r||r.hidden)return null;var n=Yt(e.doc,t.line),i=Zn(r,n,t.line),v=rn(n,e.doc.direction),U="left";v&&(U=At(v,t.ch)%2?"right":"left");var Y=Yi(i.map,t.ch,U);return Y.offset=Y.collapse=="right"?Y.end:Y.start,Y}function hu(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function ko(e,t){return t&&(e.bad=!0),e}function pu(e,t,r,n,i){var v="",U=!1,Y=e.doc.lineSeparator(),me=!1;function be(ct){return function(yt){return yt.id==ct}}function Ue(){U&&(v+=Y,me&&(v+=Y),U=me=!1)}function $e(ct){ct&&(Ue(),v+=ct)}function ut(ct){if(ct.nodeType==1){var yt=ct.getAttribute("cm-text");if(yt)return void $e(yt);var Mt,Ht=ct.getAttribute("cm-marker");if(Ht){var Xt=e.findMarks(Tt(n,0),Tt(i+1,0),be(+Ht));return void(Xt.length&&(Mt=Xt[0].find(0))&&$e(Nn(e.doc,Mt.from,Mt.to).join(Y)))}if(ct.getAttribute("contenteditable")=="false")return;var en=/^(pre|div|p|li|table|br)$/i.test(ct.nodeName);if(!/^br$/i.test(ct.nodeName)&&ct.textContent.length==0)return;en&&Ue();for(var Gt=0;Gt<ct.childNodes.length;Gt++)ut(ct.childNodes[Gt]);/^(pre|p)$/i.test(ct.nodeName)&&(me=!0),en&&(U=!0)}else ct.nodeType==3&&$e(ct.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ut(t),t!=r;)t=t.nextSibling,me=!1;return v}function pa(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return ko(e.clipPos(Tt(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var v=e.display.view[i];if(v.node==n)return du(v,t,r)}}function du(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!c(n,t))return ko(Tt(un(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var v=e.rest?M(e.rest):e.line;return ko(Tt(un(v),v.text.length),i)}var U=t.nodeType==3?t:null,Y=t;for(U||t.childNodes.length!=1||t.firstChild.nodeType!=3||(U=t.firstChild,r&&(r=U.nodeValue.length));Y.parentNode!=n;)Y=Y.parentNode;var me=e.measure,be=me.maps;function Ue(Ht,Xt,en){for(var Gt=-1;Gt<(be?be.length:0);Gt++)for(var an=Gt<0?me.map:be[Gt],on=0;on<an.length;on+=3){var dn=an[on+2];if(dn==Ht||dn==Xt){var pr=un(Gt<0?e.line:e.rest[Gt]),dr=an[on]+en;return(en<0||dn!=Ht)&&(dr=an[on+(en?1:0)]),Tt(pr,dr)}}}var $e=Ue(U,Y,r);if($e)return ko($e,i);for(var ut=Y.nextSibling,ct=U?U.nodeValue.length-r:0;ut;ut=ut.nextSibling){if($e=Ue(ut,ut.firstChild,0))return ko(Tt($e.line,$e.ch-ct),i);ct+=ut.textContent.length}for(var yt=Y.previousSibling,Mt=r;yt;yt=yt.previousSibling){if($e=Ue(yt,yt.firstChild,-1))return ko(Tt($e.line,$e.ch+Mt),i);Mt+=yt.textContent.length}}cr.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function v(Y){for(var me=Y.target;me;me=me.parentNode){if(me==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(me.className))break}return!1}function U(Y){if(v(Y)&&!rt(n,Y)){if(n.somethingSelected())ha({lineWise:!1,text:n.getSelections()}),Y.type=="cut"&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var me=Ys(n);ha({lineWise:!0,text:me.text}),Y.type=="cut"&&n.operation(function(){n.setSelections(me.ranges,0,d),n.replaceSelection("",null,"cut")})}if(Y.clipboardData){Y.clipboardData.clearData();var be=Si.text.join(`
`);if(Y.clipboardData.setData("Text",be),Y.clipboardData.getData("Text")==be)return void Y.preventDefault()}var Ue=Js(),$e=Ue.firstChild;n.display.lineSpace.insertBefore(Ue,n.display.lineSpace.firstChild),$e.value=Si.text.join(`
`);var ut=g();le($e),setTimeout(function(){n.display.lineSpace.removeChild(Ue),ut.focus(),ut==i&&r.showPrimarySelection()},50)}}i.contentEditable=!0,Xs(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),kt(i,"paste",function(Y){!v(Y)||rt(n,Y)||Gs(Y,n)||ne<=11&&setTimeout(qr(n,function(){return t.updateFromDOM()}),20)}),kt(i,"compositionstart",function(Y){t.composing={data:Y.data,done:!1}}),kt(i,"compositionupdate",function(Y){t.composing||(t.composing={data:Y.data,done:!1})}),kt(i,"compositionend",function(Y){t.composing&&(Y.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),kt(i,"touchstart",function(){return r.forceCompositionEnd()}),kt(i,"input",function(){t.composing||t.readFromDOMSoon()}),kt(i,"copy",U),kt(i,"cut",U)},cr.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},cr.prototype.prepareSelection=function(){var e=Hi(this.cm,!1);return e.focus=g()==this.div,e},cr.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},cr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},cr.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var v=pa(t,e.anchorNode,e.anchorOffset),U=pa(t,e.focusNode,e.focusOffset);if(!v||v.bad||!U||U.bad||ye($t(v,U),n)!=0||ye(Vt(v,U),i)!=0){var Y=t.display.view,me=n.line>=t.display.viewFrom&&el(t,n)||{node:Y[0].measure.map[2],offset:0},be=i.line<t.display.viewTo&&el(t,i);if(!be){var Ue=Y[Y.length-1].measure,$e=Ue.maps?Ue.maps[Ue.maps.length-1]:Ue.map;be={node:$e[$e.length-1],offset:$e[$e.length-2]-$e[$e.length-3]}}if(me&&be){var ut,ct=e.rangeCount&&e.getRangeAt(0);try{ut=B(me.node,me.offset,be.offset,be.node)}catch{}ut&&(!ve&&t.state.focused?(e.collapse(me.node,me.offset),ut.collapsed||(e.removeAllRanges(),e.addRange(ut))):(e.removeAllRanges(),e.addRange(ut)),ct&&e.anchorNode==null?e.addRange(ct):ve&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},cr.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},cr.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},cr.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},cr.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return c(this.div,t)},cr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&(this.selectionInEditor()&&g()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},cr.prototype.blur=function(){this.div.blur()},cr.prototype.getField=function(){return this.div},cr.prototype.supportsTouch=function(){return!0},cr.prototype.receivedFocus=function(){var e=this,t=this;function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):hi(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,r)},cr.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},cr.prototype.pollSelection=function(){if(this.readDOMTimeout==null&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if($&&j&&this.cm.display.gutterSpecs.length&&hu(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=pa(t,e.anchorNode,e.anchorOffset),n=pa(t,e.focusNode,e.focusOffset);r&&n&&hi(t,function(){Qr(t.doc,zi(r,n),d),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},cr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,v=n.doc.sel.primary(),U=v.from(),Y=v.to();if(U.ch==0&&U.line>n.firstLine()&&(U=Tt(U.line-1,Yt(n.doc,U.line-1).length)),Y.ch==Yt(n.doc,Y.line).text.length&&Y.line<n.lastLine()&&(Y=Tt(Y.line+1,0)),U.line<i.viewFrom||Y.line>i.viewTo-1)return!1;U.line==i.viewFrom||(e=Cn(n,U.line))==0?(t=un(i.view[0].line),r=i.view[0].node):(t=un(i.view[e].line),r=i.view[e-1].node.nextSibling);var me,be,Ue=Cn(n,Y.line);if(Ue==i.view.length-1?(me=i.viewTo-1,be=i.lineDiv.lastChild):(me=un(i.view[Ue+1].line)-1,be=i.view[Ue+1].node.previousSibling),!r)return!1;for(var $e=n.doc.splitLines(pu(n,r,be,t,me)),ut=Nn(n.doc,Tt(t,0),Tt(me,Yt(n.doc,me).text.length));$e.length>1&&ut.length>1;)if(M($e)==M(ut))$e.pop(),ut.pop(),me--;else{if($e[0]!=ut[0])break;$e.shift(),ut.shift(),t++}for(var ct=0,yt=0,Mt=$e[0],Ht=ut[0],Xt=Math.min(Mt.length,Ht.length);ct<Xt&&Mt.charCodeAt(ct)==Ht.charCodeAt(ct);)++ct;for(var en=M($e),Gt=M(ut),an=Math.min(en.length-($e.length==1?ct:0),Gt.length-(ut.length==1?ct:0));yt<an&&en.charCodeAt(en.length-yt-1)==Gt.charCodeAt(Gt.length-yt-1);)++yt;if($e.length==1&&ut.length==1&&t==U.line)for(;ct&&ct>U.ch&&en.charCodeAt(en.length-yt-1)==Gt.charCodeAt(Gt.length-yt-1);)ct--,yt++;$e[$e.length-1]=en.slice(0,en.length-yt).replace(/^\u200b+/,""),$e[0]=$e[0].slice(ct).replace(/\u200b+$/,"");var on=Tt(t,ct),dn=Tt(me,ut.length?M(ut).length-yt:0);return $e.length>1||$e[0]||ye(on,dn)?(mo(n.doc,$e,on,dn,"+input"),!0):void 0},cr.prototype.ensurePolled=function(){this.forceCompositionEnd()},cr.prototype.reset=function(){this.forceCompositionEnd()},cr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},cr.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},cr.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||hi(this.cm,function(){return En(e.cm)})},cr.prototype.setUneditable=function(e){e.contentEditable="false"},cr.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||qr(this.cm,Fa)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},cr.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},cr.prototype.onContextMenu=function(){},cr.prototype.resetPosition=function(){},cr.prototype.needsContentAttribute=!0;var Dr=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new l,this.hasSelection=!1,this.composing=null};function gu(e,t){if((t=t?I(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var r=g();t.autofocus=r==e||e.getAttribute("autofocus")!=null&&r==document.body}function n(){e.value=Y.getValue()}var i;if(e.form&&(kt(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var v=e.form;i=v.submit;try{var U=v.submit=function(){n(),v.submit=i,v.submit(),v.submit=U}}catch{}}t.finishInit=function(me){me.save=n,me.getTextArea=function(){return e},me.toTextArea=function(){me.toTextArea=isNaN,n(),e.parentNode.removeChild(me.getWrapperElement()),e.style.display="",e.form&&(We(e.form,"submit",n),t.leaveSubmitMethodAlone||typeof e.form.submit!="function"||(e.form.submit=i))}},e.style.display="none";var Y=xr(function(me){return e.parentNode.insertBefore(me,e.nextSibling)},t);return Y}function vu(e){e.off=We,e.on=kt,e.wheelEventPixels=Cl,e.Doc=si,e.splitLines=nn,e.countColumn=C,e.findColumn=K,e.isWordChar=Se,e.Pass=u,e.signal=et,e.Line=jt,e.changeEnd=Ui,e.scrollbarModel=Ga,e.Pos=Tt,e.cmpPos=ye,e.modes=In,e.mimeModes=Hn,e.resolveMode=Un,e.getMode=gr,e.modeExtensions=Bn,e.extendMode=fr,e.copyState=ir,e.startState=hr,e.innerMode=Ir,e.commands=zo,e.keyMap=Zi,e.keyName=Ms,e.isModifierKey=Ds,e.lookupKey=bo,e.normalizeKeyMap=Wl,e.StringStream=Mn,e.SharedTextMarker=Bo,e.TextMarker=$i,e.LineWidget=Fo,e.e_preventDefault=lt,e.e_stopPropagation=Rt,e.e_stop=mt,e.addClass=S,e.contains=c,e.rmClass=W,e.keyNames=qi}Dr.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function v(U){if(!rt(n,U)){if(n.somethingSelected())ha({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var Y=Ys(n);ha({lineWise:!0,text:Y.text}),U.type=="cut"?n.setSelections(Y.ranges,null,d):(r.prevInput="",i.value=Y.text.join(`
`),le(i))}U.type=="cut"&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),ae&&(i.style.width="0px"),kt(i,"input",function(){ue&&ne>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()}),kt(i,"paste",function(U){rt(n,U)||Gs(U,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())}),kt(i,"cut",v),kt(i,"copy",v),kt(e.scroller,"paste",function(U){if(!Ee(e,U)&&!rt(n,U)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var Y=new Event("paste");Y.clipboardData=U.clipboardData,i.dispatchEvent(Y)}}),kt(e.lineSpace,"selectstart",function(U){Ee(e,U)||lt(U)}),kt(i,"compositionstart",function(){var U=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:U,range:n.markText(U,n.getCursor("to"),{className:"CodeMirror-composing"})}}),kt(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Dr.prototype.createField=function(e){this.wrapper=Js(),this.textarea=this.wrapper.firstChild},Dr.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Dr.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Hi(e);if(e.options.moveInputWithCursor){var i=ai(e,r.sel.primary().head,"div"),v=t.wrapper.getBoundingClientRect(),U=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+U.top-v.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+U.left-v.left))}return n},Dr.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Dr.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&le(this.textarea),ue&&ne>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",ue&&ne>=9&&(this.hasSelection=null))}},Dr.prototype.getField=function(){return this.textarea},Dr.prototype.supportsTouch=function(){return!1},Dr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!R||g()!=this.textarea))try{this.textarea.focus()}catch{}},Dr.prototype.blur=function(){this.textarea.blur()},Dr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Dr.prototype.receivedFocus=function(){this.slowPoll()},Dr.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Dr.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},Dr.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||$n(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(ue&&ne>=9&&this.hasSelection===i||Z&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var v=i.charCodeAt(0);if(v!=8203||n||(n="\u200B"),v==8666)return this.reset(),this.cm.execCommand("undo")}for(var U=0,Y=Math.min(n.length,i.length);U<Y&&n.charCodeAt(U)==i.charCodeAt(U);)++U;return hi(t,function(){Fa(t,i.slice(U),n.length-U,null,e.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Dr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Dr.prototype.onKeyPress=function(){ue&&ne>=9&&(this.hasSelection=null),this.fastPoll()},Dr.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var v=mn(r,e),U=n.scroller.scrollTop;if(v&&!b){r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(v)==-1&&qr(r,Qr)(r.doc,zi(v),d);var Y,me=i.style.cssText,be=t.wrapper.style.cssText,Ue=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-Ue.top-5)+"px; left: "+(e.clientX-Ue.left-5)+`px;
      z-index: 1000; background: `+(ue?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`,X&&(Y=window.scrollY),n.input.focus(),X&&window.scrollTo(null,Y),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=ct,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),ue&&ne>=9&&ut(),A){mt(e);var $e=function(){We(window,"mouseup",$e),setTimeout(ct,20)};kt(window,"mouseup",$e)}else setTimeout(ct,50)}function ut(){if(i.selectionStart!=null){var yt=r.somethingSelected(),Mt="\u200B"+(yt?i.value:"");i.value="\u21DA",i.value=Mt,t.prevInput=yt?"":"\u200B",i.selectionStart=1,i.selectionEnd=Mt.length,n.selForContextMenu=r.doc.sel}}function ct(){if(t.contextMenuPending==ct&&(t.contextMenuPending=!1,t.wrapper.style.cssText=be,i.style.cssText=me,ue&&ne<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=U),i.selectionStart!=null)){(!ue||ue&&ne<9)&&ut();var yt=0,Mt=function(){n.selForContextMenu==r.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="\u200B"?qr(r,ys)(r):yt++<10?n.detectingSelectAll=setTimeout(Mt,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(Mt,200)}}},Dr.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},Dr.prototype.setUneditable=function(){},Dr.prototype.needsContentAttribute=!1,su(xr),fu(xr);var mu="iter insert remove copy getEditor constructor".split(" ");for(var da in si.prototype)si.prototype.hasOwnProperty(da)&&f(mu,da)<0&&(xr.prototype[da]=function(e){return function(){return e.apply(this.doc,arguments)}}(si.prototype[da]));return nt(si),xr.inputStyles={textarea:Dr,contenteditable:cr},xr.defineMode=function(e){xr.defaults.mode||e=="null"||(xr.defaults.mode=e),br.apply(this,arguments)},xr.defineMIME=qn,xr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),xr.defineMIME("text/plain","null"),xr.defineExtension=function(e,t){xr.prototype[e]=t},xr.defineDocExtension=function(e,t){si.prototype[e]=t},xr.fromTextArea=gu,vu(xr),xr.version="5.65.6",xr}()},6629:(gt,Ze,_)=>{(function(ve){function _e(A){for(var z={},B=0;B<A.length;++B)z[A[B].toLowerCase()]=!0;return z}ve.defineMode("css",function(A,z){var B=z.inline;z.propertyKeywords||(z=ve.resolveMode("text/css"));var W,ie,E=A.indentUnit,O=z.tokenHooks,a=z.documentTypes||{},c=z.mediaTypes||{},g=z.mediaFeatures||{},S=z.mediaValueKeywords||{},se=z.propertyKeywords||{},le=z.nonStandardPropertyKeywords||{},D=z.fontProperties||{},I=z.counterDescriptors||{},C=z.colorKeywords||{},l=z.valueKeywords||{},f=z.allowNested,h=z.lineComment,u=z.supportsAtComponent===!0,d=A.highlightNonStandardPropertyKeywords!==!1;function P(Se,je){return W=je,Se}function q(Se,je){var x=Se.next();if(O[x]){var re=O[x](Se,je);if(re!==!1)return re}return x=="@"?(Se.eatWhile(/[\w\\\-]/),P("def",Se.current())):x=="="||(x=="~"||x=="|")&&Se.eat("=")?P(null,"compare"):x=='"'||x=="'"?(je.tokenize=K(x),je.tokenize(Se,je)):x=="#"?(Se.eatWhile(/[\w\\\-]/),P("atom","hash")):x=="!"?(Se.match(/^\s*\w*/),P("keyword","important")):/\d/.test(x)||x=="."&&Se.eat(/\d/)?(Se.eatWhile(/[\w.%]/),P("number","unit")):x!=="-"?/[,+>*\/]/.test(x)?P(null,"select-op"):x=="."&&Se.match(/^-?[_a-z][_a-z0-9-]*/i)?P("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(x)?P(null,x):Se.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Se.current())&&(je.tokenize=H),P("variable callee","variable")):/[\w\\\-]/.test(x)?(Se.eatWhile(/[\w\\\-]/),P("property","word")):P(null,null):/[\d.]/.test(Se.peek())?(Se.eatWhile(/[\w.%]/),P("number","unit")):Se.match(/^-[\w\\\-]*/)?(Se.eatWhile(/[\w\\\-]/),Se.match(/^\s*:/,!1)?P("variable-2","variable-definition"):P("variable-2","variable")):Se.match(/^\w+-/)?P("meta","meta"):void 0}function K(Se){return function(je,x){for(var re,we=!1;(re=je.next())!=null;){if(re==Se&&!we){Se==")"&&je.backUp(1);break}we=!we&&re=="\\"}return(re==Se||!we&&Se!=")")&&(x.tokenize=null),P("string","string")}}function H(Se,je){return Se.next(),Se.match(/^\s*[\"\')]/,!1)?je.tokenize=null:je.tokenize=K(")"),P(null,"(")}function w(Se,je,x){this.type=Se,this.indent=je,this.prev=x}function M(Se,je,x,re){return Se.context=new w(x,je.indentation()+(re===!1?0:E),Se.context),x}function J(Se){return Se.context.prev&&(Se.context=Se.context.prev),Se.context.type}function Oe(Se,je,x){return Ve[x.context.type](Se,je,x)}function Re(Se,je,x,re){for(var we=re||1;we>0;we--)x.context=x.context.prev;return Oe(Se,je,x)}function Ye(Se){var je=Se.current().toLowerCase();ie=l.hasOwnProperty(je)?"atom":C.hasOwnProperty(je)?"keyword":"variable"}var Ve={top:function(Se,je,x){if(Se=="{")return M(x,je,"block");if(Se=="}"&&x.context.prev)return J(x);if(u&&/@component/i.test(Se))return M(x,je,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Se))return M(x,je,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Se))return M(x,je,"atBlock");if(/^@(font-face|counter-style)/i.test(Se))return x.stateArg=Se,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Se))return"keyframes";if(Se&&Se.charAt(0)=="@")return M(x,je,"at");if(Se=="hash")ie="builtin";else if(Se=="word")ie="tag";else{if(Se=="variable-definition")return"maybeprop";if(Se=="interpolation")return M(x,je,"interpolation");if(Se==":")return"pseudo";if(f&&Se=="(")return M(x,je,"parens")}return x.context.type},block:function(Se,je,x){if(Se=="word"){var re=je.current().toLowerCase();return se.hasOwnProperty(re)?(ie="property","maybeprop"):le.hasOwnProperty(re)?(ie=d?"string-2":"property","maybeprop"):f?(ie=je.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(ie+=" error","maybeprop")}return Se=="meta"?"block":f||Se!="hash"&&Se!="qualifier"?Ve.top(Se,je,x):(ie="error","block")},maybeprop:function(Se,je,x){return Se==":"?M(x,je,"prop"):Oe(Se,je,x)},prop:function(Se,je,x){if(Se==";")return J(x);if(Se=="{"&&f)return M(x,je,"propBlock");if(Se=="}"||Se=="{")return Re(Se,je,x);if(Se=="(")return M(x,je,"parens");if(Se!="hash"||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(je.current())){if(Se=="word")Ye(je);else if(Se=="interpolation")return M(x,je,"interpolation")}else ie+=" error";return"prop"},propBlock:function(Se,je,x){return Se=="}"?J(x):Se=="word"?(ie="property","maybeprop"):x.context.type},parens:function(Se,je,x){return Se=="{"||Se=="}"?Re(Se,je,x):Se==")"?J(x):Se=="("?M(x,je,"parens"):Se=="interpolation"?M(x,je,"interpolation"):(Se=="word"&&Ye(je),"parens")},pseudo:function(Se,je,x){return Se=="meta"?"pseudo":Se=="word"?(ie="variable-3",x.context.type):Oe(Se,je,x)},documentTypes:function(Se,je,x){return Se=="word"&&a.hasOwnProperty(je.current())?(ie="tag",x.context.type):Ve.atBlock(Se,je,x)},atBlock:function(Se,je,x){if(Se=="(")return M(x,je,"atBlock_parens");if(Se=="}"||Se==";")return Re(Se,je,x);if(Se=="{")return J(x)&&M(x,je,f?"block":"top");if(Se=="interpolation")return M(x,je,"interpolation");if(Se=="word"){var re=je.current().toLowerCase();ie=re=="only"||re=="not"||re=="and"||re=="or"?"keyword":c.hasOwnProperty(re)?"attribute":g.hasOwnProperty(re)?"property":S.hasOwnProperty(re)?"keyword":se.hasOwnProperty(re)?"property":le.hasOwnProperty(re)?d?"string-2":"property":l.hasOwnProperty(re)?"atom":C.hasOwnProperty(re)?"keyword":"error"}return x.context.type},atComponentBlock:function(Se,je,x){return Se=="}"?Re(Se,je,x):Se=="{"?J(x)&&M(x,je,f?"block":"top",!1):(Se=="word"&&(ie="error"),x.context.type)},atBlock_parens:function(Se,je,x){return Se==")"?J(x):Se=="{"||Se=="}"?Re(Se,je,x,2):Ve.atBlock(Se,je,x)},restricted_atBlock_before:function(Se,je,x){return Se=="{"?M(x,je,"restricted_atBlock"):Se=="word"&&x.stateArg=="@counter-style"?(ie="variable","restricted_atBlock_before"):Oe(Se,je,x)},restricted_atBlock:function(Se,je,x){return Se=="}"?(x.stateArg=null,J(x)):Se=="word"?(ie=x.stateArg=="@font-face"&&!D.hasOwnProperty(je.current().toLowerCase())||x.stateArg=="@counter-style"&&!I.hasOwnProperty(je.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(Se,je,x){return Se=="word"?(ie="variable","keyframes"):Se=="{"?M(x,je,"top"):Oe(Se,je,x)},at:function(Se,je,x){return Se==";"?J(x):Se=="{"||Se=="}"?Re(Se,je,x):(Se=="word"?ie="tag":Se=="hash"&&(ie="builtin"),"at")},interpolation:function(Se,je,x){return Se=="}"?J(x):Se=="{"||Se==";"?Re(Se,je,x):(Se=="word"?ie="variable":Se!="variable"&&Se!="("&&Se!=")"&&(ie="error"),"interpolation")}};return{startState:function(Se){return{tokenize:null,state:B?"block":"top",stateArg:null,context:new w(B?"block":"top",Se||0,null)}},token:function(Se,je){if(!je.tokenize&&Se.eatSpace())return null;var x=(je.tokenize||q)(Se,je);return x&&typeof x=="object"&&(W=x[1],x=x[0]),ie=x,W!="comment"&&(je.state=Ve[je.state](W,Se,je)),ie},indent:function(Se,je){var x=Se.context,re=je&&je.charAt(0),we=x.indent;return x.type!="prop"||re!="}"&&re!=")"||(x=x.prev),x.prev&&(re!="}"||x.type!="block"&&x.type!="top"&&x.type!="interpolation"&&x.type!="restricted_atBlock"?(re!=")"||x.type!="parens"&&x.type!="atBlock_parens")&&(re!="{"||x.type!="at"&&x.type!="atBlock")||(we=Math.max(0,x.indent-E)):we=(x=x.prev).indent),we},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:h,fold:"brace"}});var fe=["domain","regexp","url","url-prefix"],de=_e(fe),ue=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],ne=_e(ue),X=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],ee=_e(X),j=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=_e(j),b=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],T=_e(b),V=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],s=_e(V),ae=_e(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),$=_e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),R=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Z=_e(R),L=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],te=_e(L),xe=fe.concat(ue).concat(X).concat(j).concat(b).concat(V).concat(R).concat(L);function he(A,z){for(var B,W=!1;(B=A.next())!=null;){if(W&&B=="/"){z.tokenize=null;break}W=B=="*"}return["comment","comment"]}ve.registerHelper("hintWords","css",xe),ve.defineMIME("text/css",{documentTypes:de,mediaTypes:ne,mediaFeatures:ee,mediaValueKeywords:m,propertyKeywords:T,nonStandardPropertyKeywords:s,fontProperties:ae,counterDescriptors:$,colorKeywords:Z,valueKeywords:te,tokenHooks:{"/":function(A,z){return!!A.eat("*")&&(z.tokenize=he,he(A,z))}},name:"css"}),ve.defineMIME("text/x-scss",{mediaTypes:ne,mediaFeatures:ee,mediaValueKeywords:m,propertyKeywords:T,nonStandardPropertyKeywords:s,colorKeywords:Z,valueKeywords:te,fontProperties:ae,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(A,z){return A.eat("/")?(A.skipToEnd(),["comment","comment"]):A.eat("*")?(z.tokenize=he,he(A,z)):["operator","operator"]},":":function(A){return!!A.match(/^\s*\{/,!1)&&[null,null]},$:function(A){return A.match(/^[\w-]+/),A.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(A){return!!A.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),ve.defineMIME("text/x-less",{mediaTypes:ne,mediaFeatures:ee,mediaValueKeywords:m,propertyKeywords:T,nonStandardPropertyKeywords:s,colorKeywords:Z,valueKeywords:te,fontProperties:ae,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(A,z){return A.eat("/")?(A.skipToEnd(),["comment","comment"]):A.eat("*")?(z.tokenize=he,he(A,z)):["operator","operator"]},"@":function(A){return A.eat("{")?[null,"interpolation"]:!A.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(A.eatWhile(/[\w\\\-]/),A.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),ve.defineMIME("text/x-gss",{documentTypes:de,mediaTypes:ne,mediaFeatures:ee,propertyKeywords:T,nonStandardPropertyKeywords:s,fontProperties:ae,counterDescriptors:$,colorKeywords:Z,valueKeywords:te,supportsAtComponent:!0,tokenHooks:{"/":function(A,z){return!!A.eat("*")&&(z.tokenize=he,he(A,z))}},name:"css",helperType:"gss"})})(_(4631))},6531:(gt,Ze,_)=>{(function(ve){var _e={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function fe(m,b,T){var V=m.current(),s=V.search(b);return s>-1?m.backUp(V.length-s):V.match(/<\/?$/)&&(m.backUp(V.length),m.match(b,!1)||m.match(V)),T}var de={};function ue(m){var b=de[m];return b||(de[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function ne(m,b){var T=m.match(ue(b));return T?/^\s*(.*?)\s*$/.exec(T[2])[1]:""}function X(m,b){return new RegExp((b?"^":"")+"</\\s*"+m+"\\s*>","i")}function ee(m,b){for(var T in m)for(var V=b[T]||(b[T]=[]),s=m[T],ae=s.length-1;ae>=0;ae--)V.unshift(s[ae])}function j(m,b){for(var T=0;T<m.length;T++){var V=m[T];if(!V[0]||V[1].test(ne(b,V[0])))return V[2]}}ve.defineMode("htmlmixed",function(m,b){var T=ve.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:b.multilineTagIndentFactor,multilineTagIndentPastTag:b.multilineTagIndentPastTag,allowMissingTagName:b.allowMissingTagName}),V={},s=b&&b.tags,ae=b&&b.scriptTypes;if(ee(_e,V),s&&ee(s,V),ae)for(var $=ae.length-1;$>=0;$--)V.script.unshift(["type",ae[$].matches,ae[$].mode]);function R(Z,L){var te,xe=T.token(Z,L.htmlState),he=/\btag\b/.test(xe);if(he&&!/[<>\s\/]/.test(Z.current())&&(te=L.htmlState.tagName&&L.htmlState.tagName.toLowerCase())&&V.hasOwnProperty(te))L.inTag=te+" ";else if(L.inTag&&he&&/>$/.test(Z.current())){var A=/^([\S]+) (.*)/.exec(L.inTag);L.inTag=null;var z=Z.current()==">"&&j(V[A[1]],A[2]),B=ve.getMode(m,z),W=X(A[1],!0),ie=X(A[1],!1);L.token=function(E,O){return E.match(W,!1)?(O.token=R,O.localState=O.localMode=null,null):fe(E,ie,O.localMode.token(E,O.localState))},L.localMode=B,L.localState=ve.startState(B,T.indent(L.htmlState,"",""))}else L.inTag&&(L.inTag+=Z.current(),Z.eol()&&(L.inTag+=" "));return xe}return{startState:function(){return{token:R,inTag:null,localMode:null,localState:null,htmlState:ve.startState(T)}},copyState:function(Z){var L;return Z.localState&&(L=ve.copyState(Z.localMode,Z.localState)),{token:Z.token,inTag:Z.inTag,localMode:Z.localMode,localState:L,htmlState:ve.copyState(T,Z.htmlState)}},token:function(Z,L){return L.token(Z,L)},indent:function(Z,L,te){return!Z.localMode||/^\s*<\//.test(L)?T.indent(Z.htmlState,L,te):Z.localMode.indent?Z.localMode.indent(Z.localState,L,te):ve.Pass},innerMode:function(Z){return{state:Z.localState||Z.htmlState,mode:Z.localMode||T}}}},"xml","javascript","css"),ve.defineMIME("text/html","htmlmixed")})(_(4631),_(9589),_(6876),_(6629))},6876:(gt,Ze,_)=>{(function(ve){ve.defineMode("javascript",function(_e,fe){var de,ue,ne=_e.indentUnit,X=fe.statementIndent,ee=fe.jsonld,j=fe.json||ee,m=fe.trackScope!==!1,b=fe.typescript,T=fe.wordCharacters||/[\w$\xa1-\uffff]/,V=function(){function ye(rr){return{type:rr,style:"keyword"}}var ze=ye("keyword a"),xt=ye("keyword b"),Vt=ye("keyword c"),$t=ye("keyword d"),vn=ye("operator"),qt={type:"atom",style:"atom"};return{if:ye("if"),while:ze,with:ze,else:xt,do:xt,try:xt,finally:xt,return:$t,break:$t,continue:$t,new:ye("new"),delete:Vt,void:Vt,throw:Vt,debugger:ye("debugger"),var:ye("var"),const:ye("var"),let:ye("var"),function:ye("function"),catch:ye("catch"),for:ye("for"),switch:ye("switch"),case:ye("case"),default:ye("default"),in:vn,typeof:vn,instanceof:vn,true:qt,false:qt,null:qt,undefined:qt,NaN:qt,Infinity:qt,this:ye("this"),class:ye("class"),super:ye("atom"),yield:Vt,export:ye("export"),import:ye("import"),extends:Vt,await:Vt}}(),s=/[+\-*&%=<>!?|~^@]/,ae=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function $(ye){for(var ze,xt=!1,Vt=!1;(ze=ye.next())!=null;){if(!xt){if(ze=="/"&&!Vt)return;ze=="["?Vt=!0:Vt&&ze=="]"&&(Vt=!1)}xt=!xt&&ze=="\\"}}function R(ye,ze,xt){return de=ye,ue=xt,ze}function Z(ye,ze){var xt=ye.next();if(xt=='"'||xt=="'")return ze.tokenize=L(xt),ze.tokenize(ye,ze);if(xt=="."&&ye.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return R("number","number");if(xt=="."&&ye.match(".."))return R("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(xt))return R(xt);if(xt=="="&&ye.eat(">"))return R("=>","operator");if(xt=="0"&&ye.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return R("number","number");if(/\d/.test(xt))return ye.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),R("number","number");if(xt=="/")return ye.eat("*")?(ze.tokenize=te,te(ye,ze)):ye.eat("/")?(ye.skipToEnd(),R("comment","comment")):Tt(ye,ze,1)?($(ye),ye.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),R("regexp","string-2")):(ye.eat("="),R("operator","operator",ye.current()));if(xt=="`")return ze.tokenize=xe,xe(ye,ze);if(xt=="#"&&ye.peek()=="!")return ye.skipToEnd(),R("meta","meta");if(xt=="#"&&ye.eatWhile(T))return R("variable","property");if(xt=="<"&&ye.match("!--")||xt=="-"&&ye.match("->")&&!/\S/.test(ye.string.slice(0,ye.start)))return ye.skipToEnd(),R("comment","comment");if(s.test(xt))return xt==">"&&ze.lexical&&ze.lexical.type==">"||(ye.eat("=")?xt!="!"&&xt!="="||ye.eat("="):/[<>*+\-|&?]/.test(xt)&&(ye.eat(xt),xt==">"&&ye.eat(xt))),xt=="?"&&ye.eat(".")?R("."):R("operator","operator",ye.current());if(T.test(xt)){ye.eatWhile(T);var Vt=ye.current();if(ze.lastType!="."){if(V.propertyIsEnumerable(Vt)){var $t=V[Vt];return R($t.type,$t.style,Vt)}if(Vt=="async"&&ye.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return R("async","keyword",Vt)}return R("variable","variable",Vt)}}function L(ye){return function(ze,xt){var Vt,$t=!1;if(ee&&ze.peek()=="@"&&ze.match(ae))return xt.tokenize=Z,R("jsonld-keyword","meta");for(;(Vt=ze.next())!=null&&(Vt!=ye||$t);)$t=!$t&&Vt=="\\";return $t||(xt.tokenize=Z),R("string","string")}}function te(ye,ze){for(var xt,Vt=!1;xt=ye.next();){if(xt=="/"&&Vt){ze.tokenize=Z;break}Vt=xt=="*"}return R("comment","comment")}function xe(ye,ze){for(var xt,Vt=!1;(xt=ye.next())!=null;){if(!Vt&&(xt=="`"||xt=="$"&&ye.eat("{"))){ze.tokenize=Z;break}Vt=!Vt&&xt=="\\"}return R("quasi","string-2",ye.current())}var he="([{}])";function A(ye,ze){ze.fatArrowAt&&(ze.fatArrowAt=null);var xt=ye.string.indexOf("=>",ye.start);if(!(xt<0)){if(b){var Vt=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ye.string.slice(ye.start,xt));Vt&&(xt=Vt.index)}for(var $t=0,vn=!1,qt=xt-1;qt>=0;--qt){var rr=ye.string.charAt(qt),Jn=he.indexOf(rr);if(Jn>=0&&Jn<3){if(!$t){++qt;break}if(--$t==0){rr=="("&&(vn=!0);break}}else if(Jn>=3&&Jn<6)++$t;else if(T.test(rr))vn=!0;else if(/["'\/`]/.test(rr))for(;;--qt){if(qt==0)return;if(ye.string.charAt(qt-1)==rr&&ye.string.charAt(qt-2)!="\\"){qt--;break}}else if(vn&&!$t){++qt;break}}vn&&!$t&&(ze.fatArrowAt=qt)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function B(ye,ze,xt,Vt,$t,vn){this.indented=ye,this.column=ze,this.type=xt,this.prev=$t,this.info=vn,Vt!=null&&(this.align=Vt)}function W(ye,ze){if(!m)return!1;for(var xt=ye.localVars;xt;xt=xt.next)if(xt.name==ze)return!0;for(var Vt=ye.context;Vt;Vt=Vt.prev)for(xt=Vt.vars;xt;xt=xt.next)if(xt.name==ze)return!0}function ie(ye,ze,xt,Vt,$t){var vn=ye.cc;for(E.state=ye,E.stream=$t,E.marked=null,E.cc=vn,E.style=ze,ye.lexical.hasOwnProperty("align")||(ye.lexical.align=!0);;)if((vn.length?vn.pop():j?K:P)(xt,Vt)){for(;vn.length&&vn[vn.length-1].lex;)vn.pop()();return E.marked?E.marked:xt=="variable"&&W(ye,Vt)?"variable-2":ze}}var E={state:null,column:null,marked:null,cc:null};function O(){for(var ye=arguments.length-1;ye>=0;ye--)E.cc.push(arguments[ye])}function a(){return O.apply(null,arguments),!0}function c(ye,ze){for(var xt=ze;xt;xt=xt.next)if(xt.name==ye)return!0;return!1}function g(ye){var ze=E.state;if(E.marked="def",m){if(ze.context){if(ze.lexical.info=="var"&&ze.context&&ze.context.block){var xt=S(ye,ze.context);if(xt!=null)return void(ze.context=xt)}else if(!c(ye,ze.localVars))return void(ze.localVars=new D(ye,ze.localVars))}fe.globalVars&&!c(ye,ze.globalVars)&&(ze.globalVars=new D(ye,ze.globalVars))}}function S(ye,ze){if(ze){if(ze.block){var xt=S(ye,ze.prev);return xt?xt==ze.prev?ze:new le(xt,ze.vars,!0):null}return c(ye,ze.vars)?ze:new le(ze.prev,new D(ye,ze.vars),!1)}return null}function se(ye){return ye=="public"||ye=="private"||ye=="protected"||ye=="abstract"||ye=="readonly"}function le(ye,ze,xt){this.prev=ye,this.vars=ze,this.block=xt}function D(ye,ze){this.name=ye,this.next=ze}var I=new D("this",new D("arguments",null));function C(){E.state.context=new le(E.state.context,E.state.localVars,!1),E.state.localVars=I}function l(){E.state.context=new le(E.state.context,E.state.localVars,!0),E.state.localVars=null}function f(){E.state.localVars=E.state.context.vars,E.state.context=E.state.context.prev}function h(ye,ze){var xt=function(){var Vt=E.state,$t=Vt.indented;if(Vt.lexical.type=="stat")$t=Vt.lexical.indented;else for(var vn=Vt.lexical;vn&&vn.type==")"&&vn.align;vn=vn.prev)$t=vn.indented;Vt.lexical=new B($t,E.stream.column(),ye,null,Vt.lexical,ze)};return xt.lex=!0,xt}function u(){var ye=E.state;ye.lexical.prev&&(ye.lexical.type==")"&&(ye.indented=ye.lexical.indented),ye.lexical=ye.lexical.prev)}function d(ye){function ze(xt){return xt==ye?a():ye==";"||xt=="}"||xt==")"||xt=="]"?O():a(ze)}return ze}function P(ye,ze){return ye=="var"?a(h("vardef",ze),Rn,d(";"),u):ye=="keyword a"?a(h("form"),w,P,u):ye=="keyword b"?a(h("form"),P,u):ye=="keyword d"?E.stream.match(/^\s*$/,!1)?a():a(h("stat"),J,d(";"),u):ye=="debugger"?a(d(";")):ye=="{"?a(h("}"),l,On,u,f):ye==";"?a():ye=="if"?(E.state.lexical.info=="else"&&E.state.cc[E.state.cc.length-1]==u&&E.state.cc.pop()(),a(h("form"),w,P,u,$n)):ye=="function"?a(In):ye=="for"?a(h("form"),l,tr,P,f,u):ye=="class"||b&&ze=="interface"?(E.marked="keyword",a(h("form",ye=="class"?ye:ze),gr,u)):ye=="variable"?b&&ze=="declare"?(E.marked="keyword",a(P)):b&&(ze=="module"||ze=="enum"||ze=="type")&&E.stream.match(/^\s*\w/,!1)?(E.marked="keyword",ze=="enum"?a(cn):ze=="type"?a(br,d("operator"),rt,d(";")):a(h("form"),Sn,d("{"),h("}"),On,u,u)):b&&ze=="namespace"?(E.marked="keyword",a(h("form"),K,P,u)):b&&ze=="abstract"?(E.marked="keyword",a(P)):a(h("stat"),De):ye=="switch"?a(h("form"),w,d("{"),h("}","switch"),l,On,u,u,f):ye=="case"?a(K,d(":")):ye=="default"?a(d(":")):ye=="catch"?a(h("form"),C,q,P,u,f):ye=="export"?a(h("stat"),Ir,u):ye=="import"?a(h("stat"),Mn,u):ye=="async"?a(P):ze=="@"?a(K,P):O(h("stat"),K,d(";"),u)}function q(ye){if(ye=="(")return a(qn,d(")"))}function K(ye,ze){return M(ye,ze,!1)}function H(ye,ze){return M(ye,ze,!0)}function w(ye){return ye!="("?O():a(h(")"),J,d(")"),u)}function M(ye,ze,xt){if(E.state.fatArrowAt==E.stream.start){var Vt=xt?je:Se;if(ye=="(")return a(C,h(")"),Ft(qn,")"),u,d("=>"),Vt,f);if(ye=="variable")return O(C,Sn,d("=>"),Vt,f)}var $t=xt?Re:Oe;return z.hasOwnProperty(ye)?a($t):ye=="function"?a(In,$t):ye=="class"||b&&ze=="interface"?(E.marked="keyword",a(h("form"),Un,u)):ye=="keyword c"||ye=="async"?a(xt?H:K):ye=="("?a(h(")"),J,d(")"),u,$t):ye=="operator"||ye=="spread"?a(xt?H:K):ye=="["?a(h("]"),un,u,$t):ye=="{"?rn(Ke,"}",null,$t):ye=="quasi"?O(Ye,$t):ye=="new"?a(x(xt)):a()}function J(ye){return ye.match(/[;\}\)\],]/)?O():O(K)}function Oe(ye,ze){return ye==","?a(J):Re(ye,ze,!1)}function Re(ye,ze,xt){var Vt=xt==0?Oe:Re,$t=xt==0?K:H;return ye=="=>"?a(C,xt?je:Se,f):ye=="operator"?/\+\+|--/.test(ze)||b&&ze=="!"?a(Vt):b&&ze=="<"&&E.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?a(h(">"),Ft(rt,">"),u,Vt):ze=="?"?a(K,d(":"),$t):a($t):ye=="quasi"?O(Ye,Vt):ye!=";"?ye=="("?rn(H,")","call",Vt):ye=="."?a(Ge,Vt):ye=="["?a(h("]"),J,d("]"),u,Vt):b&&ze=="as"?(E.marked="keyword",a(rt,Vt)):ye=="regexp"?(E.state.lastType=E.marked="operator",E.stream.backUp(E.stream.pos-E.stream.start-1),a($t)):void 0:void 0}function Ye(ye,ze){return ye!="quasi"?O():ze.slice(ze.length-2)!="${"?a(Ye):a(J,Ve)}function Ve(ye){if(ye=="}")return E.marked="string-2",E.state.tokenize=xe,a(Ye)}function Se(ye){return A(E.stream,E.state),O(ye=="{"?P:K)}function je(ye){return A(E.stream,E.state),O(ye=="{"?P:H)}function x(ye){return function(ze){return ze=="."?a(ye?we:re):ze=="variable"&&b?a(fn,ye?Re:Oe):O(ye?H:K)}}function re(ye,ze){if(ze=="target")return E.marked="keyword",a(Oe)}function we(ye,ze){if(ze=="target")return E.marked="keyword",a(Re)}function De(ye){return ye==":"?a(u,P):O(Oe,d(";"),u)}function Ge(ye){if(ye=="variable")return E.marked="property",a()}function Ke(ye,ze){return ye=="async"?(E.marked="property",a(Ke)):ye=="variable"||E.style=="keyword"?(E.marked="property",ze=="get"||ze=="set"?a(bt):(b&&E.state.fatArrowAt==E.stream.start&&(xt=E.stream.match(/^\s*:\s*/,!1))&&(E.state.fatArrowAt=E.stream.pos+xt[0].length),a(At))):ye=="number"||ye=="string"?(E.marked=ee?"property":E.style+" property",a(At)):ye=="jsonld-keyword"?a(At):b&&se(ze)?(E.marked="keyword",a(Ke)):ye=="["?a(K,kt,d("]"),At):ye=="spread"?a(H,At):ze=="*"?(E.marked="keyword",a(Ke)):ye==":"?O(At):void 0;var xt}function bt(ye){return ye!="variable"?O(At):(E.marked="property",a(In))}function At(ye){return ye==":"?a(H):ye=="("?O(In):void 0}function Ft(ye,ze,xt){function Vt($t,vn){if(xt?xt.indexOf($t)>-1:$t==","){var qt=E.state.lexical;return qt.info=="call"&&(qt.pos=(qt.pos||0)+1),a(function(rr,Jn){return rr==ze||Jn==ze?O():O(ye)},Vt)}return $t==ze||vn==ze?a():xt&&xt.indexOf(";")>-1?O(ye):a(d(ze))}return function($t,vn){return $t==ze||vn==ze?a():O(ye,Vt)}}function rn(ye,ze,xt){for(var Vt=3;Vt<arguments.length;Vt++)E.cc.push(arguments[Vt]);return a(h(ze,xt),Ft(ye,ze),u)}function On(ye){return ye=="}"?a():O(P,On)}function kt(ye,ze){if(b){if(ye==":")return a(rt);if(ze=="?")return a(kt)}}function Ae(ye,ze){if(b&&(ye==":"||ze=="in"))return a(rt)}function We(ye){if(b&&ye==":")return E.stream.match(/^\s*\w+\s+is\b/,!1)?a(K,et,rt):a(rt)}function et(ye,ze){if(ze=="is")return E.marked="keyword",a()}function rt(ye,ze){return ze=="keyof"||ze=="typeof"||ze=="infer"||ze=="readonly"?(E.marked="keyword",a(ze=="typeof"?H:rt)):ye=="variable"||ze=="void"?(E.marked="type",a(mt)):ze=="|"||ze=="&"?a(rt):ye=="string"||ye=="number"||ye=="atom"?a(mt):ye=="["?a(h("]"),Ft(rt,"]",","),u,mt):ye=="{"?a(h("}"),Be,u,mt):ye=="("?a(Ft(_t,")"),Lt,mt):ye=="<"?a(Ft(rt,">"),rt):ye=="quasi"?O(lt,mt):void 0}function Lt(ye){if(ye=="=>")return a(rt)}function Be(ye){return ye.match(/[\}\)\]]/)?a():ye==","||ye==";"?a(Be):O(nt,Be)}function nt(ye,ze){return ye=="variable"||E.style=="keyword"?(E.marked="property",a(nt)):ze=="?"||ye=="number"||ye=="string"?a(nt):ye==":"?a(rt):ye=="["?a(d("variable"),Ae,d("]"),nt):ye=="("?O(Hn,nt):ye.match(/[;\}\)\],]/)?void 0:a()}function lt(ye,ze){return ye!="quasi"?O():ze.slice(ze.length-2)!="${"?a(lt):a(rt,Rt)}function Rt(ye){if(ye=="}")return E.marked="string-2",E.state.tokenize=xe,a(lt)}function _t(ye,ze){return ye=="variable"&&E.stream.match(/^\s*[?:]/,!1)||ze=="?"?a(_t):ye==":"?a(rt):ye=="spread"?a(_t):O(rt)}function mt(ye,ze){return ze=="<"?a(h(">"),Ft(rt,">"),u,mt):ze=="|"||ye=="."||ze=="&"?a(rt):ye=="["?a(rt,d("]"),mt):ze=="extends"||ze=="implements"?(E.marked="keyword",a(rt)):ze=="?"?a(rt,d(":"),rt):void 0}function fn(ye,ze){if(ze=="<")return a(h(">"),Ft(rt,">"),u,mt)}function wn(){return O(rt,pn)}function pn(ye,ze){if(ze=="=")return a(rt)}function Rn(ye,ze){return ze=="enum"?(E.marked="keyword",a(cn)):O(Sn,kt,Wt,nn)}function Sn(ye,ze){return b&&se(ze)?(E.marked="keyword",a(Sn)):ye=="variable"?(g(ze),a()):ye=="spread"?a(Sn):ye=="["?rn(gn,"]"):ye=="{"?rn(Fn,"}"):void 0}function Fn(ye,ze){return ye!="variable"||E.stream.match(/^\s*:/,!1)?(ye=="variable"&&(E.marked="property"),ye=="spread"?a(Sn):ye=="}"?O():ye=="["?a(K,d("]"),d(":"),Fn):a(d(":"),Sn,Wt)):(g(ze),a(Wt))}function gn(){return O(Sn,Wt)}function Wt(ye,ze){if(ze=="=")return a(H)}function nn(ye){if(ye==",")return a(Rn)}function $n(ye,ze){if(ye=="keyword b"&&ze=="else")return a(h("form","else"),P,u)}function tr(ye,ze){return ze=="await"?a(tr):ye=="("?a(h(")"),Wn,u):void 0}function Wn(ye){return ye=="var"?a(Rn,nr):ye=="variable"?a(nr):O(nr)}function nr(ye,ze){return ye==")"?a():ye==";"?a(nr):ze=="in"||ze=="of"?(E.marked="keyword",a(K,nr)):O(K,nr)}function In(ye,ze){return ze=="*"?(E.marked="keyword",a(In)):ye=="variable"?(g(ze),a(In)):ye=="("?a(C,h(")"),Ft(qn,")"),u,We,P,f):b&&ze=="<"?a(h(">"),Ft(wn,">"),u,In):void 0}function Hn(ye,ze){return ze=="*"?(E.marked="keyword",a(Hn)):ye=="variable"?(g(ze),a(Hn)):ye=="("?a(C,h(")"),Ft(qn,")"),u,We,f):b&&ze=="<"?a(h(">"),Ft(wn,">"),u,Hn):void 0}function br(ye,ze){return ye=="keyword"||ye=="variable"?(E.marked="type",a(br)):ze=="<"?a(h(">"),Ft(wn,">"),u):void 0}function qn(ye,ze){return ze=="@"&&a(K,qn),ye=="spread"?a(qn):b&&se(ze)?(E.marked="keyword",a(qn)):b&&ye=="this"?a(kt,Wt):O(Sn,kt,Wt)}function Un(ye,ze){return ye=="variable"?gr(ye,ze):Bn(ye,ze)}function gr(ye,ze){if(ye=="variable")return g(ze),a(Bn)}function Bn(ye,ze){return ze=="<"?a(h(">"),Ft(wn,">"),u,Bn):ze=="extends"||ze=="implements"||b&&ye==","?(ze=="implements"&&(E.marked="keyword"),a(b?rt:K,Bn)):ye=="{"?a(h("}"),fr,u):void 0}function fr(ye,ze){return ye=="async"||ye=="variable"&&(ze=="static"||ze=="get"||ze=="set"||b&&se(ze))&&E.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(E.marked="keyword",a(fr)):ye=="variable"||E.style=="keyword"?(E.marked="property",a(ir,fr)):ye=="number"||ye=="string"?a(ir,fr):ye=="["?a(K,kt,d("]"),ir,fr):ze=="*"?(E.marked="keyword",a(fr)):b&&ye=="("?O(Hn,fr):ye==";"||ye==","?a(fr):ye=="}"?a():ze=="@"?a(K,fr):void 0}function ir(ye,ze){if(ze=="!"||ze=="?")return a(ir);if(ye==":")return a(rt,Wt);if(ze=="=")return a(H);var xt=E.state.lexical.prev;return O(xt&&xt.info=="interface"?Hn:In)}function Ir(ye,ze){return ze=="*"?(E.marked="keyword",a(Ln,d(";"))):ze=="default"?(E.marked="keyword",a(K,d(";"))):ye=="{"?a(Ft(hr,"}"),Ln,d(";")):O(P)}function hr(ye,ze){return ze=="as"?(E.marked="keyword",a(d("variable"))):ye=="variable"?O(H,hr):void 0}function Mn(ye){return ye=="string"?a():ye=="("?O(K):ye=="."?O(Oe):O(Yt,Nn,Ln)}function Yt(ye,ze){return ye=="{"?rn(Yt,"}"):(ye=="variable"&&g(ze),ze=="*"&&(E.marked="keyword"),a(sr))}function Nn(ye){if(ye==",")return a(Yt,Nn)}function sr(ye,ze){if(ze=="as")return E.marked="keyword",a(Yt)}function Ln(ye,ze){if(ze=="from")return E.marked="keyword",a(K)}function un(ye){return ye=="]"?a():O(Ft(H,"]"))}function cn(){return O(h("form"),Sn,d("{"),h("}"),Ft(Mr,"}"),u,u)}function Mr(){return O(Sn,Wt)}function Fr(ye,ze){return ye.lastType=="operator"||ye.lastType==","||s.test(ze.charAt(0))||/[,.]/.test(ze.charAt(0))}function Tt(ye,ze,xt){return ze.tokenize==Z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ze.lastType)||ze.lastType=="quasi"&&/\{\s*$/.test(ye.string.slice(0,ye.pos-(xt||0)))}return C.lex=l.lex=!0,f.lex=!0,u.lex=!0,{startState:function(ye){var ze={tokenize:Z,lastType:"sof",cc:[],lexical:new B((ye||0)-ne,0,"block",!1),localVars:fe.localVars,context:fe.localVars&&new le(null,null,!1),indented:ye||0};return fe.globalVars&&typeof fe.globalVars=="object"&&(ze.globalVars=fe.globalVars),ze},token:function(ye,ze){if(ye.sol()&&(ze.lexical.hasOwnProperty("align")||(ze.lexical.align=!1),ze.indented=ye.indentation(),A(ye,ze)),ze.tokenize!=te&&ye.eatSpace())return null;var xt=ze.tokenize(ye,ze);return de=="comment"?xt:(ze.lastType=de!="operator"||ue!="++"&&ue!="--"?de:"incdec",ie(ze,xt,de,ue,ye))},indent:function(ye,ze){if(ye.tokenize==te||ye.tokenize==xe)return ve.Pass;if(ye.tokenize!=Z)return 0;var xt,Vt=ze&&ze.charAt(0),$t=ye.lexical;if(!/^\s*else\b/.test(ze))for(var vn=ye.cc.length-1;vn>=0;--vn){var qt=ye.cc[vn];if(qt==u)$t=$t.prev;else if(qt!=$n&&qt!=f)break}for(;($t.type=="stat"||$t.type=="form")&&(Vt=="}"||(xt=ye.cc[ye.cc.length-1])&&(xt==Oe||xt==Re)&&!/^[,\.=+\-*:?[\(]/.test(ze));)$t=$t.prev;X&&$t.type==")"&&$t.prev.type=="stat"&&($t=$t.prev);var rr=$t.type,Jn=Vt==rr;return rr=="vardef"?$t.indented+(ye.lastType=="operator"||ye.lastType==","?$t.info.length+1:0):rr=="form"&&Vt=="{"?$t.indented:rr=="form"?$t.indented+ne:rr=="stat"?$t.indented+(Fr(ye,ze)?X||ne:0):$t.info!="switch"||Jn||fe.doubleIndentSwitch==0?$t.align?$t.column+(Jn?0:1):$t.indented+(Jn?0:ne):$t.indented+(/^(?:case|default)\b/.test(ze)?ne:2*ne)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:j?null:"/*",blockCommentEnd:j?null:"*/",blockCommentContinue:j?null:" * ",lineComment:j?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:j?"json":"javascript",jsonldMode:ee,jsonMode:j,expressionAllowed:Tt,skipExpression:function(ye){ie(ye,"atom","atom","true",new ve.StringStream("",2,null))}}}),ve.registerHelper("wordChars","javascript",/[\w$]/),ve.defineMIME("text/javascript","javascript"),ve.defineMIME("text/ecmascript","javascript"),ve.defineMIME("application/javascript","javascript"),ve.defineMIME("application/x-javascript","javascript"),ve.defineMIME("application/ecmascript","javascript"),ve.defineMIME("application/json",{name:"javascript",json:!0}),ve.defineMIME("application/x-json",{name:"javascript",json:!0}),ve.defineMIME("application/manifest+json",{name:"javascript",json:!0}),ve.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),ve.defineMIME("text/typescript",{name:"javascript",typescript:!0}),ve.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(_(4631))},9589:(gt,Ze,_)=>{(function(ve){var _e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},fe={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};ve.defineMode("xml",function(de,ue){var ne,X,ee=de.indentUnit,j={},m=ue.htmlMode?_e:fe;for(var b in m)j[b]=m[b];for(var b in ue)j[b]=ue[b];function T(a,c){function g(se){return c.tokenize=se,se(a,c)}var S=a.next();return S=="<"?a.eat("!")?a.eat("[")?a.match("CDATA[")?g(ae("atom","]]>")):null:a.match("--")?g(ae("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),g($(1))):null:a.eat("?")?(a.eatWhile(/[\w\._\-]/),c.tokenize=ae("meta","?>"),"meta"):(ne=a.eat("/")?"closeTag":"openTag",c.tokenize=V,"tag bracket"):S=="&"?(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error":(a.eatWhile(/[^&<]/),null)}function V(a,c){var g=a.next();if(g==">"||g=="/"&&a.eat(">"))return c.tokenize=T,ne=g==">"?"endTag":"selfcloseTag","tag bracket";if(g=="=")return ne="equals",null;if(g=="<"){c.tokenize=T,c.state=xe,c.tagName=c.tagStart=null;var S=c.tokenize(a,c);return S?S+" tag error":"tag error"}return/[\'\"]/.test(g)?(c.tokenize=s(g),c.stringStartCol=a.column(),c.tokenize(a,c)):(a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function s(a){var c=function(g,S){for(;!g.eol();)if(g.next()==a){S.tokenize=V;break}return"string"};return c.isInAttribute=!0,c}function ae(a,c){return function(g,S){for(;!g.eol();){if(g.match(c)){S.tokenize=T;break}g.next()}return a}}function $(a){return function(c,g){for(var S;(S=c.next())!=null;){if(S=="<")return g.tokenize=$(a+1),g.tokenize(c,g);if(S==">"){if(a==1){g.tokenize=T;break}return g.tokenize=$(a-1),g.tokenize(c,g)}}return"meta"}}function R(a){return a&&a.toLowerCase()}function Z(a,c,g){this.prev=a.context,this.tagName=c||"",this.indent=a.indented,this.startOfLine=g,(j.doNotIndent.hasOwnProperty(c)||a.context&&a.context.noIndent)&&(this.noIndent=!0)}function L(a){a.context&&(a.context=a.context.prev)}function te(a,c){for(var g;;){if(!a.context||(g=a.context.tagName,!j.contextGrabbers.hasOwnProperty(R(g))||!j.contextGrabbers[R(g)].hasOwnProperty(R(c))))return;L(a)}}function xe(a,c,g){return a=="openTag"?(g.tagStart=c.column(),he):a=="closeTag"?A:xe}function he(a,c,g){return a=="word"?(g.tagName=c.current(),X="tag",W):j.allowMissingTagName&&a=="endTag"?(X="tag bracket",W(a,c,g)):(X="error",he)}function A(a,c,g){if(a=="word"){var S=c.current();return g.context&&g.context.tagName!=S&&j.implicitlyClosed.hasOwnProperty(R(g.context.tagName))&&L(g),g.context&&g.context.tagName==S||j.matchClosing===!1?(X="tag",z):(X="tag error",B)}return j.allowMissingTagName&&a=="endTag"?(X="tag bracket",z(a,c,g)):(X="error",B)}function z(a,c,g){return a!="endTag"?(X="error",z):(L(g),xe)}function B(a,c,g){return X="error",z(a,c,g)}function W(a,c,g){if(a=="word")return X="attribute",ie;if(a=="endTag"||a=="selfcloseTag"){var S=g.tagName,se=g.tagStart;return g.tagName=g.tagStart=null,a=="selfcloseTag"||j.autoSelfClosers.hasOwnProperty(R(S))?te(g,S):(te(g,S),g.context=new Z(g,S,se==g.indented)),xe}return X="error",W}function ie(a,c,g){return a=="equals"?E:(j.allowMissing||(X="error"),W(a,c,g))}function E(a,c,g){return a=="string"?O:a=="word"&&j.allowUnquoted?(X="string",W):(X="error",W(a,c,g))}function O(a,c,g){return a=="string"?O:W(a,c,g)}return T.isInText=!0,{startState:function(a){var c={tokenize:T,state:xe,indented:a||0,tagName:null,tagStart:null,context:null};return a!=null&&(c.baseIndent=a),c},token:function(a,c){if(!c.tagName&&a.sol()&&(c.indented=a.indentation()),a.eatSpace())return null;ne=null;var g=c.tokenize(a,c);return(g||ne)&&g!="comment"&&(X=null,c.state=c.state(ne||g,a,c),X&&(g=X=="error"?g+" error":X)),g},indent:function(a,c,g){var S=a.context;if(a.tokenize.isInAttribute)return a.tagStart==a.indented?a.stringStartCol+1:a.indented+ee;if(S&&S.noIndent)return ve.Pass;if(a.tokenize!=V&&a.tokenize!=T)return g?g.match(/^(\s*)/)[0].length:0;if(a.tagName)return j.multilineTagIndentPastTag!==!1?a.tagStart+a.tagName.length+2:a.tagStart+ee*(j.multilineTagIndentFactor||1);if(j.alignCDATA&&/<!\[CDATA\[/.test(c))return 0;var se=c&&/^<(\/)?([\w_:\.-]*)/.exec(c);if(se&&se[1])for(;S;){if(S.tagName==se[2]){S=S.prev;break}if(!j.implicitlyClosed.hasOwnProperty(R(S.tagName)))break;S=S.prev}else if(se)for(;S;){var le=j.contextGrabbers[R(S.tagName)];if(!le||!le.hasOwnProperty(R(se[2])))break;S=S.prev}for(;S&&S.prev&&!S.startOfLine;)S=S.prev;return S?S.indent+ee:a.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:j.htmlMode?"html":"xml",helperType:j.htmlMode?"html":"xml",skipAttribute:function(a){a.state==E&&(a.state=W)},xmlCurrentTag:function(a){return a.tagName?{name:a.tagName,close:a.type=="closeTag"}:null},xmlCurrentContext:function(a){for(var c=[],g=a.context;g;g=g.prev)c.push(g.tagName);return c.reverse()}}}),ve.defineMIME("text/xml","xml"),ve.defineMIME("application/xml","xml"),ve.mimeModes.hasOwnProperty("text/html")||ve.defineMIME("text/html",{name:"xml",htmlMode:!0})})(_(4631))},9714:(gt,Ze,_)=>{_.d(Ze,{Z:()=>j});var ve=_(4942),_e=_(2982),fe=_(5671),de=_(3144),ue=_(9050),ne=_(1163);function X(m,b){var T=Object.keys(m);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(m);b&&(V=V.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),T.push.apply(T,V)}return T}function ee(m){for(var b=1;b<arguments.length;b++){var T=arguments[b]!=null?arguments[b]:{};b%2?X(Object(T),!0).forEach(function(V){(0,ve.Z)(m,V,T[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(T)):X(Object(T)).forEach(function(V){Object.defineProperty(m,V,Object.getOwnPropertyDescriptor(T,V))})}return m}var j=function(){function m(){(0,fe.Z)(this,m)}return(0,de.Z)(m,[{key:"getConfig",value:function(b){return this.__getConfig(b)}},{key:"getProjectData",value:function(b){var T={},V=this.storageKey;return V&&(T[V]=b||this.getAll()),T}},{key:"loadProjectData",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=T.all,s=T.onResult,ae=T.reset,$=this.storageKey,R={action:"load"},Z=V||this.getAll(),L=b[$];if(typeof L=="string")try{L=JSON.parse(L)}catch{this.__logWarn("Data parsing failed",{input:L})}return ae&&L&&Z.reset(null,R),s?L&&s(L,R):L&&(0,ne.isDef)(L.length)&&Z.reset(L,R),L}},{key:"clear",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.all;return T&&T.reset(null,b),this}},{key:"__getConfig",value:function(b){var T=this.config||{};return b?T[b]:T}},{key:"getAll",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?b.array?(0,_e.Z)(this.all.models):this.all:[]}},{key:"getAllMap",value:function(){return this.getAll().reduce(function(b,T){return b[T.get(T.idAttribute)]=T,b},{})}},{key:"__initConfig",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,ne.deepMerge)(b,T),this.em=this.config.em,this.cls=[]}},{key:"__initListen",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},T=this.all,V=this.em,s=this.events;T&&V&&T.on("add",function(ae,$,R){return V.trigger(s.add,ae,R)}).on("remove",function(ae,$,R){return V.trigger(s.remove,ae,R)}).on("change",function(ae,$){return V.trigger(s.update,ae,ae.changedAttributes(),$)}).on("all",this.__catchAllEvent,this),this.cls=[T].concat(b.collections||[]),(b.propagate||[]).forEach(function(ae){var $=ae.entity,R=ae.event;$.on("all",function(Z,L,te,xe){var he=ee({event:Z},xe||te);[V,T].map(function(A){return A.trigger(R,L,he)})})})}},{key:"__remove",value:function(b){var T=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.em,ae=(0,ue.isString)(b)?this.get(b):b,$=function(){return ae&&T.all.remove(ae,V),ae};return!V.silent&&s&&s.trigger(this.events.removeBefore,ae,$,V),!V.abort&&$()}},{key:"__catchAllEvent",value:function(b,T,V,s){var ae=this.em,$=this.events,R=s||V;ae&&$.all&&ae.trigger($.all,{event:b,model:T,options:R}),this.__onAllEvent()}},{key:"__appendTo",value:function(){var b=this.getConfig().appendTo;if(b){var T=(0,ue.isElement)(b)?b:document.querySelector(b);if(!T)return this.__logWarn('"appendTo" element not found');T.appendChild(this.render())}}},{key:"__onAllEvent",value:function(){}},{key:"__logWarn",value:function(b,T){this.em.logWarning("[".concat(this.name,"]: ").concat(b),T)}},{key:"_createId",value:function(){var b,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,V=this.getAll(),s=V.length+T,ae=this.getAllMap();do b=(0,ne.createId)(s);while(ae[b]);return b}},{key:"__listenAdd",value:function(b,T){var V=this;b.on("add",function(s,ae,$){return V.em.trigger(T,s,$)})}},{key:"__listenRemove",value:function(b,T){var V=this;b.on("remove",function(s,ae,$){return V.em.trigger(T,s,$)})}},{key:"__listenUpdate",value:function(b,T){var V=this;b.on("change",function(s,ae){return V.em.trigger(T,s,s.changedAttributes(),ae)})}},{key:"__destroy",value:function(){var b;this.cls.forEach(function(T){T.stopListening(),T.reset()}),this.em=0,this.config=0,(b=this.view)===null||b===void 0||b.remove(),this.view=0}}]),m}()},1030:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>Ye,evAdd:()=>u,evAll:()=>C,evClose:()=>H,evCustom:()=>q,evOpen:()=>K,evPfx:()=>l,evRemove:()=>d,evRemoveBefore:()=>P,evSelect:()=>f,evUpdate:()=>h,evUpload:()=>w,evUploadEnd:()=>J,evUploadError:()=>Oe,evUploadRes:()=>Re,evUploadStart:()=>M});var ve=_(4942),_e=_(9050),fe=_(9304);const de={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""};var ue=_(3144),ne=_(5671),X=_(9340),ee=_(2963),j=_(1120),m=_(2316);function b(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}var T=function(Ve){(0,X.Z)(je,Ve);var Se=b(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),je}(m.Model);function V(Ve,Se){var je=Object.keys(Ve);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(Ve);Se&&(x=x.filter(function(re){return Object.getOwnPropertyDescriptor(Ve,re).enumerable})),je.push.apply(je,x)}return je}function s(Ve){for(var Se=1;Se<arguments.length;Se++){var je=arguments[Se]!=null?arguments[Se]:{};Se%2?V(Object(je),!0).forEach(function(x){(0,ve.Z)(Ve,x,je[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(je)):V(Object(je)).forEach(function(x){Object.defineProperty(Ve,x,Object.getOwnPropertyDescriptor(je,x))})}return Ve}function ae(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}T.prototype.idAttribute="src",T.getDefaults=function(){return(0,_e.result)(this.prototype,"defaults")};var $=function(Ve){(0,X.Z)(je,Ve);var Se=ae(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je,[{key:"defaults",value:function(){return s(s({},T.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),je}(T),R=_(168);function Z(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}var L,te,xe=function(Ve){(0,X.Z)(je,Ve);var Se=Z(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je,[{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=x,this.collection=x.collection;var re=x.config||{};this.config=re,this.pfx=re.stylePrefix||"",this.ppfx=re.pStylePrefix||"",this.em=re.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var we=this.init&&this.init.bind(this);we&&we(x)}},{key:"__getBhv",value:function(){var x=this.em,re=x&&x.get("AssetManager");return re&&re.__getBehaviour()||{}}},{key:"template",value:function(){var x=this.pfx;return`
      <div class="`.concat(x,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(x,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(x,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)}},{key:"updateTarget",value:function(x){x&&x.set&&(x.set("attributes",(0,_e.clone)(x.get("attributes"))),x.set("src",this.model.get("src")))}},{key:"getPreview",value:function(){return""}},{key:"getInfo",value:function(){return""}},{key:"render",value:function(){var x=this.el;return x.innerHTML=this.template(this,this.model),x.className=this.className,this}}]),je}(m.View),he=_(7539);function A(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}var z=function(Ve){(0,X.Z)(je,Ve);var Se=A(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je,[{key:"getPreview",value:function(){var x=this.pfx,re=this.ppfx,we=this.model.get("src");return(0,he.Z)(L||(L=(0,R.Z)([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),x,we,x,re)}},{key:"getInfo",value:function(){var x=this.pfx,re=this.model,we=re.get("name"),De=re.get("width"),Ge=re.get("height"),Ke=re.get("unitDim"),bt=De&&Ge?"".concat(De,"x").concat(Ge).concat(Ke):"";return we=we||re.getFilename(),(0,he.Z)(te||(te=(0,R.Z)([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),x,we,x,bt)}},{key:"init",value:function(x){var re=this.pfx;this.className+=" ".concat(re,"asset-image")}},{key:"onClick",value:function(){var x=this.model,re=this.pfx,we=this.__getBhv().select,De=this.config.onClick,Ge=this.collection;Ge.trigger("deselectAll"),this.$el.addClass(re+"highlight"),(0,_e.isFunction)(we)?we(x,!1):(0,_e.isFunction)(De)?De(x):this.updateTarget(Ge.target)}},{key:"onDblClick",value:function(){var x=this.em,re=this.model,we=this.__getBhv().select,De=this.config.onDblClick,Ge=this.collection,Ke=Ge.target,bt=Ge.onSelect;(0,_e.isFunction)(we)?we(re,!0):(0,_e.isFunction)(De)?De(re):(this.updateTarget(Ke),x&&x.get("Modal").close()),(0,_e.isFunction)(bt)&&bt(re)}},{key:"onRemove",value:function(x){x.stopImmediatePropagation(),this.model.collection.remove(this.model)}}]),je}(xe);z.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var B=_(793);function W(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}var ie=function(Ve){(0,X.Z)(je,Ve);var Se=W(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je)}(m.Collection.extend(B.Z));function E(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}ie.prototype.types=[{id:"image",model:$,view:z,isType:function(Ve){return typeof Ve=="string"?{type:"image",src:Ve}:Ve}}];var O=function(Ve){(0,X.Z)(je,Ve);var Se=E(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je,[{key:"template",value:function(x){var re=x.pfx,we=x.ppfx,De=x.em,Ge="";return this.config.showUrlInput&&(Ge=`
          <form class="`.concat(re,`add-asset">
            <div class="`).concat(we,"field ").concat(re,`add-field">
              <input placeholder="`).concat(De&&De.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(we,'btn-prim">').concat(De&&De.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(re,`assets-cont">
      <div class="`).concat(re,`assets-header">
        `).concat(Ge,`
      </div>
      <div class="`).concat(re,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)}},{key:"initialize",value:function(x){this.options=x,this.config=x.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var re=this.collection;this.listenTo(re,"reset",this.renderAssets),this.listenTo(re,"add",this.addToAsset),this.listenTo(re,"remove",this.removedAsset),this.listenTo(re,"deselectAll",this.deselectAll)}},{key:"handleSubmit",value:function(x){x.preventDefault();var re=this.getAddInput(),we=re&&re.value.trim(),De=this.config.handleAdd;we&&(re.value="",this.getAssetsEl().scrollTop=0,De?De.bind(this)(we):this.options.globalCollection.add(we,{at:0}))}},{key:"getAssetsEl",value:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))}},{key:"getAddInput",value:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl}},{key:"removedAsset",value:function(x){this.collection.length||this.toggleNoAssets()}},{key:"addToAsset",value:function(x){this.collection.length==1&&this.toggleNoAssets(1),this.addAsset(x)}},{key:"addAsset",value:function(x){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,we=re,De=this.collection,Ge=this.config,Ke=new x.typeView({model:x,collection:De,config:Ge}).render().el;if(we)we.appendChild(Ke);else{var bt=this.getAssetsEl();bt&&bt.insertBefore(Ke,bt.firstChild)}return Ke}},{key:"toggleNoAssets",value:function(x){var re=this.$el.find(".".concat(this.pfx,"assets"));if(x)re.empty();else{var we=this.config.noAssets;we&&re.append(we)}}},{key:"deselectAll",value:function(){var x=this.pfx;this.$el.find(".".concat(x,"highlight")).removeClass("".concat(x,"highlight"))}},{key:"renderAssets",value:function(){var x=this,re=document.createDocumentFragment(),we=this.$el.find(".".concat(this.pfx,"assets"));we.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(De){return x.addAsset(De,re)}),we.append(re)}},{key:"render",value:function(){var x=this.options.fu.render().el;return this.$el.empty(),this.$el.append(x).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}]),je}(m.View);O.prototype.events={submit:"handleSubmit"};var a,c=_(9661);function g(Ve,Se){var je=typeof Symbol!="undefined"&&Ve[Symbol.iterator]||Ve["@@iterator"];if(!je){if(Array.isArray(Ve)||(je=function(Ke,bt){if(!!Ke){if(typeof Ke=="string")return S(Ke,bt);var At=Object.prototype.toString.call(Ke).slice(8,-1);if(At==="Object"&&Ke.constructor&&(At=Ke.constructor.name),At==="Map"||At==="Set")return Array.from(Ke);if(At==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(At))return S(Ke,bt)}}(Ve))||Se&&Ve&&typeof Ve.length=="number"){je&&(Ve=je);var x=0,re=function(){};return{s:re,n:function(){return x>=Ve.length?{done:!0}:{done:!1,value:Ve[x++]}},e:function(Ke){throw Ke},f:re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,De=!0,Ge=!1;return{s:function(){je=je.call(Ve)},n:function(){var Ke=je.next();return De=Ke.done,Ke},e:function(Ke){Ge=!0,we=Ke},f:function(){try{De||je.return==null||je.return()}finally{if(Ge)throw we}}}}function S(Ve,Se){(Se==null||Se>Ve.length)&&(Se=Ve.length);for(var je=0,x=new Array(Se);je<Se;je++)x[je]=Ve[je];return x}function se(Ve){var Se=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var je,x=(0,j.Z)(Ve);if(Se){var re=(0,j.Z)(this).constructor;je=Reflect.construct(x,arguments,re)}else je=x.apply(this,arguments);return(0,ee.Z)(this,je)}}var le=function(Ve){(0,X.Z)(je,Ve);var Se=se(je);function je(){return(0,ne.Z)(this,je),Se.apply(this,arguments)}return(0,ue.Z)(je,[{key:"template",value:function(x){var re=x.pfx,we=x.title,De=x.uploadId,Ge=x.disabled,Ke=x.multiUpload;return(0,he.Z)(a||(a=(0,R.Z)([`
      <form>
        <div id="`,'title">',`</div>
        <input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),re,we,De,Ge?"disabled":"",Ke?"multiple":"")}},{key:"initialize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=x;var re=x.config||{};this.module=x.module,this.config=re,this.em=this.config.em,this.pfx=re.stylePrefix||"",this.ppfx=re.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=re.disableUpload!==void 0?re.disableUpload:!re.upload&&!re.embedAsBase64,this.multiUpload=re.multiUpload===void 0||re.multiUpload,this.events={["change #".concat(this.uploadId)]:"uploadFile"};var we=re.uploadFile;we?this.uploadFile=we.bind(this):!re.upload&&re.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()}},{key:"onUploadStart",value:function(){var x=this.module;x&&x.__propEv("asset:upload:start")}},{key:"onUploadEnd",value:function(x){var re=this.$el,we=this.module;we&&we.__propEv("asset:upload:end",x);var De=re.find("input");De&&De.val("")}},{key:"onUploadError",value:function(x){var re=this.module;console.error(x),this.onUploadEnd(x),re&&re.__propEv("asset:upload:error",x)}},{key:"onUploadResponse",value:function(x,re){var we,De=this.module,Ge=this.config,Ke=this.target;try{we=typeof x=="string"?JSON.parse(x):x}catch{we=x}De&&De.__propEv("asset:upload:response",we),Ge.autoAdd&&Ke&&Ke.add(we.data,{at:0}),this.onUploadEnd(x),re&&re(we)}},{key:"uploadFile",value:function(x,re){var we=this,De=x.dataTransfer?x.dataTransfer.files:x.target.files,Ge=this.config,Ke=Ge.beforeUpload;if((Ke&&Ke(De))!==!1){var bt=new FormData,At=Ge.params,Ft=Ge.customFetch;for(var rn in At)bt.append(rn,At[rn]);if(this.multiUpload)for(var On=0;On<De.length;On++)bt.append("".concat(Ge.uploadName,"[]"),De[On]);else De.length&&bt.append(Ge.uploadName,De[0]);this.target;var kt=Ge.upload,Ae=Ge.headers,We="X-Requested-With";if(Ae[We]===void 0&&(Ae[We]="XMLHttpRequest"),kt){this.onUploadStart();var et={method:"post",credentials:Ge.credentials||"include",headers:Ae,body:bt};return(Ft?Ft(kt,et):(0,c.Z)(kt,et).then(function(rt){return(rt.status/200|0)==1?rt.text():rt.text().then(function(Lt){return Promise.reject(Lt)})})).then(function(rt){return we.onUploadResponse(rt,re)}).catch(function(rt){return we.onUploadError(rt)})}}}},{key:"initDrop",value:function(){var x=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadFile,this.uploadForm.ondragover=function(){return this.className=x.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(re){this.className="",re.preventDefault(),x.uploadFile(re)})}},{key:"initDropzone",value:function(x){var re=this,we=0,De=this.config,Ge=x.model,Ke=x.el,bt=Ge.get("Editor"),At=(Ge.get("Config").el,Ge.get("Canvas").getBody()),Ft=this.ppfx,rn="".concat(Ft,"dropzone-active"),On="".concat(Ft,"dropzone"),kt=function(){Ke.className=Ke.className.replace(rn,"").trim(),we=0},Ae=function(){return we||(Ke.className+=" ".concat(rn),we=1),!1},We=function(){return kt(),!1},et=function(rt){if(kt(),rt.preventDefault(),rt.stopPropagation(),re.uploadFile(rt),De.openAssetsOnDrop&&bt){var Lt=bt.getSelected();bt.runCommand("open-assets",{target:Lt,onSelect:function(){bt.Modal.close(),bt.AssetManager.setTarget(null)}})}return!1};x.$el.append('<div class="'.concat(On,'">').concat(De.dropzoneContent,"</div>")),kt(),"draggable"in Ke&&[Ke,At].forEach(function(rt){rt.ondragover=Ae,rt.ondragleave=We,rt.ondrop=et})}},{key:"render",value:function(){var x=this.$el,re=this.pfx,we=this.em;return x.html(this.template({title:we&&we.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:re})),this.initDrop(),x.attr("class",re+"file-uploader"),this}}]),je}(m.View);function D(Ve,Se){var je=Object.keys(Ve);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(Ve);Se&&(x=x.filter(function(re){return Object.getOwnPropertyDescriptor(Ve,re).enumerable})),je.push.apply(je,x)}return je}function I(Ve){for(var Se=1;Se<arguments.length;Se++){var je=arguments[Se]!=null?arguments[Se]:{};Se%2?D(Object(je),!0).forEach(function(x){(0,ve.Z)(Ve,x,je[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ve,Object.getOwnPropertyDescriptors(je)):D(Object(je)).forEach(function(x){Object.defineProperty(Ve,x,Object.getOwnPropertyDescriptor(je,x))})}return Ve}le.embedAsBase64=function(Ve,Se){var je=this,x=Ve.dataTransfer?Ve.dataTransfer.files:Ve.target.files,re={data:[]};if(FileReader){var we,De=[],Ge=/^(.+)\/(.+)$/,Ke=g(x);try{var bt=function(){var At=we.value,Ft=new Promise(function(rn,On){var kt=new FileReader;kt.addEventListener("load",function(Ae){var We,et=At.name,rt=Ge.exec(At.type);if((We=rt?rt[1]:At.type)==="image"){var Lt={src:kt.result,name:et,type:We,height:0,width:0},Be=new Image;Be.addEventListener("error",function(nt){On(nt)}),Be.addEventListener("load",function(){Lt.height=Be.height,Lt.width=Be.width,rn(Lt)}),Be.src=Lt.src}else rn(We?{src:kt.result,name:et,type:We}:kt.result)}),kt.addEventListener("error",function(Ae){On(Ae)}),kt.addEventListener("abort",function(Ae){On("Aborted")}),kt.readAsDataURL(At)});De.push(Ft)};for(Ke.s();!(we=Ke.n()).done;)bt()}catch(At){Ke.e(At)}finally{Ke.f()}Promise.all(De).then(function(At){re.data=At,je.onUploadResponse(re,Se)},function(At){je.onUploadError(At)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))};var C="asset",l="".concat(C,":"),f="".concat(l,"select"),h="".concat(l,"update"),u="".concat(l,"add"),d="".concat(l,"remove"),P="".concat(d,":before"),q="".concat(l,"custom"),K="".concat(l,"open"),H="".concat(l,"close"),w="".concat(l,"upload"),M="".concat(w,":start"),J="".concat(w,":end"),Oe="".concat(w,":error"),Re="".concat(w,":response");const Ye=function(){var Ve,Se,je,x,re={},we="open-assets";return I(I({},fe.Z),{},{name:"AssetManager",storageKey:"assets",Asset:ie,Assets:ie,events:{all:C,select:f,update:h,add:u,remove:d,removeBefore:P,custom:q,open:K,close:H,uploadStart:M,uploadEnd:J,uploadError:Oe,uploadResponse:Re},init:function(){var De=this,Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ke=(re=I(I({},de),Ge)).pStylePrefix,bt=re,At=bt.em;return this.config=re,this.em=At,Ke&&(re.stylePrefix=Ke+re.stylePrefix),Ve=new ie([]),Se=new ie([]),this.all=Ve,this.__initListen(),Ve.on("add",function(Ft){return De.getAllVisible().add(Ft)}),Ve.on("remove",function(Ft){return De.getAllVisible().remove(Ft)}),this},__propEv:function(De){for(var Ge,Ke,bt=arguments.length,At=new Array(bt>1?bt-1:0),Ft=1;Ft<bt;Ft++)At[Ft-1]=arguments[Ft];(Ge=this.em).trigger.apply(Ge,[De].concat(At)),(Ke=this.getAll()).trigger.apply(Ke,[De].concat(At))},__onAllEvent:(0,_e.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig().custom.open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var De=this,Ge=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:Ge.types||[],container:Ge.container,close:function(){return De.close()},remove:function(){return De.remove.apply(De,arguments)},select:function(Ke,bt){var At=De.add(Ke);(0,_e.isFunction)(Ge.select)&&Ge.select(At,bt)},options:Ge.options||{}}},open:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ge=this.em.get("Commands");Ge.run(we,I({types:["image"],select:function(){}},De))},close:function(){this.em.get("Commands").stop(we)},isOpen:function(){var De=this.em.get("Commands");return!(!De||!De.isActive(we))},add:function(De){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ge.at===void 0&&(Ge.at=0),Ve.add(De,Ge)},get:function(De){return Ve.where({src:De})[0]||null},getAll:function(){return Ve},getAllVisible:function(){return Se},remove:function(De,Ge){return this.__remove(De,Ge)},store:function(){return this.getProjectData()},load:function(De){return this.loadProjectData(De)},getContainer:function(){return this.__getBehaviour().container||je&&je.el},getAssetsEl:function(){return je.el.querySelector("[data-el=assets]")},render:function(De){if(!this.getConfig().custom){var Ge=De||this.getAll().models;if(!je){var Ke=this.__viewParams();Ke.fu=this.FileUploader();var bt=je&&je.el;(je=new O(I({el:bt},Ke))).render()}return Se.reset(Ge),this.getContainer()}},__viewParams:function(){return{collection:Se,globalCollection:Ve,config:re,module:this}},addType:function(De,Ge){this.getAll().addType(De,Ge)},getType:function(De){return this.getAll().getType(De)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return je},FileUploader:function(){return x||(x=new le(this.__viewParams())),x},onLoad:function(){var De=this;this.getAll().reset(re.assets);var Ge=this.em,Ke=this.events;Ge.on("run:".concat(we),function(){return De.__propEv(Ke.open)}),Ge.on("stop:".concat(we),function(){return De.__propEv(Ke.close)})},postRender:function(De){re.dropzone&&x&&x.initDropzone(De)},setTarget:function(De){Se.target=De},onSelect:function(De){Se.onSelect=De},onClick:function(De){re.onClick=De},onDblClick:function(De){re.onDblClick=De},__behaviour:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=I(I({},this._bhv||{}),De)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){Ve.stopListening(),Se.stopListening(),Ve.reset(),Se.reset(),x&&x.remove(),je&&je.remove(),this._bhv={},this.all={},re={}}})}},6407:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>q,evAdd:()=>I,evAll:()=>le,evCustom:()=>P,evDrag:()=>h,evDragStart:()=>u,evDragStop:()=>d,evPfx:()=>D,evRemove:()=>l,evRemoveBefore:()=>f,evUpdate:()=>C});var ve=_(5671),_e=_(3144),fe=_(7326),de=_(9340),ue=_(2963),ne=_(1120),X=_(4942),ee=_(9050),j=_(9714);const m={appendTo:"",appendOnClick:!1,blocks:[],custom:!1};var b=_(2316);function T(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var V=function(K){(0,de.Z)(w,K);var H=T(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var M=this.get("category");return(0,ee.isFunction)(M.get)?M.get("label"):M.label?M.label:M}}]),w}(b.Model);function s(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var ae=function(K){(0,de.Z)(w,K);var H=s(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w)}(b.Collection);function $(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}ae.prototype.model=V;var R=function(K){(0,de.Z)(w,K);var H=$(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),w}(b.Model);function Z(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var L=function(K){(0,de.Z)(w,K);var H=Z(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w)}(b.Collection);L.prototype.model=R;var te=_(1163);function xe(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var he,A=function(K){(0,de.Z)(w,K);var H=xe(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w,[{key:"events",value:function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}}},{key:"initialize",value:function(M){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=this.model;this.em=J.em,this.config=J,this.endDrag=this.endDrag.bind(this),this.ppfx=J.pStylePrefix||"",this.listenTo(Oe,"destroy remove",this.remove),this.listenTo(Oe,"change",this.render)}},{key:"__getModule",value:function(){return this.em.get("BlockManager")}},{key:"handleClick",value:function(M){var J=this.config,Oe=this.model,Re=this.em,Ye=Oe.get("onClick")||J.appendOnClick;if(Re.trigger("block:click",Oe,M),Ye){if((0,ee.isFunction)(Ye))return Ye(Oe,Re.getEditor(),{event:M});var Ve,Se,je=J.getSorter(),x=Oe.get("content"),re=Re.getSelected();if(je.setDropContent(x),re)if(je.validTarget(re.getEl(),x).valid)Ve=re;else{var we=re.parent();je.validTarget(we.getEl(),x).valid&&(Ve=we,Se=we.components().indexOf(re)+1)}if(!Ve){var De=Re.getWrapper();je.validTarget(De.getEl(),x).valid&&(Ve=De)}var Ge=Ve&&Ve.append(x,{at:Se})[0];Ge&&Re.setSelected(Ge,{scroll:1})}}},{key:"startDrag",value:function(M){var J=this.config,Oe=this.em,Re=this.model.get("disable");if(M.button===0&&J.getSorter&&!this.el.draggable&&!Re){Oe.refreshCanvas();var Ye=J.getSorter();Ye.setDragHelper(this.el,M),Ye.setDropContent(this.model.get("content")),Ye.startSort(this.el),(0,te.on)(document,"mouseup",this.endDrag)}}},{key:"handleDragStart",value:function(M){this.__getModule().__startDrag(this.model,M)}},{key:"handleDrag",value:function(M){this.__getModule().__drag(M)}},{key:"handleDragEnd",value:function(){this.__getModule().__endDrag()}},{key:"endDrag",value:function(M){(0,te.off)(document,"mouseup",this.endDrag);var J=this.config.getSorter();J.moved=0,J.endMove()}},{key:"render",value:function(){var M=this.em,J=this.el,Oe=this.$el,Re=this.ppfx,Ye=this.model,Ve=Ye.get("disable"),Se=Ye.get("attributes")||{},je=Se.class||"",x="".concat(Re,"block"),re=M&&M.t("blockManager.labels.".concat(Ye.id))||Ye.get("label"),we=Ye.get("render"),De=Ye.get("media"),Ge=Ve?"".concat(x,"--disable"):"".concat(Re,"four-color-h");Oe.attr(Se),J.className="".concat(je," ").concat(x," ").concat(Re,"one-bg ").concat(Ge).trim(),J.innerHTML=`
      `.concat(De?'<div class="'.concat(x,'__media">').concat(De,"</div>"):"",`
      <div class="`).concat(x,'-label">').concat(re,`</div>
    `),J.title=Se.title||J.textContent.trim(),J.setAttribute("draggable",!(!(0,te.hasDnd)(M)||Ve));var Ke=we&&we({el:J,model:Ye,className:x,prefix:Re});return Ke&&(J.innerHTML=Ke),this}}]),w}(b.View),z=_(168),B=_(7539);function W(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var ie=function(K){(0,de.Z)(w,K);var H=W(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w,[{key:"template",value:function(M){var J=M.pfx,Oe=M.label;return(0,B.Z)(he||(he=(0,z.Z)([`
      <div class="`,`title">
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,`blocks-c"></div>
    `])),J,J,Oe,J)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=M;var J=M.pStylePrefix||"";this.em=M.em,this.pfx=J,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(J,"caret-icon"),this.activeClass="".concat(J,"open"),this.className="".concat(J,"block-category"),this.events={},this.events["click .".concat(J,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var M=this.model;M.set("open",!M.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(M){this.getBlocksEl().appendChild(M)}},{key:"render",value:function(){var M=this.em,J=this.el,Oe=this.$el,Re=this.model,Ye=this.pfx,Ve=M.t("blockManager.categories.".concat(Re.id))||Re.get("label");return J.innerHTML=this.template({pfx:Ye,label:Ve}),Oe.addClass(this.className),Oe.css({order:Re.get("order")}),this.updateVisibility(),this}}]),w}(b.View);function E(K,H){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(K);H&&(M=M.filter(function(J){return Object.getOwnPropertyDescriptor(K,J).enumerable})),w.push.apply(w,M)}return w}function O(K){for(var H=1;H<arguments.length;H++){var w=arguments[H]!=null?arguments[H]:{};H%2?E(Object(w),!0).forEach(function(M){(0,X.Z)(K,M,w[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):E(Object(w)).forEach(function(M){Object.defineProperty(K,M,Object.getOwnPropertyDescriptor(w,M))})}return K}function a(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var c=function(K){(0,de.Z)(w,K);var H=a(w);function w(){return(0,ve.Z)(this,w),H.apply(this,arguments)}return(0,_e.Z)(w,[{key:"initialize",value:function(M,J){(0,ee.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=J||{},this.categories=M.categories||"",this.renderedCategories=[];var Oe=this.config.pStylePrefix||"";this.ppfx=Oe,this.noCatClass="".concat(Oe,"blocks-no-cat"),this.blockContClass="".concat(Oe,"blocks-c"),this.catsClass="".concat(Oe,"block-categories");var Re=this.collection;this.listenTo(Re,"add",this.addTo),this.listenTo(Re,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))}},{key:"updateConfig",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=O(O({},this.config),M)}},{key:"getSorter",value:function(){if(this.em){if(!this.sorter){var M=this.em.get("Utils"),J=this.canvas;this.sorter=new M.Sorter({container:J.getBody(),placer:J.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:J.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}}},{key:"onDrag",value:function(M){this.em.stopDefault(),this.em.trigger("block:drag:start",M)}},{key:"onMove",value:function(M){this.em.trigger("block:drag:move",M)}},{key:"onDrop",value:function(M){var J=this.em;if(J.runDefault(),M&&M.get){var Oe="activeOnRender";M.get(Oe)&&(M.trigger("active"),M.unset(Oe)),J.trigger("block:drag:stop",M)}}},{key:"addTo",value:function(M){this.add(M)}},{key:"add",value:function(M,J){var Oe=this.config,Re=J||null,Ye=new A({model:M,attributes:M.get("attributes")},Oe).render().el,Ve=M.get("category");if(Ve&&this.categories&&!Oe.ignoreCategories){(0,ee.isString)(Ve)?Ve={id:Ve,label:Ve}:(0,ee.isObject)(Ve)&&!Ve.id&&(Ve.id=Ve.label);var Se=this.categories.add(Ve),je=Se.get("id"),x=this.renderedCategories[je],re=this.getCategoriesEl();return M.set("category",Se,{silent:!0}),!x&&re&&(x=new ie({model:Se},this.config).render(),this.renderedCategories[je]=x,re.appendChild(x.el)),void(x&&x.append(Ye))}Re?Re.appendChild(Ye):this.append(Ye)}},{key:"getCategoriesEl",value:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl}},{key:"append",value:function(M){var J=this.getBlocksEl();J&&J.appendChild(M)}},{key:"render",value:function(){var M=this,J=this.ppfx,Oe=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(Ye){return M.add(Ye,Oe)}),this.append(Oe);var Re="".concat(this.blockContClass,"s ").concat(J,"one-bg ").concat(J,"two-color");return this.$el.addClass(Re),this.rendered=!0,this}}]),w}(b.View);function g(K,H){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(K);H&&(M=M.filter(function(J){return Object.getOwnPropertyDescriptor(K,J).enumerable})),w.push.apply(w,M)}return w}function S(K){for(var H=1;H<arguments.length;H++){var w=arguments[H]!=null?arguments[H]:{};H%2?g(Object(w),!0).forEach(function(M){(0,X.Z)(K,M,w[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(w)):g(Object(w)).forEach(function(M){Object.defineProperty(K,M,Object.getOwnPropertyDescriptor(w,M))})}return K}function se(K){var H=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var w,M=(0,ne.Z)(K);if(H){var J=(0,ne.Z)(this).constructor;w=Reflect.construct(M,arguments,J)}else w=M.apply(this,arguments);return(0,ue.Z)(this,w)}}var le="block",D="".concat(le,":"),I="".concat(D,"add"),C="".concat(D,"update"),l="".concat(D,"remove"),f="".concat(l,":before"),h="".concat(D,"drag"),u="".concat(h,":start"),d="".concat(h,":stop"),P="".concat(D,"custom"),q=function(K){(0,de.Z)(w,K);var H=se(w);function w(){var M;(0,ve.Z)(this,w);for(var J=arguments.length,Oe=new Array(J),Re=0;Re<J;Re++)Oe[Re]=arguments[Re];return M=H.call.apply(H,[this].concat(Oe)),(0,X.Z)((0,fe.Z)(M),"name","BlockManager"),(0,X.Z)((0,fe.Z)(M),"Block",V),(0,X.Z)((0,fe.Z)(M),"Blocks",ae),(0,X.Z)((0,fe.Z)(M),"Category",R),(0,X.Z)((0,fe.Z)(M),"Categories",L),(0,X.Z)((0,fe.Z)(M),"events",{all:le,update:C,add:I,remove:l,removeBefore:f,drag:h,dragStart:u,dragEnd:d,custom:P}),M}return(0,_e.Z)(w,[{key:"init",value:function(){var M=this,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=S(S({},m),J);var Oe=this.c.em;return this.em=Oe,this.blocks=new ae(this.c.blocks),this.blocksVisible=new ae(this.blocks.models),this.categories=new L,this.all=this.blocks,this.__initListen(),this.blocks.on("add",function(Re){return M.blocksVisible.add(Re)}),this.blocks.on("remove",function(Re){return M.blocksVisible.remove(Re)}),this.blocks.on("reset",function(Re){return M.blocksVisible.reset(Re.models)}),this}},{key:"__trgCustom",value:function(){this.em.trigger(this.events.custom,this.__customData())}},{key:"__customData",value:function(){var M=this,J=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:J.container,dragStart:function(Oe,Re){return M.startDrag(Oe,Re)},drag:function(Oe){return M.__drag(Oe)},dragStop:function(Oe){return M.endDrag(Oe)}}}},{key:"__startDrag",value:function(M,J){var Oe=this.em,Re=this.events,Ye=this.blocks,Ve=M.getContent?M.getContent():M;this._dragBlock=M,Oe.set({dragResult:null,dragContent:Ve}),[Oe,Ye].map(function(Se){return Se.trigger(Re.dragStart,M,J)})}},{key:"__drag",value:function(M){var J=this.em,Oe=this.events,Re=this.blocks,Ye=this._dragBlock;[J,Re].map(function(Ve){return Ve.trigger(Oe.drag,Ye,M)})}},{key:"__endDrag",value:function(){var M=this.em,J=this.events,Oe=this.blocks,Re=this._dragBlock,Ye=M.get("dragResult");if(this._dragBlock=null,Ye){var Ve="activeOnRender",Se=Ye.get&&Ye.get(Ve),je=Re.get("activate")||Se,x=Re.get("select"),re=(0,ee.isArray)(Ye)?Ye[0]:Ye;(x||je&&x!==!1)&&M.setSelected(re),je&&(re.trigger("active"),Se&&re.unset(Ve)),Re.get("resetId")&&re.onAll(function(we){return we.resetId()})}M.set({dragResult:null,dragContent:null}),[M,Oe].map(function(we){return we.trigger(J.dragEnd,Ye,Re)})}},{key:"__getFrameViews",value:function(){return this.em.get("Canvas").getFrames().map(function(M){return M.view})}},{key:"__behaviour",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._bhv=S(S({},this._bhv||{}),M)}},{key:"__getBehaviour",value:function(){return this._bhv||{}}},{key:"startDrag",value:function(M,J){this.__startDrag(M,J),this.__getFrameViews().forEach(function(Oe){return Oe.droppable.startCustom()})}},{key:"endDrag",value:function(M){this.__getFrameViews().forEach(function(J){return J.droppable.endCustom(M)}),this.__endDrag()}},{key:"getConfig",value:function(){return this.c}},{key:"postRender",value:function(){var M=this.categories,J=this.blocksVisible;this.blocksView=new c({collection:J,categories:M},this.c);var Oe=this.getConfig().appendTo;if(Oe){var Re=(0,ee.isElement)(Oe)?Oe:document.querySelector(Oe);if(!Re)return this.__logWarn('"appendTo" element not found');Re.appendChild(this.render(this.blocksVisible.models))}this.__trgCustom()}},{key:"add",value:function(M,J){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Re=J||{};return Re.id=M,this.blocks.add(Re,Oe)}},{key:"get",value:function(M){return this.blocks.get(M)}},{key:"getAll",value:function(){return this.blocks}},{key:"getAllVisible",value:function(){return this.blocksVisible}},{key:"remove",value:function(M){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(M,J)}},{key:"getCategories",value:function(){return this.categories}},{key:"getContainer",value:function(){return this.blocksView.el}},{key:"render",value:function(M){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe=this.categories.categories,Re=M||this.getAll().models;if(J.external){var Ye=new ae(Re);return new c({collection:Ye,categories:Oe},S(S({},this.c),J)).render().el}return this.blocksView&&(this.blocksView.updateConfig(J),this.blocksView.collection.reset(Re),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=1)),this.getContainer()}},{key:"destroy",value:function(){var M,J=[this.blocks,this.blocksVisible,this.categories];J.map(function(Oe){return Oe.stopListening()}),J.map(function(Oe){return Oe.reset()}),(M=this.blocksView)===null||M===void 0||M.remove(),this.c={},this.blocks={},this.blocksVisible={},this.blocksView={},this.categories=[],this.all={}}}]),w}(j.Z)},7619:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>E});var ve=_(9050);const _e={stylePrefix:"cm-",inlineCss:!1};var fe=_(4925),de=_(5671),ue=_(3144),ne=_(9340),X=_(2963),ee=_(1120),j=_(2316),m=["em"];function b(O){var a=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,g=(0,ee.Z)(O);if(a){var S=(0,ee.Z)(this).constructor;c=Reflect.construct(g,arguments,S)}else c=g.apply(this,arguments);return(0,X.Z)(this,c)}}var T=function(O){(0,ne.Z)(c,O);var a=b(c);function c(){return(0,de.Z)(this,c),a.apply(this,arguments)}return(0,ue.Z)(c,[{key:"build",value:function(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=S.em,le=(0,fe.Z)(S,m),D=le;if(S.cleanId&&se){var I=se.get("CssComposer").getAll(),C=I.toJSON().map(function(l){var f=l.selectors,h=f&&f.length===1&&f.models[0];return h&&h.isId()&&h.get("name")}).filter(function(l){return l});D.attributes||(D.attributes=function(l,f){var h=f.id;return h&&h[0]==="i"&&!l.get("script")&&!l.get("attributes").id&&C.indexOf(h)<0&&delete f.id,f})}return g.toHTML(D)}}]),c}(j.Model),V=_(8795);function s(O){var a=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,g=(0,ee.Z)(O);if(a){var S=(0,ee.Z)(this).constructor;c=Reflect.construct(g,arguments,S)}else c=g.apply(this,arguments);return(0,X.Z)(this,c)}}var ae=function(O){(0,ne.Z)(c,O);var a=s(c);function c(){return(0,de.Z)(this,c),a.apply(this,arguments)}return(0,ue.Z)(c,[{key:"build",value:function(g){var S=g.toJSON();return this.beforeEach(S),(0,ve.each)(S,function(se,le){var D=S[le];if(D instanceof j.Model)S[le]=this.build(D);else if(D instanceof j.Collection){var I=D;S[le]=[],I.length&&I.each(function(C,l){S[le][l]=this.build(C)},this)}},this),S}},{key:"beforeEach",value:function(g){delete g.status}}]),c}(j.Model);function $(O){var a=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,g=(0,ee.Z)(O);if(a){var S=(0,ee.Z)(this).constructor;c=Reflect.construct(g,arguments,S)}else c=g.apply(this,arguments);return(0,X.Z)(this,c)}}var R,Z=function(O){(0,ne.Z)(c,O);var a=$(c);function c(){return(0,de.Z)(this,c),a.apply(this,arguments)}return(0,ue.Z)(c,[{key:"mapModel",value:function(g){var S="",se=g.get("script-export")||g.get("script"),le=g.get("type"),D=g.get("components"),I=g.getId();if(se){var C=g.get("attributes");C=(0,ve.extend)({},C,{id:I}),g.set("attributes",C,{silent:1});var l=g.getScriptString(se),f=g.get("script-props");if(g.get("scriptUpdated")&&!f)this.mapJs[le+"-"+I]={ids:[I],code:l};else{var h,u=this.mapJs[le];if(f&&(h=g.__getScriptProps()),u)u.ids.push(I),h&&(u.props[I]=h);else{var d={ids:[I],code:l};h&&(d.props={[I]:h}),this.mapJs[le]=d}}}return D.each(function(P){S+=this.mapModel(P)},this),S}},{key:"build",value:function(g){this.mapJs={},this.mapModel(g);var S="";for(var se in this.mapJs){var le=this.mapJs[se];if(le.code)if(le.props){if(le.code.toString().match(/\{([\s\S]*)\}/m)[1].replace(/^\s*\/\/.*$/gm,"").trim().length===0)continue;S+=`
          var props = `.concat(JSON.stringify(le.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(le.code,`.bind(el))(props[el.id]);
          }`)}else{var D="#"+le.ids.join(", #");S+=`
          var items = document.querySelectorAll('`.concat(D,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(le.code,`
}.bind(items[i]))();
          }`)}}return S}}]),c}(j.Model),L=_(4942);function te(O,a){var c=Object.keys(O);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(O);a&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(O,S).enumerable})),c.push.apply(c,g)}return c}function xe(O){var a=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,g=(0,ee.Z)(O);if(a){var S=(0,ee.Z)(this).constructor;c=Reflect.construct(g,arguments,S)}else c=g.apply(this,arguments);return(0,X.Z)(this,c)}}(0,_(1163).hasWin)()&&(R=_(4631),_(6531),_(6629),_(9210));var he=function(O){(0,ne.Z)(c,O);var a=xe(c);function c(){return(0,de.Z)(this,c),a.apply(this,arguments)}return(0,ue.Z)(c,[{key:"defaults",value:function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0}}},{key:"init",value:function(g){return(0,ve.bindAll)(this,"onChange"),this.editor=R.fromTextArea(g,function(S){for(var se=1;se<arguments.length;se++){var le=arguments[se]!=null?arguments[se]:{};se%2?te(Object(le),!0).forEach(function(D){(0,L.Z)(S,D,le[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(le)):te(Object(le)).forEach(function(D){Object.defineProperty(S,D,Object.getOwnPropertyDescriptor(le,D))})}return S}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=g,this.editor.on("change",this.onChange),this}},{key:"onChange",value:function(){this.trigger("update",this)}},{key:"getEditor",value:function(){return this.editor}},{key:"getElement",value:function(){return this.element}},{key:"setElement",value:function(g){return this.element=g,this}},{key:"refresh",value:function(){return this.getEditor().refresh(),this}},{key:"focus",value:function(){return this.getEditor().focus(),this}},{key:"getContent",value:function(){var g=this.getEditor();return g&&g.getValue()}},{key:"setContent",value:function(g){var S=this,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=this.editor;le&&(le.setValue(g),le.autoFormatRange&&(R.commands.selectAll(le),le.autoFormatRange(le.getCursor(!0),le.getCursor(!1)),R.commands.goDocStart(le)),!se.noRefresh&&setTimeout(function(){return S.refresh()}))}}]),c}(j.Model);he.prototype.CodeMirror=R;var A,z=_(168),B=_(7539);function W(O){var a=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var c,g=(0,ee.Z)(O);if(a){var S=(0,ee.Z)(this).constructor;c=Reflect.construct(g,arguments,S)}else c=g.apply(this,arguments);return(0,X.Z)(this,c)}}var ie=function(O){(0,ne.Z)(c,O);var a=W(c);function c(){return(0,de.Z)(this,c),a.apply(this,arguments)}return(0,ue.Z)(c,[{key:"template",value:function(g){var S=g.pfx,se=g.codeName,le=g.label;return(0,B.Z)(A||(A=(0,z.Z)([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),S,S,se,S,le,S)}},{key:"initialize",value:function(g){this.config=g.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var g=this.model,S=this.pfx,se=this.$el,le=g.toJSON();return le.pfx=S,se.html(this.template(le)),se.attr("class","".concat(S,"editor-c")),se.find("#".concat(S,"code")).append(g.get("input")),this}}]),c}(j.View);const E=function(){var O={},a={},c={},g={},S={},se="CodeMirror";return{getConfig:function(){return O},config:O,EditorView:ie,name:"CodeManager",init:function(le){for(var D in O=le||{},_e)D in O||(O[D]=_e[D]);var I=O.pStylePrefix;return I&&(O.stylePrefix=I+O.stylePrefix),c.html=new T,c.css=new V.Z,c.json=new ae,c.js=new Z,S.CodeMirror=new he,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(le,D){return a[le]=D,this},getGenerator:function(le){return a[le]||null},getGenerators:function(){return a},addViewer:function(le,D){return g[le]=D,this},getViewer:function(le){return g[le]||null},getViewers:function(){return g},createViewer:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=(0,ve.isUndefined)(le.type)?se:le.type,I=this.getViewer(D)&&this.getViewer(D).clone(),C=document.createElement("div"),l=document.createElement("textarea");return C.appendChild(l),I.set(le),I.init(l),I.setElement(C),I},updateViewer:function(le,D){le.setContent(D)},getCode:function(le,D){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I.em=O.em;var C=this.getGenerator(D);return C?C.build(le,I):""},loadDefaultGenerators:function(){for(var le in c)this.addGenerator(le,c[le]);return this},loadDefaultViewers:function(){for(var le in S)this.addViewer(le,S[le]);return this},destroy:function(){}}}},8795:(gt,Ze,_)=>{_.d(Ze,{U:()=>b,Z:()=>T});var ve=_(5671),_e=_(3144),fe=_(9340),de=_(2963),ue=_(1120),ne=_(9050),X=_(2316),ee=_(1163);function j(V){var s=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ae,$=(0,ue.Z)(V);if(s){var R=(0,ue.Z)(this).constructor;ae=Reflect.construct($,arguments,R)}else ae=$.apply(this,arguments);return(0,de.Z)(this,ae)}}var m=Number.MAX_VALUE,b=function(V){var s=/(-?\d*\.?\d+)\w{0,}/.exec(V);return s?s[0]:""},T=function(V){(0,fe.Z)(ae,V);var s=j(ae);function ae(){return(0,ve.Z)(this,ae),s.apply(this,arguments)}return(0,_e.Z)(ae,[{key:"initialize",value:function(){(0,ne.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]}},{key:"buildFromModel",value:function($){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L="",te=this.em,xe=te&&te.getConfig().avoidInlineStyle,he=$.styleToString(),A=$.get("classes");this.ids.push("#".concat($.getId())),A.each(function(B){return R.compCls.push(B.getFullName())}),!xe&&he&&(L="#".concat($.getId(),"{").concat(he,"}"));var z=$.components();return z.each(function(B){return L+=R.buildFromModel(B,Z)}),L}},{key:"build",value:function($){var R=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=Z.json,te=Z.em||"",xe=Z.cssc||te&&te.get("CssComposer");this.em=te,this.compCls=[],this.ids=[],this.model=$;var he=[],A=$?this.buildFromModel($,Z):"",z=(0,ne.isUndefined)(Z.clearStyles)&&te?te.getConfig().clearStyles:Z.clearStyles;if(xe){var B=Z.rules||xe.getAll(),W={},ie=[];Z.onlyMatched&&$&&(0,ee.hasWin)()&&(B=this.matchedRules($,B)),B.forEach(function(E){var O=E.getAtRule();if(O){var a=W[O];a?a.push(E):W[O]=[E]}else{var c=R.buildFromRule(E,ie,Z);L?he.push(c):A+=c}}),this.sortMediaObject(W).forEach(function(E){var O="",a=E.key;E.value.forEach(function(c){var g=R.buildFromRule(c,ie,Z);c.get("singleAtRule")?A+="".concat(a,"{").concat(g,"}"):O+=g,L&&he.push(g)}),O&&(A+="".concat(a,"{").concat(O,"}"))}),te&&z&&B.remove&&B.remove(ie)}return L?he.filter(function(E){return E}):A}},{key:"buildFromRule",value:function($,R){var Z,L=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe="",he=this.model,A=$.selectorsToString({skipAdd:1}),z=$.get("selectorsAdd"),B=$.get("singleAtRule");if($.get("selectors").each(function(ie){var E=ie.getFullName();(L.compCls.indexOf(E)>=0||L.ids.indexOf(E)>=0||te.keepUnusedStyles)&&(Z=1)}),A&&Z||z||B||!he){var W=$.getDeclaration({body:1});W&&(te.json?xe=$:xe+=W)}else R.push($);return xe}},{key:"matchedRules",value:function($,R){var Z=this,L=$.getEl(),te=[];return R.forEach(function(xe){try{xe.selectorsToString().split(",").some(function(he){return L.matches(Z.__cleanSelector(he))})&&te.push(xe)}catch{}}),$.components().forEach(function(xe){te=te.concat(Z.matchedRules(xe,R))}),te=te.filter(function(xe,he){return te.indexOf(xe)===he})}},{key:"getQueryLength",value:function($){var R=/(-?\d*\.?\d+)\w{0,}/.exec($);return R?parseFloat(R[1]):m}},{key:"sortMediaObject",value:function(){var $=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=[];return(0,ne.each)(R,function(L,te){return Z.push({key:te,value:L})}),Z.sort(function(L,te){var xe=[L.key,te.key].every(function(z){return z.indexOf("min-width")!==-1}),he=xe?L.key:te.key,A=xe?te.key:L.key;return $.getQueryLength(he)-$.getQueryLength(A)})}},{key:"sortRules",value:function($,R){var Z=function(he){return he.get("mediaText")},L=[Z($),Z(R)].every(function(he){return he.indexOf("min-width")!==-1}),te=Z(L?$:R),xe=Z(L?R:$);return this.getQueryLength(te)-this.getQueryLength(xe)}},{key:"__cleanSelector",value:function($){return $.split(" ").map(function(R){return R.split(":")[0]}).join(" ")}}]),ae}(X.Model)},289:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>m});var ve=_(2982),_e=_(4942),fe=_(9050),de=_(238);const ue={stylePrefix:"com-",defaults:[],strict:1};var ne=_(9138);function X(b,T){var V=Object.keys(b);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(b);T&&(s=s.filter(function(ae){return Object.getOwnPropertyDescriptor(b,ae).enumerable})),V.push.apply(V,s)}return V}function ee(b){for(var T=1;T<arguments.length;T++){var V=arguments[T]!=null?arguments[T]:{};T%2?X(Object(V),!0).forEach(function(s){(0,_e.Z)(b,s,V[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(V)):X(Object(V)).forEach(function(s){Object.defineProperty(b,s,Object.getOwnPropertyDescriptor(V,s))})}return b}var j=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];const m=function(){var b,T={},V={},s={},ae={};return{CommandAbstract:de.default,name:"Commands",init:function(){var $=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};T=ee(ee({},ue),R),b=T.em;var Z=T.pStylePrefix;return Z&&(T.stylePrefix=Z+T.stylePrefix),Object.keys(T.defaults).forEach(function(L){var te=T.defaults[L];te.id&&$.add(te.id,te)}),s["tlb-delete"]={run:function(L){return L.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(L){L.runCommand("core:copy"),L.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(L,te){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=L.getModel(),A=xe&&xe.event,z=xe.target,B=z||L.getSelected(),W=z?[z]:(0,ve.Z)(L.getSelectedAll()),ie=A&&A.type=="dragstart",E={preserveSelected:1},O=["absolute","translate"];if(!B||!B.get("draggable"))return he.logWarning("The element is not draggable");var a=B.get("dmode")||he.get("dmode"),c=function(){return he.stopDefault(E)},g=(0,fe.includes)(O,a);W.forEach(function(I){return I.trigger("disable")}),ie?setTimeout(c,0):c();var S=function(I){he.trigger("".concat(ne.OA,":start"),I)},se=function(I){he.trigger(ne.OA,I)},le=function(I,C,l){W.forEach(function(f){return f.set("status","selected")}),L.select(W),B.emitUpdate(),he.trigger("".concat(ne.OA,":end"),l),setTimeout(function(){return he.runDefault(E)}),(g||l.cancelled)&&he.set("_cmpDrag",1)};if(g)L.runCommand("core:component-drag",{guidesInfo:1,mode:a,target:B,onStart:S,onDrag:se,onEnd:le,event:A});else{ie&&A.dataTransfer.setDragImage(B.view.el,0,0);var D=L.Commands.get("move-comp");D.onStart=S,D.onDrag=se,D.onEndMoveFromModel=le,D.initSorterFromModels(W)}W.forEach(function(I){return I.set("status","freezed-selected")})}},s["core:undo"]=function(L){return L.UndoManager.undo()},s["core:redo"]=function(L){return L.UndoManager.redo()},j.forEach(function(L){var te=L[2],xe=_(2828)("./".concat(L[1])).default,he="core:".concat(L[0]);s[he]=xe,te&&(s[te]=xe,["run","stop"].forEach(function(A){b.on("".concat(A,":").concat(te),function(){for(var z,B=arguments.length,W=new Array(B),ie=0;ie<B;ie++)W[ie]=arguments[ie];return(z=b).trigger.apply(z,["".concat(A,":").concat(he)].concat(W))})}))}),T.em&&(T.model=T.em.get("Canvas")),this.loadDefaultCommands(),this},add:function($,R){return(0,fe.isFunction)(R)&&(R={run:R}),R.stop||(R.noStop=1),delete R.initialize,R.id=$,V[$]=de.default.extend(R),this},get:function($){var R=V[$];return(0,fe.isFunction)(R)?(R=new R(T),V[$]=R):R||b.logWarning("'".concat($,"' command not found")),R},extend:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=this.get($);if(Z){var L=ee(ee({},Z.constructor.prototype),R);this.add($,L);var te=j.filter(function(xe){return"core:".concat(xe[0])===$&&xe[2]})[0];te&&this.add(te[2],L)}return this},has:function($){return!!V[$]},getAll:function(){return V},run:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.runCommand(this.get($),R)},stop:function($){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.stopCommand(this.get($),R)},isActive:function($){return this.getActive().hasOwnProperty($)},getActive:function(){return ae},loadDefaultCommands:function(){for(var $ in s)this.add($,s[$]);return this},runCommand:function($){var R,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($&&$.run){var L=$.id,te=b.get("Editor");this.isActive(L)&&!Z.force&&T.strict||(R=te&&$.callRun(te,Z),L&&$.stop&&!$.noStop&&!Z.abort&&(ae[L]=R))}return R},stopCommand:function($){var R,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($&&$.run){var L=$.id,te=b.get("Editor");(this.isActive(L)||Z.force||!T.strict)&&(L&&delete ae[L],R=$.callStop(te,Z))}return R},create:function($){return $.stop||($.noStop=1),new(de.default.extend($))(T)},destroy:function(){}}}},7202:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ve});const ve={run:function(_e){_e.DomComponents.clear(),_e.CssComposer.clear()}}},327:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>de});var ve=_(9050),_e=_(1163),fe=_(5610);const de={run:function(ue){(0,ve.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=ue,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(ue){this.toggleMove(),this.disableDragger()},onKeyUp:function(ue){(0,_e.getKeyChar)(ue)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(ue){this.toggleDragger(1,ue)},disableDragger:function(ue){this.toggleDragger(0,ue)},toggleDragger:function(ue,ne){var X=this.canvasModel,ee=this.em,j=this.dragger,m=ue?"add":"remove";this.getCanvas().classList[m]("".concat(this.ppfx,"is__grabbing")),j||(j=new fe.Z({getPosition:function(){return{x:X.get("x"),y:X.get("y")}},setPosition:function(b){var T=b.x,V=b.y;X.set({x:T,y:V})},onStart:function(b,T){ee.trigger("canvas:move:start",T)},onDrag:function(b,T){ee.trigger("canvas:move",T)},onEnd:function(b,T){ee.trigger("canvas:move:end",T)}}),this.dragger=j),ue?j.start(ne):j.stop()},toggleMove:function(ue){var ne=this.ppfx,X=ue?"add":"remove",ee=ue?"on":"off",j={on:_e.on,off:_e.off},m=this.getCanvas(),b=["".concat(ne,"is__grab")];!ue&&b.push("".concat(ne,"is__grabbing")),b.forEach(function(T){return m.classList[X](T)}),j[ee](document,"keyup",this.onKeyUp),j[ee](m,"mousedown",this.enableDragger),j[ee](document,"mouseup",this.disableDragger)}}},238:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ee});var ve=_(5671),_e=_(3144),fe=_(9340),de=_(2963),ue=_(1120),ne=_(2316);function X(j){var m=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var b,T=(0,ue.Z)(j);if(m){var V=(0,ue.Z)(this).constructor;b=Reflect.construct(T,arguments,V)}else b=T.apply(this,arguments);return(0,de.Z)(this,b)}}var ee=function(j){(0,fe.Z)(b,j);var m=X(b);function b(){return(0,ve.Z)(this,b),m.apply(this,arguments)}return(0,_e.Z)(b,[{key:"initialize",value:function(T){this.config=T||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)}},{key:"onFrameScroll",value:function(T){}},{key:"getCanvas",value:function(){return this.canvas.getElement()}},{key:"getCanvasBody",value:function(){return this.canvas.getBody()}},{key:"getCanvasTools",value:function(){return this.canvas.getToolsEl()}},{key:"offset",value:function(T){var V=T.getBoundingClientRect();return{top:V.top+T.ownerDocument.body.scrollTop,left:V.left+T.ownerDocument.body.scrollLeft}}},{key:"init",value:function(T){}},{key:"callRun",value:function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.id;if(T.trigger("run:".concat(s,":before"),V),!V||!V.abort){var ae=V.sender||T,$=this.run(T,ae,V);return T.trigger("run:".concat(s),$,V),T.trigger("run",s,$,V),$}T.trigger("abort:".concat(s),V)}},{key:"callStop",value:function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.id,ae=V.sender||T;T.trigger("stop:".concat(s,":before"),V);var $=this.stop(T,ae,V);return T.trigger("stop:".concat(s),$,V),T.trigger("stop",s,$,V),$}},{key:"stopCommand",value:function(){this.em.get("Commands").stop(this.id)}},{key:"run",value:function(T,V){}},{key:"stop",value:function(T,V){}}]),b}(ne.Model)},5820:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(2982),_e=_(9050);const fe={run:function(de,ue){var ne=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=[],j=X.component||de.getSelectedAll();return(j=(0,_e.isArray)(j)?(0,ve.Z)(j):[j]).filter(Boolean).forEach(function(m){if(!m.get("removable"))return ee.push(m),ne.em.logWarning("The element is not removable",{component:m});m.remove()}),de.select(ee),j}}},6694:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>X});var ve=_(4942),_e=_(9050),fe=_(5610);function de(ee,j){var m=Object.keys(ee);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ee);j&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(ee,T).enumerable})),m.push.apply(m,b)}return m}function ue(ee){for(var j=1;j<arguments.length;j++){var m=arguments[j]!=null?arguments[j]:{};j%2?de(Object(m),!0).forEach(function(b){(0,ve.Z)(ee,b,m[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(m)):de(Object(m)).forEach(function(b){Object.defineProperty(ee,b,Object.getOwnPropertyDescriptor(m,b))})}return ee}var ne="dmode";const X={run:function(ee,j){var m=this,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(0,_e.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var T=b.target,V=b.event,s=b.mode,ae=b.dragger,$=ae===void 0?{}:ae,R=T.getEl(),Z=ue({doc:R.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return m.guidesStatic},guidesTarget:function(){return m.guidesTarget}},$);this.setupGuides(),this.opts=b,this.editor=ee,this.em=ee.getModel(),this.target=T,this.isTran=s=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var L=this.dragger;return L?L.setOptions(Z):(L=new fe.Z(Z),this.dragger=L),V&&L.start(V),this.toggleDrag(1),this.em.trigger("".concat(ne,":start"),this.getEventOpts()),L},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(ee){var j=ee.guide;j&&j.parentNode.removeChild(j)}),this.guides=[]},getGuidesContainer:function(){var ee=this,j=this.guidesEl;if(!j){var m=this.editor,b=this.em,T=this.opts,V=m.getConfig().stylePrefix,s=document.createElement("div"),ae=document.createElement("div"),$='<div class="'.concat(V,"guide-info__line ").concat(V,`danger-bg">
        <div class="`).concat(V,"guide-info__content ").concat(V,`danger-color"></div>
      </div>`);(j=document.createElement("div")).className="".concat(V,"guides"),s.className="".concat(V,"guide-info ").concat(V,"guide-info__x"),ae.className="".concat(V,"guide-info ").concat(V,"guide-info__y"),s.innerHTML=$,ae.innerHTML=$,j.appendChild(s),j.appendChild(ae),m.Canvas.getGlobalToolsEl().appendChild(j),this.guidesEl=j,this.elGuideInfoX=s,this.elGuideInfoY=ae,this.elGuideInfoContentX=s.querySelector(".".concat(V,"guide-info__content")),this.elGuideInfoContentY=ae.querySelector(".".concat(V,"guide-info__content")),b.on("canvas:update frame:scroll",(0,_e.debounce)(function(){ee.updateGuides(),T.debug&&ee.guides.forEach(function(R){return ee.renderGuide(R)})},200))}return j},getGuidesStatic:function(){var ee=this,j=[],m=this.target.getEl(),b=m.parentNode,T=b===void 0?{}:b;return(0,_e.each)(T.children,function(V){return j=j.concat(m!==V?ee.getElementGuides(V):[])}),j.concat(this.getElementGuides(T))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(ee){var j,m,b=this;(ee||this.guides).forEach(function(T){var V=T.origin,s=j===V?m:b.getElementPos(V);j=V,m=s,(0,_e.each)(b.getGuidePosUpdate(T,s),function(ae,$){return T[$]=ae}),T.originRect=s})},getGuidePosUpdate:function(ee,j){var m={},b=j.top,T=j.height,V=j.left,s=j.width;switch(ee.type){case"t":m.y=b;break;case"b":m.y=b+T;break;case"l":m.x=V;break;case"r":m.x=V+s;break;case"x":m.x=V+s/2;break;case"y":m.y=b+T/2}return m},renderGuide:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=ee.guide||document.createElement("div"),m="px",b=ee.active?2:1,T=j.children[0];return j.style="position: absolute; background-color: ".concat(ee.active?"green":"red",";"),j.children.length||((T=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",j.appendChild(T)),ee.y?(j.style.width="100%",j.style.height="".concat(b).concat(m),j.style.top="".concat(ee.y).concat(m),j.style.left=0):(j.style.width="".concat(b).concat(m),j.style.height="100%",j.style.left="".concat(ee.x).concat(m),j.style.top="0".concat(m)),!ee.guide&&this.guidesContainer.appendChild(j),j},getElementPos:function(ee){return this.editor.Canvas.getElementPos(ee,{noScroll:1})},getElementGuides:function(ee){var j=this,m=this.opts,b=this.getElementPos(ee),T=b.top,V=b.height,s=b.left,ae=b.width,$=[{type:"t",y:T},{type:"b",y:T+V},{type:"l",x:s},{type:"r",x:s+ae},{type:"x",x:s+ae/2},{type:"y",y:T+V/2}].map(function(R){return ue(ue({},R),{},{origin:ee,originRect:b,guide:m.debug&&j.renderGuide(R)})});return $.forEach(function(R){return j.guides.push(R)}),$},getTranslate:function(ee){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",m=0;return(ee||"").split(" ").forEach(function(b){var T=b.trim(),V="translate".concat(j.toUpperCase(),"(");T.indexOf(V)===0&&(m=parseFloat(T.replace(V,"")))}),m},setTranslate:function(ee,j,m){var b="translate".concat(j.toUpperCase(),"("),T="".concat(b).concat(m,")"),V=(ee||"").split(" ").map(function(s){return s.trim().indexOf(b)===0&&(s=T),s}).join(" ");return V.indexOf(b)<0&&(V+=" ".concat(T)),V},getPosition:function(){var ee=this.target,j=this.isTran,m=ee.getStyle(),b=m.left,T=m.top,V=m.transform,s=0,ae=0;return j?(s=this.getTranslate(V),ae=this.getTranslate(V,"y")):(s=parseFloat(b||0),ae=parseFloat(T||0)),{x:s,y:ae}},setPosition:function(ee){var j=ee.x,m=ee.y,b=ee.end,T=ee.position,V=ee.width,s=ee.height,ae=this.target,$=this.isTran,R=this.em,Z="px",L=b?"":1,te="".concat(j).concat(Z),xe="".concat(m).concat(Z),he={};if($){var A=ae.getStyle().transform||"";A=this.setTranslate(A,"x",te),he={transform:A=this.setTranslate(A,"y",xe),en:L},ae.addStyle(he,{avoidStore:!b})}else{var z={position:T,width:V,height:s},B={left:te,top:xe,en:L};(0,_e.keys)(z).forEach(function(W){var ie=z[W];ie&&(B[W]=ie)}),he=B,ae.addStyle(he,{avoidStore:!b})}R.getSelected()&&(0,_e.keys)(he).forEach(function(W){return R.trigger("update:component:style:".concat(W))})},_getDragData:function(){var ee=this.target;return{target:ee,parent:ee.parent(),index:ee.index()}},onStart:function(ee){var j=this.target,m=this.editor,b=this.isTran,T=this.opts,V=T.center,s=T.onStart,ae=m.Canvas,$=j.getStyle(),R="absolute",Z=[R,"relative"];if(s&&s(this._getDragData()),!b&&$.position!==R){var L,te=ae.offset(j.getEl()),xe=te.left,he=te.top,A=te.width,z=te.height,B=j.parent();do{var W=B.getStyle();L=Z.indexOf(W.position)>=0?B:null,B=B.parent()}while(B&&!L);if(V){var ie=ae.getMouseRelativeCanvas(ee);xe=ie.x,he=ie.y}else if(L){var E=ae.offset(L.getEl());xe-=E.left,he-=E.top}this.setPosition({x:xe,y:he,width:"".concat(A,"px"),height:"".concat(z,"px"),position:R})}},onDrag:function(){var ee=this,j=this.guidesTarget,m=this.opts,b=m.onDrag;this.updateGuides(j),m.debug&&j.forEach(function(T){return ee.renderGuide(T)}),m.guidesInfo&&this.renderGuideInfo(j.filter(function(T){return T.active})),b&&b(this._getDragData())},onEnd:function(ee,j){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=this.editor,T=this.opts,V=this.id,s=T.onEnd;s&&s(ee,m,ue(ue({event:ee},m),this._getDragData())),b.stopCommand(V),this.hideGuidesInfo(),this.em.trigger("".concat(ne,":end"),this.getEventOpts())},hideGuidesInfo:function(){var ee=this;["X","Y"].forEach(function(j){var m=ee["elGuideInfo".concat(j)];m&&(m.style.display="none")})},renderGuideInfo:function(){var ee=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=this.guidesStatic;this.hideGuidesInfo(),j.forEach(function(b){var T=b.origin,V=b.x,s=ee.getElementPos(T),ae=(0,_e.isUndefined)(V)?"y":"x",$=ae==="y",R=s[$?"left":"top"],Z=s.rect[$?"left":"top"],L=$?R+s.width:R+s.height,te=$?Z+s.rect.width:Z+s.rect.height,xe=ee["elGuideInfo".concat(ae.toUpperCase())],he=ee["elGuideInfoContent".concat(ae.toUpperCase())],A=xe.style,z=m.filter(function(h){return h.type===b.type}).map(function(h){var u=h.originRect,d=u.left,P=u.width,q=u.top,K=u.height,H=$?d+P:q+K;return{gap:H<R?R-H:($?d:q)-L,guide:h}}).filter(function(h){return h.gap>0}).sort(function(h,u){return h.gap-u.gap}).map(function(h){return h.guide})[0];if(z){var B=z.originRect,W=B.left,ie=B.width,E=B.top,O=B.height,a=B.rect,c=$?W<s.left:E<s.top,g=$?W:E,S=$?a.left:a.top,se=$?W+ie:E+O,le=$?a.left+a.width:a.top+a.height,D=$?b.y:b.x,I=c?se:L,C="".concat(D,"px"),l=c?R-se:g-L,f=c?Z-le:S-te;A.display="",A[$?"top":"left"]=C,A[$?"left":"top"]="".concat(I,"px"),A[$?"width":"height"]="".concat(l,"px"),he.innerHTML="".concat(Math.round(f),"px"),ee.em.trigger("".concat(ne,":active"),ue(ue({},ee.getEventOpts()),{},{guide:b,guidesStatic:m,matched:z,posFirst:D,posSecond:I,size:l,sizeRaw:f,elGuideInfo:xe,elGuideInfoCnt:he}))}})},toggleDrag:function(ee){var j=this.ppfx,m=this.editor,b=ee?"add":"remove",T=["".concat(j,"is__grabbing")],V=m.Canvas,s=V.getBody();T.forEach(function(ae){return s.classList[b](ae)}),V[ee?"startAutoscroll":"stopAutoscroll"]()}}},1947:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ve});const ve={run:function(_e){if(_e.Canvas.hasFocus()){var fe=[];_e.getSelectedAll().forEach(function(de){var ue=de.components(),ne=ue&&ue.filter(function(X){return X.get("selectable")})[0];ne&&fe.push(ne)}),fe.length&&_e.select(fe)}}}},3888:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ve});const ve={run:function(_e,fe){var de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(_e.Canvas.hasFocus()||de.force){var ue=[];_e.getSelectedAll().forEach(function(ne){for(var X=ne.parent();X&&!X.get("selectable");)X=X.parent();X&&ue.push(X)}),ue.length&&_e.select(ue)}}}},5883:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ve});const ve={run:function(_e){if(_e.Canvas.hasFocus()){var fe=[];_e.getSelectedAll().forEach(function(de){var ue=de.parent();if(ue){var ne,X=ue.components().length,ee=0,j=0;do ee++,ne=(j=de.index()+ee)<=X?ue.getChildAt(j):null;while(ne&&!ne.get("selectable"));fe.push(ne||de)}}),fe.length&&_e.select(fe)}}}},7508:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ve});const ve={run:function(_e){if(_e.Canvas.hasFocus()){var fe=[];_e.getSelectedAll().forEach(function(de){var ue=de.parent();if(ue){var ne,X=0,ee=0;do X++,ne=(ee=de.index()-X)>=0?ue.getChildAt(ee):null;while(ne&&!ne.get("selectable"));fe.push(ne||de)}}),fe.length&&_e.select(fe)}}}},8769:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>_e});var ve=_(9050);const _e={run:function(fe,de){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=ue.target,X=[];if(!ne.get("styles"))return X;var ee=ne.get("type"),j=fe.Pages.getAllWrappers(),m=(0,ve.flatten)(j.map(function(T){return T.findType(ee)})).length;if(!m){var b=fe.CssComposer.getAll();X=b.filter(function(T){return T.get("group")==="cmp:".concat(ee)}),b.remove(X)}return X}}},2213:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>_e});var ve=_(2982);const _e={run:function(fe){var de=fe.getModel(),ue=(0,ve.Z)(fe.getSelectedAll());ue.length&&de.set("clipboard",ue)}}},5049:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ne});var ve=_(9050),_e=_(2316),fe=_.n(_e),de=_(2620),ue=fe().$;const ne=(0,ve.extend)({},de.default,{init:function(X){(0,ve.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(X){X.stopPropagation();var ee=ue(X.target);ee.data("model").get("removable")&&(ee.addClass(this.hoverClass),this.attachBadge(ee.get(0)))},stopDelete:function(X){X.stopPropagation(),ue(X.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(X){X.stopPropagation();var ee=ue(X.target);ee.data("model").get("removable")&&(ee.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(X){this.badge.html("Remove "+X.getName())}})},3775:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(2316),_e=_.n(ve)().$;const fe={run:function(de,ue){var ne=this;ue&&ue.set&&ue.set("active",0);var X=de.getConfig(),ee=de.Modal,j=X.stylePrefix;if(this.cm=de.CodeManager||null,!this.$editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),b=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.el,this.cssEditor=b.el;var T=_e('<div class="'.concat(j,'export-dl"></div>'));T.append(m.$el).append(b.$el),this.$editors=T}ee.open({title:X.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return de.stopCommand(ne.id)}),this.htmlEditor.setContent(de.getHtml()),this.cssEditor.setContent(de.getCss())},stop:function(de){var ue=de.Modal;ue&&ue.close()},buildEditor:function(de,ue,ne){var X=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var ee=this.codeMirror.clone().set({label:ne,codeName:de,theme:ue,input:X}),j=new this.cm.EditorView({model:ee,config:this.cm.getConfig()}).render().$el;return ee.init(X),{el:ee,$el:j}}}},58:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>_e});var ve=_(9050);const _e={isEnabled:function(){var fe=document;return fe.fullscreenElement||fe.webkitFullscreenElement||fe.mozFullScreenElement?1:0},enable:function(fe){var de="";return fe.requestFullscreen?fe.requestFullscreen():fe.webkitRequestFullscreen?(de="webkit",fe.webkitRequestFullscreen()):fe.mozRequestFullScreen?(de="moz",fe.mozRequestFullScreen()):fe.msRequestFullscreen?fe.msRequestFullscreen():console.warn("Fullscreen not supported"),de},disable:function(){var fe=document;this.isEnabled()&&(fe.exitFullscreen?fe.exitFullscreen():fe.webkitExitFullscreen?fe.webkitExitFullscreen():fe.mozCancelFullScreen?fe.mozCancelFullScreen():fe.msExitFullscreen&&fe.msExitFullscreen())},fsChanged:function(fe,de){var ue=(fe||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(ue,this.fsChanged))},run:function(fe,de){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.sender=de;var ne=ue.target,X=(0,ve.isElement)(ne)?ne:document.querySelector(ne),ee=this.enable(X||fe.getContainer());this.fsChanged=this.fsChanged.bind(this,ee),document.addEventListener(ee+"fullscreenchange",this.fsChanged),fe.trigger("change:canvasOffset")},stop:function(fe,de){de&&de.set&&de.set("active",!1),this.disable(),fe&&fe.trigger("change:canvasOffset")}}},8658:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ee});var ve=_(9050),_e=_(2316),fe=_.n(_e),de=_(1163),ue=_(2620),ne=_(8463),X=fe().$;const ee=(0,ve.extend)({},ne.default,ue.default,{init:function(j){ue.default.init.apply(this,arguments),(0,ve.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=j,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var j=arguments.length,m=new Array(j),b=0;b<j;b++)m[b]=arguments[b];ue.default.enable.apply(this,m),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var T=this.$wrapper;T.css("cursor","move"),T.on("mousedown",this.initSorter),T.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(j){var m=X(j.target).data("model").get("draggable");m&&(this.cacheEl=null,this.startSelectPosition(j.target,this.frameEl.contentDocument),this.sorter.draggable=m,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,de.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(j){var m=j.get("draggable");if(m){this.cacheEl=null;var b=j.view.el;this.startSelectPosition(b,this.frameEl.contentDocument),this.sorter.draggable=m,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,de.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(j){this.cacheEl=null;var m=j[j.length-1],b=(this.em.get("currentFrame")||{}).model,T=m.getEl(b),V=T.ownerDocument;this.startSelectPosition(T,V,{onStart:this.onStart}),this.sorter.draggable=m.get("draggable"),this.sorter.toMove=j,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,de.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,de.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,de.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(j,m){},rollback:function(j,m){((j.which||j.keyCode)==27||m)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=X(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=X(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var j=arguments.length,m=new Array(j),b=0;b<j;b++)m[b]=arguments[b];ue.default.stop.apply(this,m),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var T=this.$wrapper;T.css("cursor","").unbind().removeClass(this.noSelClass)}})},9617:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(9050),_e=_(9283);const fe={open:function(de){var ue=this,ne=this.editor,X=this.title,ee=this.config,j=this.am,m=ee.custom;if((0,ve.isFunction)(m.open))return m.open(j.__customData());ne.Modal.open({title:X,content:de}).onceClose(function(){return ne.stopCommand(ue.id)})},close:function(){var de=this.config.custom;if((0,ve.isFunction)(de.close))return de.close(this.am.__customData());var ue=this.editor.Modal;ue&&ue.close()},run:function(de,ue){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=de.AssetManager,ee=X.getConfig(),j=ne.types,m=j===void 0?[]:j,b=ne.accept,T=ne.select;if(this.title=ne.modalTitle||de.t("assetManager.modalTitle")||"",this.editor=de,this.config=ee,this.am=X,X.setTarget(ne.target),X.onClick(ne.onClick),X.onDblClick(ne.onDblClick),X.onSelect(ne.onSelect),X.__behaviour({select:T,types:m,options:ne}),ee.custom)this.rendered=this.rendered||(0,_e.ut)("div"),this.rendered.className="".concat(ee.stylePrefix,"custom-wrp"),X.__behaviour({container:this.rendered}),X.__trgCustom();else{if(!this.rendered||m){var V=X.getAll().filter(function(ae){return ae});m&&m.length&&(V=V.filter(function(ae){return m.indexOf(ae.get("type"))!==-1})),X.render(V),this.rendered=X.getContainer()}if(b){var s=this.rendered.querySelector("input#".concat(ee.stylePrefix,"uploadFile"));s&&s.setAttribute("accept",b)}}return this.open(this.rendered),this},stop:function(de){this.editor=de,this.close(this.rendered)}}},5821:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(9050),_e=_(9283);const fe={open:function(){var de=this.container,ue=this.editor,ne=this.bm,X=this.config,ee=X.custom,j=X.appendTo;if((0,ve.isFunction)(ee.open))return ee.open(ne.__customData());if(this.firstRender&&!j){var m="views-container",b=ue.Panels;(b.getPanel(m)||b.addPanel({id:m})).set("appendContent",de).trigger("change:appendContent"),ee||de.appendChild(ne.render())}de&&(de.style.display="block")},close:function(){var de=this.container,ue=this.config.custom;if((0,ve.isFunction)(ue.close))return ue.close(this.bm.__customData());de&&(de.style.display="none")},run:function(de){var ue=de.Blocks;this.config=ue.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,_e.ut)("div"),this.editor=de,this.bm=ue;var ne=this.container;ue.__behaviour({container:ne}),this.config.custom&&ue.__trgCustom(),this.open()},stop:function(){this.close()}}},3452:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ve});const ve={run:function(_e){var fe=_e.LayerManager,de=_e.Panels,ue=fe.getConfig();if(!ue.appendTo){if(!this.layers){var ne="views-container",X=document.createElement("div"),ee=de.getPanel(ne)||de.addPanel({id:ne});ue.custom?fe.__trgCustom({container:X}):X.appendChild(fe.render()),ee.set("appendContent",X).trigger("change:appendContent"),this.layers=X}this.layers.style.display="block"}},stop:function(){var _e=this.layers;_e&&(_e.style.display="none")}}},2840:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(2316),_e=_.n(ve)().$;const fe={run:function(de,ue){if(this.sender=ue,!this.$cn){var ne=de.getConfig(),X=de.Panels,ee="change:appendContent";this.$cn=_e("<div></div>"),this.$cn2=_e("<div></div>"),this.$cn.append(this.$cn2);var j=de.DeviceManager;if(j&&ne.showDevices){var m=X.addPanel({id:"devices-c"}),b=j.render();m.set("appendContent",b).trigger(ee)}var T=de.SelectorManager;this.slm=T;var V=T.getConfig();V.custom?T.__trgCustom({container:this.$cn2.get(0)}):V.appendTo||this.$cn2.append(T.render([]));var s=de.StyleManager;this.sm=s;var ae=s.getConfig(),$=ae.stylePrefix;this.$header=_e('<div class="'.concat($,'header">').concat(de.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header),ae.custom?s.__trgCustom({container:this.$cn2.get(0)}):ae.appendTo||this.$cn2.append(s.render());var R="views-container";this.panel=X.getPanel(R),this.panel||(this.panel=X.addPanel({id:R})),this.panel.set("appendContent",this.$cn).trigger(ee),this.em=de.getModel(),this.listenTo(this.em,s.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var de,ue,ne,X,ee=this.sender,j=this.sm;ee&&ee.get&&!ee.get("active")||!j||(j.getSelected()?((de=this.$cn2)===null||de===void 0||de.show(),(ue=this.$header)===null||ue===void 0||ue.hide()):((ne=this.$cn2)===null||ne===void 0||ne.hide(),(X=this.$header)===null||X===void 0||X.show()))},stop:function(){var de,ue;(de=this.$cn2)===null||de===void 0||de.hide(),(ue=this.$header)===null||ue===void 0||ue.hide()}}},8644:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(2316),_e=_.n(ve)().$;const fe={run:function(de,ue){this.sender=ue;var ne=de.getModel(),X=de.Config.stylePrefix,ee=de.TraitManager,j=ee.getConfig();if(!j.appendTo){if(!this.$cn){this.$cn=_e("<div></div>"),this.$cn2=_e("<div></div>"),this.$cn.append(this.$cn2),this.$header=_e("<div>").append('<div class="'.concat(j.stylePrefix,'header">').concat(ne.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(X,'traits-label">').concat(ne.t("traitManager.label"),"</div>")),this.$cn2.append(ee.render());var m=de.Panels;(m.getPanel("views-container")?m.getPanel("views-container"):m.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=de.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var de=this.sender;de&&de.get&&!de.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},560:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>_e});var ve=_(9050);const _e={run:function(fe,de){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=fe.getModel(),X=ne.get("clipboard"),ee=fe.getSelected();X&&ee&&(fe.getSelectedAll().forEach(function(j){var m=j.collection;if(m){var b,T={at:j.index()+1,action:ue.action||"paste-component"};if((0,ve.contains)(X,j)&&j.get("copyable"))b=m.add(j.clone(),T);else{var V=X.filter(function(s){return s.get("copyable")}).filter(function(s){return fe.Components.canMove(j.parent(),s).result});b=m.add(V.map(function(s){return s.clone()}),T)}(b=(0,ve.isArray)(b)?b:[b]).forEach(function(s){return fe.trigger("component:paste",s)})}}),ee.emitUpdate())}}},4944:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>de});var ve=_(2982),_e=_(9050),fe="sw-visibility";const de={getPanels:function(ue){return this.panels||(this.panels=ue.Panels.getPanels()),this.panels},preventDrag:function(ue){ue.abort=1},tglEffects:function(ue){var ne=this.em,X=ue?"on":"off";if(ne){var ee=ne.get("Canvas"),j=ee.getBody(),m=ee.getToolbarEl();m&&(m.style.display=ue?"none":"");var b=j.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,_e.each)(b,function(T){return T.style.pointerEvents=ue?"all":""}),ne[X]("run:tlb-move:before",this.preventDrag)}},run:function(ue,ne){var X=this;this.sender=ne,this.selected=(0,ve.Z)(ue.getSelectedAll()),ue.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=ue.Commands.isActive(fe)),this.shouldRunSwVisibility&&ue.stopCommand(fe),ue.getModel().stopDefault();var ee=this.getPanels(ue),j=ue.Canvas.getElement(),m=ue.getEl(),b=ue.Config.stylePrefix;if(!this.helper){var T=document.createElement("span");T.className="".concat(b,"off-prv fa fa-eye-slash"),m.appendChild(T),T.onclick=function(){return X.stopCommand()},this.helper=T}this.helper.style.display="inline-block",ee.forEach(function(s){return s.set("visible",!1)});var V=j.style;V.width="100%",V.height="100%",V.top="0",V.left="0",V.padding="0",V.margin="0",ue.refresh(),this.tglEffects(1)},stop:function(ue){var ne=this.sender,X=ne===void 0?{}:ne,ee=this.selected;X.set&&X.set("active",0);var j=this.getPanels(ue);this.shouldRunSwVisibility&&(ue.runCommand(fe),this.shouldRunSwVisibility=!1),ue.getModel().runDefault(),j.forEach(function(m){return m.set("visible",!0)}),ue.Canvas.getElement().setAttribute("style",""),ee&&ue.select(ee),delete this.selected,this.helper&&(this.helper.style.display="none"),ue.refresh(),this.tglEffects()}}},7538:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(4942);function _e(de,ue){var ne=Object.keys(de);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(de);ue&&(X=X.filter(function(ee){return Object.getOwnPropertyDescriptor(de,ee).enumerable})),ne.push.apply(ne,X)}return ne}const fe={run:function(de,ue,ne){var X=ne||{},ee=de.Canvas,j=ee.getCanvasView(),m=function(T){for(var V=1;V<arguments.length;V++){var s=arguments[V]!=null?arguments[V]:{};V%2?_e(Object(s),!0).forEach(function(ae){(0,ve.Z)(T,ae,s[ae])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(s)):_e(Object(s)).forEach(function(ae){Object.defineProperty(T,ae,Object.getOwnPropertyDescriptor(s,ae))})}return T}({appendTo:ee.getResizerEl(),prefix:de.getConfig().stylePrefix,posFetcher:j.getElementPos.bind(j),mousePosFetcher:ee.getMouseRelativePos},X.options||{}),b=this.canvasResizer;return b&&!X.forceNew||(this.canvasResizer=de.Utils.Resizer.init(m),b=this.canvasResizer),b.setOptions(m),b.blur(),b.focus(X.el),b},stop:function(){var de;(de=this.canvasResizer)===null||de===void 0||de.blur()}}},2620:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ie});var ve=_(1002),_e=_(4942),fe=_(2316),de=_.n(fe),ue=_(9050),ne=_(1163),X=_(9283),ee=_(3144),j=_(5671),m=_(9340),b=_(2963),T=_(1120),V=_(6602);function s(E,O){var a=Object.keys(E);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(E);O&&(c=c.filter(function(g){return Object.getOwnPropertyDescriptor(E,g).enumerable})),a.push.apply(a,c)}return a}function ae(E){for(var O=1;O<arguments.length;O++){var a=arguments[O]!=null?arguments[O]:{};O%2?s(Object(a),!0).forEach(function(c){(0,_e.Z)(E,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(c){Object.defineProperty(E,c,Object.getOwnPropertyDescriptor(a,c))})}return E}function $(E){var O=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,c=(0,T.Z)(E);if(O){var g=(0,T.Z)(this).constructor;a=Reflect.construct(c,arguments,g)}else a=c.apply(this,arguments);return(0,b.Z)(this,a)}}var R=function(E){(0,m.Z)(a,E);var O=$(a);function a(){return(0,j.Z)(this,a),O.apply(this,arguments)}return(0,ee.Z)(a,[{key:"events",value:function(){return this.model.get("events")||{mousedown:"handleClick"}}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=c.config,S=g===void 0?{}:g;this.em=S.em,this.editor=S.editor}},{key:"handleClick",value:function(c){c.preventDefault(),c.stopPropagation();var g=this.editor,S=this.em,se=g.Canvas.getFrameEl().getBoundingClientRect(),le=se.left,D=se.top,I=ae(ae({},c),{},{clientX:c.clientX-le,clientY:c.clientY-D});S.trigger("toolbar:run:before"),this.execCommand(I)}},{key:"execCommand",value:function(c){var g={event:c},S=this.model.get("command"),se=this.editor;typeof S=="function"&&S(se,null,g),typeof S=="string"&&se.runCommand(S,g)}},{key:"render",value:function(){var c=this.editor,g=this.$el,S=this.model,se=S.get("id"),le=S.get("label"),D=c.getConfig().stylePrefix;return g.addClass("".concat(D,"toolbar-item")),se&&g.addClass("".concat(D,"toolbar-item__").concat(se)),le&&g.append(le),this}}]),a}(de().View);function Z(E){var O=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,c=(0,T.Z)(E);if(O){var g=(0,T.Z)(this).constructor;a=Reflect.construct(c,arguments,g)}else a=c.apply(this,arguments);return(0,b.Z)(this,a)}}var L=function(E){(0,m.Z)(a,E);var O=Z(a);function a(){var c,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1?arguments[1]:void 0;return(0,j.Z)(this,a),(c=O.call(this,g,S)).config={editor:g.editor||"",em:g.em},c.listenTo(c.collection,"reset",c.render),c}return(0,ee.Z)(a)}(V.Z);function te(E){var O=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var a,c=(0,T.Z)(E);if(O){var g=(0,T.Z)(this).constructor;a=Reflect.construct(c,arguments,g)}else a=c.apply(this,arguments);return(0,b.Z)(this,a)}}L.prototype.itemView=R;var xe=function(E){(0,m.Z)(a,E);var O=te(a);function a(){return(0,j.Z)(this,a),O.apply(this,arguments)}return(0,ee.Z)(a,[{key:"defaults",value:function(){return{command:"",attributes:{}}}}]),a}(de().Model);const he=de().Collection.extend({model:xe});function A(E,O){var a=Object.keys(E);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(E);O&&(c=c.filter(function(g){return Object.getOwnPropertyDescriptor(E,g).enumerable})),a.push.apply(a,c)}return a}function z(E){for(var O=1;O<arguments.length;O++){var a=arguments[O]!=null?arguments[O]:{};O%2?A(Object(a),!0).forEach(function(c){(0,_e.Z)(E,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(c){Object.defineProperty(E,c,Object.getOwnPropertyDescriptor(a,c))})}return E}var B,W=de().$;const ie={init:function(E){(0,ue.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),B=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(E){var O=this,a=this.em,c=a.getConfig().listenToEl,g=a.getContainer().parentNode,S=E?"on":"off",se={on:ne.on,off:ne.off};!c.length&&g&&c.push(g),se[S](window,"resize",this.onFrameUpdated),se[S](c,"scroll",this.onContainerChange),a[S]("component:toggled component:update undo redo",this.onSelect,this),a[S]("change:componentHovered",this.onHovered,this),a[S]("component:resize styleable:change component:input",this.updateGlobalPos,this),a[S]("component:update:toolbar",this._upToolbar,this),a[S]("change:canvasOffset",this.updateAttached,this),a[S]("frame:updated",this.onFrameUpdated,this),a[S]("canvas:updateTools",this.onFrameUpdated,this),a.get("Canvas").getFrames().forEach(function(le){var D=le.view,I=D==null?void 0:D.getWindow();I&&function(C,l){se[S](l,"mouseover",O.onHover),se[S](l,"mouseleave",O.onOut),se[S](l,"click touchend",O.onClick),se[S](C,"scroll",O.onFrameScroll,!0)}(I,D.getBody())})},onHover:function(E){E.stopPropagation();var O=this.em,a=E.target,c=(0,ne.getViewEl)(a),g=c&&c._getFrame(),S=W(a),se=S.data("model");if(!se)for(var le=S.parent();!se&&le.length&&!(0,X.Mx)(le[0]);)se=le.data("model"),le=le.parent();this.currentDoc=a.ownerDocument,O.setHovered(se,{useValid:!0}),g&&O.set("currentFrame",g)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(E,O){var a=this,c={};O?O.views.forEach(function(g){var S=g.el,se=a.getElementPos(S);c={el:S,pos:se,component:O,view:(0,ne.getViewEl)(S)},a.updateToolsLocal(c),S.ownerDocument===a.currentDoc&&(a.elHovered=c)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(g){var S=g.view,se=S&&S.getToolsEl();se&&a.toggleToolsEl(0,0,{el:se})}))},onSelect:(0,ue.debounce)(function(){var E=this.em,O=E.getSelected(),a=E.get("currentFrame")||{},c=O&&O.getView(a.model),g=c&&c.el,S={};g&&(0,X.pn)(g)&&(S={el:g,pos:this.getElementPos(g),component:O,view:(0,ne.getViewEl)(g)}),this.elSelected=S,this.updateToolsGlobal(),this.updateLocalPos(S),this.initResize(O)}),updateGlobalPos:function(){var E=this.getElSelected();E.el&&(E.pos=this.getElementPos(E.el),this.updateToolsGlobal())},updateLocalPos:function(E){var O=this.getElHovered();O.el&&(O.pos=this.getElementPos(O.el),this.updateToolsLocal(E))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(E,O){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=a.el||this.canvas.getToolsEl(O);return c&&(c.style.display=E?"":"none"),c||{}},showElementOffset:function(E,O){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};B&&this.editor.runCommand("show-offset",{el:E,elPos:O,view:a.view,force:1,top:0,left:0})},hideElementOffset:function(E){this.editor.stopCommand("show-offset",{view:E})},showFixedElementOffset:function(E,O){this.editor.runCommand("show-offset",{el:E,elPos:O,state:"Fixed"})},hideFixedElementOffset:function(E,O){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(E){this.canvas.getHighlighter(E).style.opacity=0},onClick:function(E){E.stopPropagation(),E.preventDefault();var O=this.em;if(O.get("_cmpDrag"))return O.set("_cmpDrag");var a=W(E.target),c=a.data("model");if(!c)for(var g=a.parent();!c&&g.length&&!(0,X.Mx)(g[0]);)c=g.data("model"),g=g.parent();if(c){if(O.isEditing()&&!c.get("textable")&&c.isChildOf("text"))return;this.select(c,E)}},select:function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E&&(this.editor.select(E,{event:O,useValid:!0}),this.initResize(E))},updateBadge:function(E,O){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=this.canvas,g=W(E).data("model");if(g&&g.get("badgable")){var S=this.getBadge(a);if(!a.posOnly){var se=this.canvas.getConfig(),le=g.getIcon(),D=se.pStylePrefix||"",I="".concat(D,"badge"),C=se.customBadgeLabel,l="".concat(le?'<div class="'.concat(I,'__icon">').concat(le,"</div>"):"",`
        <div class="`).concat(I,'__name">').concat(g.getName(),"</div>");S.innerHTML=C?C(g):l}var f="px",h=S.style;h.display="block";var u=c.getTargetToElementFixed(E,S,{pos:O}),d=u.top,P=a.leftOff<0?-a.leftOff:0;h.top=d+f,h.left=P+f}},showHighlighter:function(E){this.canvas.getHighlighter(E).style.opacity=""},initResize:function(E){var O,a=this.em,c=this.canvas,g=a?a.get("Editor"):"",S=(a?a.get("Config"):"").stylePrefix||"",se="".concat(S,"resizing"),le=!(0,ue.isElement)(E)&&(0,ne.isTaggableNode)(E)?E:a.getSelected(),D=le&&le.get("resizable"),I={},C=function(f,h,u){var d=u.docs;d&&d.forEach(function(P){var q=P.body,K=q.className||"";q.className=(f=="add"?"".concat(K," ").concat(se):K.replace(se,"")).trim()})};if(g&&D){var l=(0,ue.isElement)(E)?E:le.getEl();I={onStart:function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=h.el,d=h.config,P=h.resizer,q=d.keyHeight,K=d.keyWidth,H=d.currentUnit,w=d.keepAutoHeight,M=d.keepAutoWidth;C("add",0,h),O=a.get("StyleManager").getModelToStyle(le),c.toggleFramesEvents();var J=getComputedStyle(u),Oe=O.getStyle(),Re=Oe[K];d.autoWidth=M&&Re==="auto",isNaN(parseFloat(Re))&&(Re=J[K]);var Ye=Oe[q];d.autoHeight=w&&Ye==="auto",isNaN(parseFloat(Ye))&&(Ye=J[q]),P.startDim.w=parseFloat(Re),P.startDim.h=parseFloat(Ye),B=0,H&&(d.unitHeight=(0,ne.getUnitFromValue)(Ye),d.unitWidth=(0,ne.getUnitFromValue)(Re))},onMove:function(){g.trigger("component:resize")},onEnd:function(f,h){C("remove",0,h),g.trigger("component:resize"),c.toggleFramesEvents(1),B=1},updateTarget:function(f,h){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(O){var d=u.store,P=u.selectedHandler,q=u.config,K=q.keyHeight,H=q.keyWidth,w=q.autoHeight,M=q.autoWidth,J=q.unitWidth,Oe=q.unitHeight,Re=["tc","bc"].indexOf(P)>=0,Ye=["cl","cr"].indexOf(P)>=0,Ve={},Se=d?"":1;if(!Re){var je=c.getBody().offsetWidth,x=h.w<je?h.w:je;Ve[H]=M?"auto":"".concat(x).concat(J)}Ye||(Ve[K]=w?"auto":"".concat(h.h).concat(Oe)),O.addStyle(z(z({},Ve),{},{en:Se}),{avoidStore:!d});var re="update:component:style",we="".concat(re,":").concat(K," ").concat(re,":").concat(H);a&&a.trigger(we,null,null,{noEmit:1})}}},(0,ve.Z)(D)=="object"&&(I=z(z(z({},I),D),{},{parent:I})),this.resizer=g.runCommand("resize",{el:l,options:I,force:1})}else g.stopCommand("resize"),this.resizer=null},updateToolbar:function(E){var O=this.config.em,a=E==O?O.getSelected():E,c=this.canvas.getToolbarEl(),g=c.style,S=a.get("toolbar"),se=O.get("Config").showToolbar;if(a&&se&&S&&S.length){if(g.display="",!this.toolbar){c.innerHTML="",this.toolbar=new he(S);var le=new L({collection:this.toolbar,editor:this.editor,em:O});c.appendChild(le.render().el)}this.toolbar.reset(S),g.top="-100px",g.left=0}else g.display="none"},updateToolbarPos:function(E){var O="px",a=this.canvas.getToolbarEl().style;a.top="".concat(E.top).concat(O),a.left="".concat(E.left).concat(O),a.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.canvas.getBadgeEl(E.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(E){return E&&E.get("status")==="selected"},updateToolsLocal:function(E){var O=E||this.getElHovered(),a=O.el,c=O.pos,g=O.view,S=O.component;if(a){var se=S.get("hoverable"),le=this.lastHovered!==a,D=le?{}:{posOnly:1};le&&se&&(this.lastHovered=a,this.showHighlighter(g),this.showElementOffset(a,c,{view:g})),this.isCompSelected(S)&&(this.hideHighlighter(g),this.hideElementOffset(g));var I="px",C=this.toggleToolsEl(1,g),l=C.style,f=this.canvas.canvasRectOffset(a,c),h=f.top,u=f.left;this.updateBadge(a,c,z(z({},D),{},{view:g,topOff:h,leftOff:u})),l.top=h+I,l.left=u+I,l.width=c.width+I,l.height=c.height+I,this._trgToolUp("local",{component:S,el:C,top:h,left:u,width:c.width,height:c.height})}else this.lastHovered=0},_upToolbar:(0,ue.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(E){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em.trigger("canvas:tools:update",z({type:E},O))},updateToolsGlobal:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=this.getElSelected(),a=O.el,c=O.pos,g=O.component;if(!a)return this.toggleToolsEl(),void(this.lastSelected=0);var S=this.canvas,se=this.lastSelected!==a;(se||E.force)&&(this.lastSelected=a,this.updateToolbar(g));var le="px",D=this.toggleToolsEl(1),I=D.style,C=S.getTargetToElementFixed(a,S.getToolbarEl(),{pos:c}),l=C.canvasOffsetTop,f=C.canvasOffsetLeft;I.top=l+le,I.left=f+le,I.width=c.width+le,I.height=c.height+le,this.updateToolbarPos({top:C.top,left:C.left}),this._trgToolUp("global",{component:g,el:D,top:l,left:f,width:c.width,height:c.height})},updateAttached:(0,ue.debounce)(function(){this.updateGlobalPos()}),onContainerChange:(0,ue.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(E){return this.canvas.getCanvasView().getElementPos(E)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(E){E&&E.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(E){(0,ne.hasWin)()&&(this.editor=E&&E.get("Editor"),this.enable())},stop:function(E,O){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,ne.hasWin)()){var c=this.em,g=this.editor;this.onHovered(),this.stopSelectComponent(),!a.preserveSelected&&c.setSelected(null),this.toggleToolsEl(),g&&g.stopCommand("resize")}}}},8463:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>fe});var ve=_(2316),_e=_.n(ve)().$;const fe={startSelectPosition:function(de,ue){var ne=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.isPointed=!1;var ee=this.editorModel.get("Utils"),j=de.ownerDocument.body;ee&&!this.sorter&&(this.sorter=new ee.Sorter({container:j,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:ue,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return ne.em.getZoomDecimal()}})),X.onStart&&(this.sorter.onStart=X.onStart),de&&this.sorter.startSort(de,{container:j})},getOffsetDim:function(){var de=this.offset(this.canvas.getFrameEl()),ue=this.offset(this.canvas.getElement());return{top:de.top-ue.top,left:de.left-ue.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?_e(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?_e(this.cDim[this.posIndex][5]).parent():_e(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(de,ue,ne){var X=de||0,ee=ue||"before",j=ne.length,m=j!==0&&ee=="after"&&X==j;return j!==0&&(!m&&!ne[X][4]||ne[X-1]&&!ne[X-1][4]||m&&!ne[X-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},7994:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ee});var ve=_(4942),_e=_(2316),fe=_.n(_e),de=_(9050),ue=_(1163);function ne(j,m){var b=Object.keys(j);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(j);m&&(T=T.filter(function(V){return Object.getOwnPropertyDescriptor(j,V).enumerable})),b.push.apply(b,T)}return b}var X=fe().$;const ee={getOffsetMethod:function(j){return"get"+(j||"")+"OffsetViewerEl"},run:function(j,m,b){var T=b||{},V=T.state||"",s=j.getConfig(),ae=this.em.getZoomDecimal(),$=T.el||"";if(!s.showOffsets||(0,ue.isTextNode)($)||!s.showOffsetsSelected&&V=="Fixed")j.stopCommand(this.id,b);else{var R=j.Canvas,Z=function(Ge){for(var Ke=1;Ke<arguments.length;Ke++){var bt=arguments[Ke]!=null?arguments[Ke]:{};Ke%2?ne(Object(bt),!0).forEach(function(At){(0,ve.Z)(Ge,At,bt[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ge,Object.getOwnPropertyDescriptors(bt)):ne(Object(bt)).forEach(function(At){Object.defineProperty(Ge,At,Object.getOwnPropertyDescriptor(bt,At))})}return Ge}({},T.elPos||R.getElementPos($));(0,de.isUndefined)(T.top)||(Z.top=T.top),(0,de.isUndefined)(T.left)||(Z.left=T.left);var L=window.getComputedStyle($),te=this.ppfx,xe=V+"State",he=R[this.getOffsetMethod(V)](b.view);he.style.opacity="";var A=this["marginT"+V],z=this["marginB"+V],B=this["marginL"+V],W=this["marginR"+V],ie=this["padT"+V],E=this["padB"+V],O=this["padL"+V],a=this["padR"+V];if(he.childNodes.length&&(this[xe]="1",A=he.querySelector("[data-offset-m-t]"),z=he.querySelector("[data-offset-m-b]"),B=he.querySelector("[data-offset-m-l]"),W=he.querySelector("[data-offset-m-r]"),ie=he.querySelector("[data-offset-p-t]"),E=he.querySelector("[data-offset-p-b]"),O=he.querySelector("[data-offset-p-l]"),a=he.querySelector("[data-offset-p-r]")),!this[xe]){var c=V.toLowerCase(),g=c+"margin-v",S=c+"padding-v",se=X('<div class="'.concat(te,'marginName">')).get(0),le=X('<div class="'.concat(te,'paddingName">')).get(0),D=te+S+"-el",I="".concat(te+g+"-el"," ").concat(te+g),C="".concat(D," ").concat(te+S);A=X('<div class="'.concat(I,'-top"></div>')).get(0),z=X('<div class="'.concat(I,'-bottom"></div>')).get(0),B=X('<div class="'.concat(I,'-left"></div>')).get(0),W=X('<div class="'.concat(I,'-right"></div>')).get(0),ie=X('<div class="'.concat(C,'-top"></div>')).get(0),E=X('<div class="'.concat(C,'-bottom"></div>')).get(0),O=X('<div class="'.concat(C,'-left"></div>')).get(0),a=X('<div class="'.concat(C,'-right"></div>')).get(0),this["marginT"+V]=A,this["marginB"+V]=z,this["marginL"+V]=B,this["marginR"+V]=W,this["padT"+V]=ie,this["padB"+V]=E,this["padL"+V]=O,this["padR"+V]=a,se.appendChild(A),se.appendChild(z),se.appendChild(B),se.appendChild(W),le.appendChild(ie),le.appendChild(E),le.appendChild(O),le.appendChild(a),he.appendChild(se),he.appendChild(le),this[xe]="1"}var l="px",f=parseFloat(L.marginLeft.replace(l,""))*ae,h=parseFloat(L.marginRight.replace(l,""))*ae,u=parseFloat(L.marginTop.replace(l,""))*ae,d=parseFloat(L.marginBottom.replace(l,""))*ae,P=A.style,q=z.style,K=B.style,H=W.style,w=ie.style,M=E.style,J=O.style,Oe=a.style,Re=parseFloat(Z.left),Ye=parseFloat(L.width)*ae+l;P.height=u+l,P.width=Ye,P.top=Z.top-u+l,P.left=Re+l,q.height=d+l,q.width=Ye,q.top=Z.top+Z.height+l,q.left=Re+l;var Ve=Z.height+u+d+l,Se=Z.top-u+l;K.height=Ve,K.width=f+l,K.top=Se,K.left=Re-f+l,H.height=Ve,H.width=h+l,H.top=Se,H.left=Re+Z.width+l;var je=parseFloat(L.paddingTop)*ae;w.height=je+l;var x=parseFloat(L.paddingBottom)*ae;M.height=x+l;var re=Z.height-x-je+l,we=Z.top+je+l;J.height=re,J.width=parseFloat(L.paddingLeft)*ae+l,J.top=we;var De=parseFloat(L.paddingRight)*ae;Oe.height=re,Oe.width=De+l,Oe.top=we}},stop:function(j,m){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=b||{},V=T.state||"",s=this.getOffsetMethod(V),ae=j.Canvas,$=ae[s](b.view);$.style.opacity=0}}},8352:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>_e});var ve=_(9050);const _e={init:function(){(0,ve.bindAll)(this,"_onFramesChange")},run:function(fe){this.toggleVis(fe)},stop:function(fe){this.toggleVis(fe,0)},toggleVis:function(fe){var de=this,ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!fe.Commands.isActive("preview")){var ne=fe.Canvas,X=ue?"on":"off";ne.getFrames().forEach(function(ee){return de._upFrame(ee,ue)}),ne.getModel()[X]("change:frames",this._onFramesChange)}},_onFramesChange:function(fe,de){var ue=this;de.forEach(function(ne){return ne.once("loaded",function(){return ue._upFrame(ne,!0)})})},_upFrame:function(fe,de){var ue=de?"add":"remove";fe.view.getBody().classList[ue]("".concat(this.ppfx,"dashed"))}}},9304:(gt,Ze,_)=>{_.d(Ze,{Z:()=>X});var ve=_(4942),_e=_(2982),fe=_(9050),de=_(1163);function ue(ee,j){var m=Object.keys(ee);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(ee);j&&(b=b.filter(function(T){return Object.getOwnPropertyDescriptor(ee,T).enumerable})),m.push.apply(m,b)}return m}function ne(ee){for(var j=1;j<arguments.length;j++){var m=arguments[j]!=null?arguments[j]:{};j%2?ue(Object(m),!0).forEach(function(b){(0,ve.Z)(ee,b,m[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(m)):ue(Object(m)).forEach(function(b){Object.defineProperty(ee,b,Object.getOwnPropertyDescriptor(m,b))})}return ee}const X={getConfig:function(ee){return this.__getConfig(ee)},getProjectData:function(ee){var j={},m=this.storageKey;return m&&(j[m]=ee||this.getAll()),j},loadProjectData:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=j.all,b=j.onResult,T=j.reset,V=this.storageKey,s={action:"load"},ae=m||this.getAll(),$=ee[V];if(typeof $=="string")try{$=JSON.parse($)}catch{this.__logWarn("Data parsing failed",{input:$})}return T&&$&&ae.reset(null,s),b?$&&b($,s):$&&(0,de.isDef)($.length)&&ae.reset($,s),$},clear:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=this.all;return j&&j.reset(null,ee),this},__getConfig:function(ee){var j=this.config||{};return ee?j[ee]:j},getAll:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.all?ee.array?(0,_e.Z)(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(ee,j){return ee[j.get(j.idAttribute)]=j,ee},{})},__initConfig:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=(0,de.deepMerge)(ee,j),this.em=this.config.em,this.cls=[]},__initListen:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=this.all,m=this.em,b=this.events;j&&m&&j.on("add",function(T,V,s){return m.trigger(b.add,T,s)}).on("remove",function(T,V,s){return m.trigger(b.remove,T,s)}).on("change",function(T,V){return m.trigger(b.update,T,T.changedAttributes(),V)}).on("all",this.__catchAllEvent,this),this.cls=[j].concat(ee.collections||[]),(ee.propagate||[]).forEach(function(T){var V=T.entity,s=T.event;V.on("all",function(ae,$,R,Z){var L=ne({event:ae},Z||R);[m,j].map(function(te){return te.trigger(s,$,L)})})})},__remove:function(ee){var j=this,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=this.em,T=(0,fe.isString)(ee)?this.get(ee):ee,V=function(){return T&&j.all.remove(T,m),T};return!m.silent&&b&&b.trigger(this.events.removeBefore,T,V,m),!m.abort&&V()},__catchAllEvent:function(ee,j,m,b){var T=this.em,V=this.events,s=b||m;T&&V.all&&T.trigger(V.all,{event:ee,model:j,options:s}),this.__onAllEvent()},__appendTo:function(){var ee=this.getConfig().appendTo;if(ee){var j=(0,fe.isElement)(ee)?ee:document.querySelector(ee);if(!j)return this.__logWarn('"appendTo" element not found');j.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(ee,j){this.em.logWarning("[".concat(this.name,"]: ").concat(ee),j)},_createId:function(){var ee,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,m=this.getAll(),b=m.length+j,T=this.getAllMap();do ee=(0,de.createId)(b);while(T[ee]);return ee},__listenAdd:function(ee,j){var m=this;ee.on("add",function(b,T,V){return m.em.trigger(j,b,V)})},__listenRemove:function(ee,j){var m=this;ee.on("remove",function(b,T,V){return m.em.trigger(j,b,V)})},__listenUpdate:function(ee,j){var m=this;ee.on("change",function(b,T){return m.em.trigger(j,b,b.changedAttributes(),T)})},__destroy:function(){var ee;this.cls.forEach(function(j){j.stopListening(),j.reset()}),this.em=0,this.config=0,(ee=this.view)===null||ee===void 0||ee.remove(),this.view=0}}},672:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>O});var ve=_(2982),_e=_(5671),fe=_(3144),de=_(7326),ue=_(9340),ne=_(2963),X=_(1120),ee=_(4942),j=_(9050),m=_(1163),b=_(9714),T=_(966),V=_(5963);const s={stylePrefix:"css-",rules:[]};var ae=_(2316),$=_(9524),R=_(8795);function Z(a,c){var g=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);c&&(S=S.filter(function(se){return Object.getOwnPropertyDescriptor(a,se).enumerable})),g.push.apply(g,S)}return g}function L(a){for(var c=1;c<arguments.length;c++){var g=arguments[c]!=null?arguments[c]:{};c%2?Z(Object(g),!0).forEach(function(S){(0,ee.Z)(a,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(g)):Z(Object(g)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(g,S))})}return a}function te(a){var c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,S=(0,X.Z)(a);if(c){var se=(0,X.Z)(this).constructor;g=Reflect.construct(S,arguments,se)}else g=S.apply(this,arguments);return(0,ne.Z)(this,g)}}var xe=((0,m.hasWin)()?window:{}).CSS,he=function(a){(0,ue.Z)(g,a);var c=te(g);function g(){return(0,_e.Z)(this,g),c.apply(this,arguments)}return(0,fe.Z)(g,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}}},{key:"initialize",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.config=S||{},this.opt=se,this.em=se.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(S,se){var le=this.em,D=this.changedAttributes();!(0,m.isEmptyObj)(D)&&le&&le.changesUp(se)}},{key:"clone",value:function(){var S=L({},this.opt),se=L({},this.attributes);return se.selectors=this.get("selectors").map(function(le){return le.clone()}),new this.constructor(se,S)}},{key:"ensureSelectors",value:function(S,se,le){var D=this.em,I=D&&D.get("SelectorManager"),C=[this,"change:selectors",this.ensureSelectors],l=this.getSelectors();if(this.stopListening.apply(this,C),l.models&&(l=(0,ve.Z)(l.models)),l=(0,j.isString)(l)?[l]:l,Array.isArray(l)){var f=l.filter(function(h){return h}).map(function(h){return I?I.add(h):h});l=new T.Z(f)}this.set("selectors",l,le),this.listenTo.apply(this,C)}},{key:"getAtRule",value:function(){var S=this.get("atRuleType"),se=this.get("mediaText"),le=S?"@".concat(S):se?"@media":"";return le+(se&&le?" ".concat(se):"")}},{key:"selectorsToString",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=[],le=this.get("state"),D=this.get("selectorsAdd"),I={escape:function(f){return xe&&xe.escape?xe.escape(f):f}},C=this.get("selectors").getFullString(0,I),l=le&&!S.skipState?":".concat(le):"";return C&&se.push("".concat(C).concat(l)),D&&!S.skipAdd&&se.push(D),se.join(", ")}},{key:"getDeclaration",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se="",le=this.attributes.important,D=this.selectorsToString(S),I=this.styleToString(L({important:le},S)),C=this.get("singleAtRule");return(D||C)&&(I||S.allowEmpty)&&(se=C?I:"".concat(D,"{").concat(I,"}")),se}},{key:"getDevice",value:function(){var S=this.em,se=this.attributes,le=se.atRuleType,D=se.mediaText,I=(S==null?void 0:S.get("DeviceManager").getDevices())||[],C=I.filter(function(l){return l.getWidthMedia()===""})[0];return le==="media"&&D?I.filter(function(l){return l.getWidthMedia()===(0,R.U)(D)})[0]||null:C||null}},{key:"getState",value:function(){var S=this.em,se=this.get("state");return(S.get("SelectorManager").getStates()||[]).filter(function(le){return le.getName()===se})[0]||null}},{key:"getComponent",value:function(){var S,se=this.getSelectors(),le=se.length==1&&se.at(0),D=le&&le.isId()&&le.get("name");return D&&((S=this.em)===null||S===void 0?void 0:S.get("DomComponents").getById(D))||null}},{key:"toCSS",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se="",le=this.getAtRule(),D=this.getDeclaration(S);return(D||S.allowEmpty)&&(se=D),le&&se&&(se="".concat(le,"{").concat(se,"}")),se}},{key:"toJSON",value:function(){for(var S=arguments.length,se=new Array(S),le=0;le<S;le++)se[le]=arguments[le];var D=ae.Model.prototype.toJSON.apply(this,se);if(this.em.getConfig().avoidDefaults){var I=this.defaults();(0,j.forEach)(I,function(C,l){D[l]===C&&delete D[l]}),delete D.style.__p,(0,j.isEmpty)(D.selectors)&&delete D.selectors,(0,j.isEmpty)(D.style)&&delete D.style}return D}},{key:"compare",value:function(S,se,le){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=se||"",C=le||"",l=D.selectorsAdd||"",f=D.atRuleType||"",h=(0,j.isArray)(S)||S.models?S.models||S:[S];C&&!f&&(f="media");var u=h.map(function(K){return K.getFullName()}),d=this.get("selectors").map(function(K){return K.getFullName()}),P=u.slice().sort(),q=d.slice().sort();return!(u.length!==d.length||!P.every(function(K,H){return K===q[H]}))&&this.get("state")===I&&this.get("mediaText")===C&&this.get("selectorsAdd")===l&&this.get("atRuleType")===f}}]),g}($.Z);function A(a){var c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,S=(0,X.Z)(a);if(c){var se=(0,X.Z)(this).constructor;g=Reflect.construct(S,arguments,se)}else g=S.apply(this,arguments);return(0,ne.Z)(this,g)}}var z=function(a){(0,ue.Z)(g,a);var c=A(g);function g(){return(0,_e.Z)(this,g),c.apply(this,arguments)}return(0,fe.Z)(g,[{key:"initialize",value:function(S,se){var le=this;se&&se.em&&(this.editor=se.em),setTimeout(function(){le.on("remove",le.onRemove),le.on("add",le.onAdd)})}},{key:"toJSON",value:function(S){return ae.Collection.prototype.toJSON.call(this,S).filter(function(se){return se.style&&!se.shallow})}},{key:"onAdd",value:function(S,se,le){S.ensureSelectors(S,se,le)}},{key:"onRemove",value:function(S){var se=this.editor;se.stopListening(S),se.get("UndoManager").remove(S)}},{key:"add",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof S=="string"&&(S=this.editor.get("Parser").parseCss(S)),se.em=this.editor,ae.Collection.prototype.add.apply(this,[S,se])}}]),g}(ae.Collection);z.prototype.model=he;var B=_(4868);function W(a,c){var g=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);c&&(S=S.filter(function(se){return Object.getOwnPropertyDescriptor(a,se).enumerable})),g.push.apply(g,S)}return g}function ie(a){for(var c=1;c<arguments.length;c++){var g=arguments[c]!=null?arguments[c]:{};c%2?W(Object(g),!0).forEach(function(S){(0,ee.Z)(a,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(g)):W(Object(g)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(g,S))})}return a}function E(a){var c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,S=(0,X.Z)(a);if(c){var se=(0,X.Z)(this).constructor;g=Reflect.construct(S,arguments,se)}else g=S.apply(this,arguments);return(0,ne.Z)(this,g)}}var O=function(a){(0,ue.Z)(g,a);var c=E(g);function g(){var S;(0,_e.Z)(this,g);for(var se=arguments.length,le=new Array(se),D=0;D<se;D++)le[D]=arguments[D];return S=c.call.apply(c,[this].concat(le)),(0,ee.Z)((0,de.Z)(S),"Selectors",T.Z),(0,ee.Z)((0,de.Z)(S),"name","CssComposer"),(0,ee.Z)((0,de.Z)(S),"storageKey","styles"),S}return(0,fe.Z)(g,[{key:"getConfig",value:function(){return this.c}},{key:"init",value:function(S){for(var se in this.c=S||{},s)se in this.c||(this.c[se]=s[se]);var le=this.c.pStylePrefix;le&&(this.c.stylePrefix=le+this.c.stylePrefix);var D=this.c.em&&this.c.em.config.style||"";return this.c.rules=D||this.c.rules,this.em=this.c.em,this.rules=new z([],this.c),this}},{key:"onLoad",value:function(){this.rules.add(this.c.rules,{silent:1})}},{key:"postLoad",value:function(){var S,se=(S=this.em)===null||S===void 0?void 0:S.get("UndoManager");se&&se.add(this.getAll())}},{key:"store",value:function(){return this.getProjectData()}},{key:"load",value:function(S){return this.loadProjectData(S)}},{key:"add",value:function(S,se,le){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},C=se||"",l=le||"",f=ie({},D),h=this.get(S,C,l,f);return h&&h.config&&!h.config.singleAtRule||(f.state=C,f.mediaText=l,f.selectors=[],l&&(f.atRuleType="media"),(h=new he(f,this.c)).get("selectors").add(S,I),this.rules.add(h,I)),h}},{key:"get",value:function(S,se,le,D){var I=S;if((0,j.isString)(S)){var C=this.em.get("SelectorManager"),l=S.split(",")[0].trim(),f=this.em.get("Parser").parserCss.checkNode({selectors:l})[0];I=C.get(f.selectors)}return this.rules.find(function(h){return h.compare(I,se,le,D)})||null}},{key:"getAll",value:function(){return this.rules}},{key:"addCollection",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=[];(0,j.isString)(S)&&(S=this.em.get("Parser").parseCss(S));for(var I=S instanceof Array?S:[S],C=0,l=I.length;C<l;C++){var f,h=I[C]||{};if(h.selectors){var u=(f=this.em)===null||f===void 0?void 0:f.get("SelectorManager");u||console.warn("Selector Manager not found");for(var d=h.selectors,P=d instanceof Array?d:[d],q=[],K=0,H=P.length;K<H;K++){var w=u.add(P[K]);q.push(w)}var M=this.get(q,h.state,h.mediaText,h),J=this.add(q,h.state,h.mediaText,h,se),Oe=!M||!se.avoidUpdateStyle,Re=h.style||{};if((0,m.isObject)(le)&&J.set(le,se),Oe){var Ye=se.extend?ie(ie({},J.get("style")),Re):Re;J.set("style",Ye,se)}D.push(J)}}return D}},{key:"addRules",value:function(S){return this.addCollection(S)}},{key:"setRule",value:function(S,se){var le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=le.atRuleType,I=le.atRuleParams,C=this.em.get("Parser").parserCss.checkNode({selectors:S,style:se})[0],l=C.state,f=C.selectorsAdd,h=this.em.get("SelectorManager"),u=h.add(C.selectors),d=this.add(u,l,I,{selectorsAdd:f,atRule:D});return d.setStyle(se,le),d}},{key:"getRule",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=this.em.get("SelectorManager"),D=this.em.get("Parser").parserCss.checkNode({selectors:S})[0],I=le.get(D.selectors),C=D.state,l=D.selectorsAdd,f=se.atRuleType,h=se.atRuleParams;return I&&this.get(I,C,h,{selectorsAdd:l,atRule:f})}},{key:"getRules",value:function(S){var se=this.getAll();if(!S)return(0,ve.Z)(se.models);var le={sort:!0},D=(0,j.isString)(S)?S.split(",").map(function(I){return I.trim()}):S;return se.filter(function(I){return D.indexOf(I.getSelectors().getFullString(null,le))>=0})}},{key:"setIdRule",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=le.addOpts,I=D===void 0?{}:D,C=le.mediaText,l=le.state||"",f=(0,j.isUndefined)(C)?this.em.getCurrentMedia():C,h=this.em.get("SelectorManager"),u=h.add({name:S,type:V.Z.TYPE_ID},I),d=this.add(u,l,f,{},I);return d.setStyle(se,ie(ie({},le),I)),d}},{key:"getIdRule",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=se.mediaText,D=se.state||"",I=(0,j.isUndefined)(le)?this.em.getCurrentMedia():le,C=this.em.get("SelectorManager").get(S,V.Z.TYPE_ID);return C&&this.get(C,D,I)}},{key:"setClassRule",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=le.state||"",I=le.mediaText||this.em.getCurrentMedia(),C=this.em.get("SelectorManager"),l=C.add({name:S,type:V.Z.TYPE_CLASS}),f=this.add(l,D,I);return f.setStyle(se,le),f}},{key:"getClassRule",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=se.state||"",D=se.mediaText||this.em.getCurrentMedia(),I=this.em.get("SelectorManager").get(S,V.Z.TYPE_CLASS);return I&&this.get(I,le,D)}},{key:"remove",value:function(S,se){var le=(0,j.isString)(S)?this.getRules(S):S,D=this.getAll().remove(le,se);return(0,j.isArray)(D)?D:[D]}},{key:"clear",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.getAll().reset(null,S),this}},{key:"getComponentRules",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=se.state,D=se.mediaText,I=se.current;I&&(le=this.em.get("state")||"",D=this.em.getCurrentMedia());var C=S.getId(),l=this.getAll().filter(function(f){if(((0,j.isUndefined)(le)||f.get("state")===le)&&((0,j.isUndefined)(D)||f.get("mediaText")===D))return f.getSelectorsString()==="#".concat(C)});return l}},{key:"render",value:function(){var S;return(S=this.rulesView)===null||S===void 0||S.remove(),this.rulesView=new B.Z({collection:this.rules,config:this.c}),this.rulesView.render().el}},{key:"destroy",value:function(){var S;this.rules.reset(),this.rules.stopListening(),(S=this.rulesView)===null||S===void 0||S.remove(),[this.em,this.rules,this.rulesView].forEach(function(se){return null}),this.c={}}}]),g}(b.Z)},4868:(gt,Ze,_)=>{_.d(Ze,{Z:()=>$});var ve=_(5671),_e=_(3144),fe=_(7326),de=_(9340),ue=_(2963),ne=_(1120),X=_(9050),ee=_(2316),j=_(9283);function m(R){var Z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,te=(0,ne.Z)(R);if(Z){var xe=(0,ne.Z)(this).constructor;L=Reflect.construct(te,arguments,xe)}else L=te.apply(this,arguments);return(0,ue.Z)(this,L)}}var b=function(R){(0,de.Z)(L,R);var Z=m(L);function L(){return(0,ve.Z)(this,L),Z.apply(this,arguments)}return(0,_e.Z)(L,[{key:"tagName",value:function(){return"style"}},{key:"initialize",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=te.config||{};var xe=this.model;this.listenTo(xe,"change",this.render),this.listenTo(xe,"destroy remove",this.remove),this.listenTo(xe.get("selectors"),"change",this.render)}},{key:"render",value:function(){var te=this.model,xe=this.el,he=te.get("important");return xe.innerHTML=te.toCSS({important:he}),this}}]),L}(ee.View);function T(R){var Z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,te=(0,ne.Z)(R);if(Z){var xe=(0,ne.Z)(this).constructor;L=Reflect.construct(te,arguments,xe)}else L=te.apply(this,arguments);return(0,ue.Z)(this,L)}}var V=function(R){(0,de.Z)(L,R);var Z=T(L);function L(){return(0,ve.Z)(this,L),Z.apply(this,arguments)}return(0,_e.Z)(L,[{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var te=this.model,xe=te.get("important");return this.el.textContent=te.getDeclaration({important:xe}),this}}]),L}(b);function s(R){var Z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var L,te=(0,ne.Z)(R);if(Z){var xe=(0,ne.Z)(this).constructor;L=Reflect.construct(te,arguments,xe)}else L=te.apply(this,arguments);return(0,ue.Z)(this,L)}}var ae=function(R,Z){return"".concat(R).concat(Z?"-".concat(parseFloat(Z)):"")},$=function(R){(0,de.Z)(L,R);var Z=s(L);function L(te){var xe;return(0,ve.Z)(this,L),xe=Z.call(this,te),(0,X.bindAll)((0,fe.Z)(xe),"sortRules"),xe}return(0,_e.Z)(L,[{key:"initialize",value:function(te){var xe=te.config||{};this.atRules={},this.config=xe,this.em=xe.em,this.pfx=xe.stylePrefix||"",this.className=this.pfx+"rules";var he=this.collection;this.listenTo(he,"add",this.addTo),this.listenTo(he,"reset",this.render)}},{key:"addTo",value:function(te){this.addToCollection(te)}},{key:"addToCollection",value:function(te,xe){if(this.renderStarted){var he,A,z=xe||null,B={model:te,config:this.config};if(te.get("atRuleType")==="keyframes"){var W=te.getAtRule(),ie=this.atRules[W];if(!ie){var E=document.createElement("style");ie=document.createTextNode(""),E.appendChild(document.createTextNode("".concat(W,"{"))),E.appendChild(ie),E.appendChild(document.createTextNode("}")),this.atRules[W]=ie,he=E}A=new V(B),ie.appendData(A.render().el.textContent)}else he=(A=new b(B)).render().el;var O=this.className,a=te.get("mediaText"),c=ae(O),g=c;if(a&&(g=ae(O,this.getMediaWidth(a))),he){var S,se=z||this.el;try{S=se.querySelector("#".concat(g))}catch{}S||(S=se.querySelector("#".concat(c))),S.appendChild(he)}return he}}},{key:"getMediaWidth",value:function(te){return te&&te.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")}},{key:"sortRules",value:function(te,xe){var he=(this.em.getConfig().mediaCondition||"").indexOf("min-width")!==-1;return he?(he?te:xe)-(he?xe:te):0}},{key:"render",value:function(){var te=this;this.renderStarted=1,this.atRules={};var xe=this.em,he=this.$el,A=this.className,z=this.collection,B=document.createDocumentFragment();he.empty();var W=xe.get("DeviceManager").getAll().pluck("priority").sort(this.sortRules);return W.every(function(ie){return ie})&&W.unshift(0),W.forEach(function(ie){return B.appendChild((0,j.ut)("div",{id:ae(A,ie)}))}),z.each(function(ie){return te.addToCollection(ie,B)}),he.append(B),he.attr("class",A),this}}]),L}(ee.View)},2004:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>se,evAdd:()=>O,evAddBefore:()=>a,evAll:()=>z,evPfx:()=>B,evRemove:()=>c,evRemoveBefore:()=>g,evSelect:()=>W,evSelectBefore:()=>ie,evUpdate:()=>E});var ve=_(5671),_e=_(3144),fe=_(7326),de=_(9340),ue=_(2963),ne=_(1120),X=_(4942),ee=_(9050),j=_(9714);const m={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var b=_(2316);function T(le){var D=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,C=(0,ne.Z)(le);if(D){var l=(0,ne.Z)(this).constructor;I=Reflect.construct(C,arguments,l)}else I=C.apply(this,arguments);return(0,ue.Z)(this,I)}}var V=function(le){(0,de.Z)(I,le);var D=T(I);function I(){return(0,ve.Z)(this,I),D.apply(this,arguments)}return(0,_e.Z)(I,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var C=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(l){return C.checkUnit(l)})}},{key:"checkUnit",value:function(C){var l=this.get(C)||"";(parseFloat(l)||0).toString()===l.toString()&&this.set(C,"".concat(l,"px"))}},{key:"getName",value:function(){return this.get("name")||this.get("id")}},{key:"getWidthMedia",value:function(){return this.get("widthMedia")||""}}]),I}(b.Model);function s(le){var D=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,C=(0,ne.Z)(le);if(D){var l=(0,ne.Z)(this).constructor;I=Reflect.construct(C,arguments,l)}else I=C.apply(this,arguments);return(0,ue.Z)(this,I)}}var ae=function(le){(0,de.Z)(I,le);var D=s(I);function I(){return(0,ve.Z)(this,I),D.apply(this,arguments)}return(0,_e.Z)(I)}(b.Collection);ae.prototype.model=V;var $,R=_(168),Z=_(7539);function L(le){var D=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,C=(0,ne.Z)(le);if(D){var l=(0,ne.Z)(this).constructor;I=Reflect.construct(C,arguments,l)}else I=C.apply(this,arguments);return(0,ue.Z)(this,I)}}var te=function(le){(0,de.Z)(I,le);var D=L(I);function I(){return(0,ve.Z)(this,I),D.apply(this,arguments)}return(0,_e.Z)(I,[{key:"template",value:function(C){var l=C.ppfx,f=C.label;return(0,Z.Z)($||($=(0,R.Z)([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp">+</button>
    `])),l,f,l,l,l,l,l,l,l)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function(C){this.config=C.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var C=this.em;if(C){var l=this.devicesEl,f=l?l.val():"";C.set("device",f)}}},{key:"updateSelect",value:function(){var C=this.em,l=this.devicesEl;if(C&&C.getDeviceModel&&l){var f=C.getDeviceModel(),h=f?f.get("id"):"";l.val(h)}}},{key:"getOptions",value:function(){var C=this.collection,l=this.em,f="";return C.each(function(h){var u=h.attributes,d=u.name,P=u.id,q=l&&l.t&&l.t("deviceManager.devices.".concat(P))||d;f+='<option value="'.concat(P||d,'">').concat(q,"</option>")}),f}},{key:"render",value:function(){var C=this.em,l=this.ppfx,f=this.$el,h=this.el,u=C&&C.t&&C.t("deviceManager.device");return f.html(this.template({ppfx:l,label:u})),this.devicesEl=f.find(".".concat(l,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(C.get("device")),h.className="".concat(l,"devices-c"),this}}]),I}(b.View);function xe(le,D){var I=Object.keys(le);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(le);D&&(C=C.filter(function(l){return Object.getOwnPropertyDescriptor(le,l).enumerable})),I.push.apply(I,C)}return I}function he(le){for(var D=1;D<arguments.length;D++){var I=arguments[D]!=null?arguments[D]:{};D%2?xe(Object(I),!0).forEach(function(C){(0,X.Z)(le,C,I[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(I)):xe(Object(I)).forEach(function(C){Object.defineProperty(le,C,Object.getOwnPropertyDescriptor(I,C))})}return le}function A(le){var D=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,C=(0,ne.Z)(le);if(D){var l=(0,ne.Z)(this).constructor;I=Reflect.construct(C,arguments,l)}else I=C.apply(this,arguments);return(0,ue.Z)(this,I)}}var z="device",B="".concat(z,":"),W="".concat(B,"select"),ie="".concat(W,":before"),E="".concat(B,"update"),O="".concat(B,"add"),a="".concat(O,":before"),c="".concat(B,"remove"),g="".concat(c,":before"),S="change:device",se=function(le){(0,de.Z)(I,le);var D=A(I);function I(){var C;(0,ve.Z)(this,I);for(var l=arguments.length,f=new Array(l),h=0;h<l;h++)f[h]=arguments[h];return C=D.call.apply(D,[this].concat(f)),(0,X.Z)((0,fe.Z)(C),"name","DeviceManager"),(0,X.Z)((0,fe.Z)(C),"Device",V),(0,X.Z)((0,fe.Z)(C),"Devices",ae),(0,X.Z)((0,fe.Z)(C),"events",{all:z,select:W,update:E,add:O,remove:c,removeBefore:g}),C}return(0,_e.Z)(I,[{key:"init",value:function(){var C=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.c=he(he({},m),l);var f=this.c.em;return this.devices=new ae,this.c.devices.forEach(function(h){return C.add(h)}),this.em=f,this.all=this.devices,this.select(this.c.default||this.devices.at(0)),this.__initListen(),f.on(S,this._onSelect,this),this}},{key:"_onSelect",value:function(C,l,f){var h=this.em,u=this.events,d=C.previous("device"),P=this.get(l),q=u.select;h.trigger(q,P,this.get(d)),this.__catchAllEvent(q,P,f)}},{key:"add",value:function(C){var l,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=f;if((0,ee.isString)(C)){var u=f;l=he(he({},h=arguments[2]||{}),{},{id:C,name:h.name||C,width:u})}else l=C;return l.id||(l.id=l.name||this._createId()),this.devices.add(l,h)}},{key:"get",value:function(C){return this.getAll().filter(function(l){return l.get("name")===C})[0]||this.devices.get(C)||null}},{key:"remove",value:function(C){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__remove(C,l)}},{key:"getDevices",value:function(){return this.devices.models}},{key:"select",value:function(C){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=(0,ee.isString)(C)?this.get(C):C;return f&&this.em.set("device",f.get("id"),l),this}},{key:"getSelected",value:function(){return this.get(this.em.get("device"))}},{key:"getAll",value:function(){return this.devices}},{key:"render",value:function(){var C;return(C=this.view)===null||C===void 0||C.remove(),this.view=new te({collection:this.devices,config:this.c}),this.view.render().el}},{key:"destroy",value:function(){var C;this.devices.stopListening(),this.devices.reset(),(C=this.view)===null||C===void 0||C.remove(),[this.devices,this.view].forEach(function(l){return null}),this.c={}}}]),I}(j.Z)},9138:(gt,Ze,_)=>{_.d(Ze,{ZP:()=>le,OA:()=>O,GN:()=>S,xH:()=>se});var ve=_(1002),_e=_(2982),fe=_(885),de=_(4942),ue=_(5671),ne=_(3144),X=_(1752),ee=_(9340),j=_(2963),m=_(1120),b=_(9050),T=_(1163),V=_(9524),s=_(2316),ae=_(8431),$=_(5963),R=_(966);function Z(D,I){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(D);I&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(D,f).enumerable})),C.push.apply(C,l)}return C}function L(D){for(var I=1;I<arguments.length;I++){var C=arguments[I]!=null?arguments[I]:{};I%2?Z(Object(C),!0).forEach(function(l){(0,de.Z)(D,l,C[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):Z(Object(C)).forEach(function(l){Object.defineProperty(D,l,Object.getOwnPropertyDescriptor(C,l))})}return D}function te(D){var I=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,l=(0,m.Z)(D);if(I){var f=(0,m.Z)(this).constructor;C=Reflect.construct(l,arguments,f)}else C=l.apply(this,arguments);return(0,j.Z)(this,C)}}var xe=function(D){(0,ee.Z)(C,D);var I=te(C);function C(){return(0,ue.Z)(this,C),I.apply(this,arguments)}return(0,ne.Z)(C,[{key:"initialize",value:function(){var l=this.attributes,f=l.target,h=l.name,u=l.changeProp;if(!this.get("id")&&this.set("id",h),f){this.target=f,this.unset("target");var d=u?"change:".concat(h):"change:attributes:".concat(h);this.listenTo(f,d,this.targetUpdated)}}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.locale,u=h===void 0||h,d=this.getId(),P=this.get("label")||this.getName();return u&&((l=this.em)===null||l===void 0?void 0:l.t("traitManager.traits.labels.".concat(d)))||P}},{key:"getValue",value:function(){return this.getTargetValue()}},{key:"setValue",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={};f.partial&&(h.avoidStore=!0),this.setTargetValue(l,h),f.partial===!1&&(this.setTargetValue(""),this.setTargetValue(l))}},{key:"props",value:function(){return this.attributes}},{key:"targetUpdated",value:function(){var l,f=this.getTargetValue();this.set({value:f},{fromTarget:1}),(l=this.em)===null||l===void 0||l.trigger("trait:update",{trait:this,component:this.target})}},{key:"getTargetValue",value:function(){var l,f=this.get("name"),h=this.target;return l=this.get("changeProp")?h.get(f):h.getAttributes()[f],(0,b.isUndefined)(l)?"":l}},{key:"setTargetValue",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.target,u=this.get("name");if(!(0,b.isUndefined)(l)){var d=l;if(l==="false"?d=!1:l==="true"&&(d=!0),this.get("changeProp"))h.set(u,d,f);else{var P=L({},h.get("attributes"));P[u]=d,h.set("attributes",P,f)}}}},{key:"setValueFromInput",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u={value:l};this.set(u,L(L({},h),{},{avoidStore:1})),f&&(this.set("value","",h),this.set(u,h))}},{key:"getInitValue",value:function(){var l,f=this.target,h=this.get("name");if(f){var u=f.get("attributes");l=this.get("changeProp")?f.get(h):u[h]}return l||this.get("value")||this.get("default")}}]),C}(s.Model);xe.prototype.defaults={type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]};function he(D){var I=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,l=(0,m.Z)(D);if(I){var f=(0,m.Z)(this).constructor;C=Reflect.construct(l,arguments,f)}else C=l.apply(this,arguments);return(0,j.Z)(this,C)}}var A=function(D){(0,ee.Z)(C,D);var I=he(C);function C(){return(0,ue.Z)(this,C),I.apply(this,arguments)}return(0,ne.Z)(C,[{key:"initialize",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=f.em,this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)}},{key:"handleReset",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=f.previousModels,u=h===void 0?[]:h;u.forEach(function(d){return d.trigger("remove")})}},{key:"handleAdd",value:function(l){l.em=this.em;var f=this.target;f&&(l.target=f)}},{key:"setTarget",value:function(l){this.target=l}},{key:"add",value:function(l,f){var h=this.em;if((0,b.isString)(l)||(0,b.isArray)(l)){var u=h&&h.get&&h.get("TraitManager"),d=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{build:function(M){var J=[];typeof M=="string"&&(M=[M]);for(var Oe=0;Oe<M.length;Oe++){var Re={},Ye=M[Oe];Re.name=Ye,Ye==="target"&&(Re.type="select",Re.default=!1,Re.options=w.optionsTarget),J.push(Re)}return J}}}(u&&u.getConfig());(0,b.isString)(l)&&(l=[l]);for(var P=0,q=l.length;P<q;P++){var K=l[P],H=(0,b.isString)(K)?d.build(K)[0]:K;H.target=this.target,l[P]=H}}return s.Collection.prototype.add.apply(this,[l,f])}}]),C}(s.Collection);function z(D,I){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(D);I&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(D,f).enumerable})),C.push.apply(C,l)}return C}function B(D){for(var I=1;I<arguments.length;I++){var C=arguments[I]!=null?arguments[I]:{};I%2?z(Object(C),!0).forEach(function(l){(0,de.Z)(D,l,C[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):z(Object(C)).forEach(function(l){Object.defineProperty(D,l,Object.getOwnPropertyDescriptor(C,l))})}return D}function W(D){var I=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,l=(0,m.Z)(D);if(I){var f=(0,m.Z)(this).constructor;C=Reflect.construct(l,arguments,f)}else C=l.apply(this,arguments);return(0,j.Z)(this,C)}}A.prototype.model=xe;var ie=function(D){return D.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},E=function(D){return D&&D.getConfig().avoidInlineStyle},O="component:drag",a="__symbols",c="__symbol",g="__symbol_ovrd",S="component:update",se="".concat(S,"-inside"),le=function(D){(0,ee.Z)(C,D);var I=W(C);function C(){return(0,ue.Z)(this,C),I.apply(this,arguments)}return(0,ne.Z)(C,[{key:"defaults",get:function(){return{tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null,[c]:0,[a]:0,[g]:0,_undo:!0,_undoexc:["status","open"]}}},{key:"init",value:function(){}},{key:"updated",value:function(l,f,h){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,b.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var u=h.em,d=this.parent(),P=d&&d.attributes,q=this.get("propagate");if(q&&this.set("propagate",(0,b.isArray)(q)?q:[q]),P&&P.propagate&&!q){var K={},H=P.propagate;H.forEach(function(Re){return K[Re]=d.get(Re)}),K.propagate=H,this.set(B(B({},K),f))}if(h&&h.config&&h.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),h.em=u,this.opt=h,this.em=u,this.frame=h.frame,this.config=h.config||{},this.set("attributes",B(B({},(0,b.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=C.createId(this,h),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(se,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(Re){var Ye="add remove ".concat(Re!=="components"?"change":"");l.listenTo(l.get(Re),Ye.trim(),function(){for(var Ve=arguments.length,Se=new Array(Ve),je=0;je<Ve;je++)Se[je]=arguments[je];return l.emitUpdate.apply(l,[Re].concat(Se))})}),!h.temporary){var w=u&&u.get("CssComposer"),M=this.attributes,J=M.styles,Oe=M.type;J&&w&&w.addCollection(J,{},{group:"cmp:".concat(Oe)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),u&&u.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.em,h=f&&f.get("UndoManager"),u=this.components();h&&!this.__hasUm&&(h.add(u),h.add(this.getSelectors()),this.__hasUm=1),l.recursive&&u.map(function(d){return d.__postAdd(l)})}},{key:"__postRemove",value:function(){var l=this.em,f=l&&l.get("UndoManager");f&&(f.remove(this.components()),f.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(l,f){var h=this,u=this.changedAttributes();(0,b.keys)(u).forEach(function(d){return h.emitUpdate(d)}),["status","open","toolbar","traits"].forEach(function(d){return delete u[d]}),(0,T.isEmptyObj)(u)||(this.__changesUp(f),this.__propSelfToParent({component:this,changed:u,options:f}))}},{key:"__changesUp",value:function(l){var f=this.em;[this.frame,f].forEach(function(h){return h&&h.changesUp(l)})}},{key:"__propSelfToParent",value:function(l){this.trigger(S,l),this.__propToParent(l)}},{key:"__propToParent",value:function(l){var f=this.parent();f&&f.trigger(se,l)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(l){return this.get("type")==l}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var l=this.collection;return l?l.indexOf(this):0}},{key:"setDragMode",value:function(l){return this.set("dmode",l)}},{key:"find",value:function(l){var f=[],h=this.view.$el.find(l);return h.each(function(u){var d=h.eq(u).data("model");d&&f.push(d)}),f}},{key:"findType",value:function(l){var f=[];return function h(u){return u.forEach(function(d){d.is(l)&&f.push(d),h(d.components())})}(this.components()),f}},{key:"closest",value:function(l){var f=this.view.$el.closest(l);return f.length&&f.data("model")}},{key:"closestType",value:function(l){for(var f=this.parent();f&&!f.is(l);)f=f.parent();return f}},{key:"contains",value:function(l){var f=!1;if(!l)return f;var h=function u(d){!f&&d.forEach(function(P){P===l&&(f=!0),!f&&u(P.components())})};return h(this.components()),f}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(l){var f=this.collection,h=f.indexOf(this);return f.remove(this),f.add(l,{at:h})}},{key:"attrUpdated",value:function(l,f){var h=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=this.get("attributes"),P=d.class;P&&this.setClass(P),delete d.class;var q=d.style;q&&this.setStyle(q),delete d.style;var K=B({},this.previous("attributes")),H=(0,T.shallowDiff)(K,this.get("attributes"));(0,b.keys)(H).forEach(function(w){return h.trigger("change:attributes:".concat(w),h,H[w],u)})}},{key:"setAttributes",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.set("attributes",B({},l),f),this}},{key:"addAttributes",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.setAttributes(B(B({},this.getAttributes({noClass:1})),l),f)}},{key:"removeAttributes",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=Array.isArray(l)?l:[l],u=this.getAttributes();return h.map(function(d){return delete u[d]}),this.setAttributes(u,f)}},{key:"getStyle",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.em,u=(0,b.isString)(l)?l:"",d=u?f:l;if(h&&h.getConfig().avoidInlineStyle&&!d.inline){var P=h.get("state"),q=h.get("CssComposer"),K=q.getIdRule(this.getId(),B({state:P},d));if(this.rule=K,K)return K.getStyle(u)}return(0,X.Z)((0,m.Z)(C.prototype),"getStyle",this).call(this,u)}},{key:"setStyle",value:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.em,d=this.opt;if(u&&u.getConfig().avoidInlineStyle&&!d.temporary&&!h.inline){var P=this.get("style")||{};f=B(B({},f=(0,b.isString)(f)?this.parseStyle(f):f),P);var q=u.get("state"),K=u.get("CssComposer"),H=this.getStyle(h);this.rule=K.setIdRule(this.getId(),f,B(B({},h),{},{state:q}));var w=(0,T.shallowDiff)(H,f);this.set("style","",{silent:1}),(0,b.keys)(w).forEach(function(M){return l.trigger("change:style:".concat(M))})}else f=(0,X.Z)((0,m.Z)(C.prototype),"setStyle",this).apply(this,arguments);return f}},{key:"getAttributes",value:function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=this.em,u=[],d=B({},this.get("attributes")),P=h&&h.get("SelectorManager"),q=this.getId();if(f.noClass||(this.get("classes").forEach(function(H){return u.push((0,b.isString)(H)?H:H.get("name"))}),u.length&&(d.class=u.join(" "))),!f.noStyle){var K=this.get("style");(0,T.isObject)(K)&&!(0,T.isEmptyObj)(K)&&(d.style=this.styleToString({inline:1}))}return(0,b.has)(d,"id")||(E(h)?l=P&&P.get(q,P.Selector.TYPE_ID):(0,b.isEmpty)(this.getStyle())||(l=1),(this.__getSymbol()||this.__getSymbols())&&(l=1),l&&(d.id=q)),d}},{key:"addClass",value:function(l){var f=this.em.get("SelectorManager").addClass(l);return this.get("classes").add(f)}},{key:"setClass",value:function(l){return this.get("classes").reset(),this.addClass(l)}},{key:"removeClass",value:function(l){var f=[];l=(0,b.isArray)(l)?l:[l];var h=this.get("classes"),u=$.Z.TYPE_CLASS;return l.forEach(function(d){d.split(" ").forEach(function(P){var q=h.where({name:P,type:u})[0];q&&f.push(h.remove(q))})}),f}},{key:"getClasses",value:function(){var l=this.getAttributes().class;return l?l.split(" "):[]}},{key:"__logSymbol",value:function(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=this.__getSymbol(),d=this.__getSymbols();(u||d)&&this.em.log(l,{model:this,toUp:f,context:"symbols",opts:h})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return(0,b.isArray)(this.get(a))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(c))}},{key:"__isSymbolTop",value:function(){var l=this.parent();return this.__isSymbolOrInst()&&(!l||l&&!l.__isSymbol()&&!l.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var l=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),f=this.__getSymbTop();return(f.__isSymbol()?f:f.__getSymbol())!==l}},{key:"__getAllById",value:function(){var l=this.em;return l?l.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var l=this.get(c);if(l&&(0,b.isString)(l)){var f=this.__getAllById()[l];f?(l=f,this.set(c,f)):l=0}return l}},{key:"__getSymbols",value:function(){var l=this,f=this.get(a);return f&&(0,b.isArray)(f)&&(f.forEach(function(h,u){h&&(0,b.isString)(h)&&(f[u]=l.__getAllById()[h])}),f=f.filter(function(h){return h&&!(0,b.isString)(h)})),f}},{key:"__isSymbOvrd",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",f=this.get(g),h=l.split(":"),u=(0,fe.Z)(h,1),d=u[0],P=l!==d?[l,d]:[l];return f===!0||(0,b.isArray)(f)&&P.some(function(q){return f.indexOf(q)>=0})}},{key:"__getSymbToUp",value:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=[],u=this.em,d=f.changed,P=u&&u.config.symbols;if(f.fromInstance||f.noPropagate||f.fromUndo||!P||d&&this.__isSymbOvrd(d))return h;var q=this.__getSymbols()||[],K=this.__getSymbol(),H=K?[K].concat((0,_e.Z)(K.__getSymbols()||[])):q;return h=H.filter(function(w){return w!==l}).filter(function(w){return!(d&&w.__isSymbOvrd(d))})}},{key:"__getSymbTop",value:function(l){for(var f=this,h=this.parent(l);h&&(h.__isSymbol()||h.__getSymbol());)f=h,h=h.parent(l);return f}},{key:"__upSymbProps",value:function(l){var f=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.changedAttributes(),d=u.attributes||{};if(delete u.status,delete u.open,delete u[a],delete u[c],delete u[g],delete u.attributes,delete d.id,(0,T.isEmptyObj)(d)||(u.attributes=d),!(0,T.isEmptyObj)(u)){var P=this.__getSymbToUp(h);(0,b.keys)(u).map(function(q){f.__isSymbOvrd(q)&&delete u[q]}),this.__logSymbol("props",P,{opts:h,changed:u}),P.forEach(function(q){var K=B({},u);(0,b.keys)(K).map(function(H){q.__isSymbOvrd(H)&&delete K[H]}),q.set(K,B({fromInstance:f},h))})}}},{key:"__upSymbCls",value:function(l,f){var h=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=this.__getSymbToUp(u);this.__logSymbol("classes",d,{opts:u}),d.forEach(function(P){P.set("classes",h.get("classes"),{fromInstance:h})}),this.__changesUp(u)}},{key:"__upSymbComps",value:function(l,f,h){var u=this,d=h||f||{},P={fromInstance:d.fromInstance,fromUndo:d.fromUndo},q=l.opt.temporary;if(h)if(h.add){var K=[],H=!!this.__getSymbols(),w=this.__getSymbToUp(B(B({},P),{},{changed:"components:add"}));if(w.length){var M=l.__getSymbol();K=(M?M.__getSymbols():l.__getSymbols())||[],(K=(0,_e.Z)(K)).push(M||l)}!q&&this.__logSymbol("add",w,{opts:h,addedInstances:K.map(function(we){return we.cid}),added:l.cid}),w.forEach(function(we){var De=we.__getSymbTop(),Ge=K.filter(function(Ke){var bt=Ke.__getSymbTop({prev:1});return De&&bt&&bt===De})[0]||l.clone({symbol:1,symbolInv:H});we.append(Ge,B({fromInstance:u},h))})}else{var J=l.__getSymbol();if(J&&!h.temporary&&J.set(a,J.__getSymbols().filter(function(we){return we!==l})),!l.__isSymbolTop()){var Oe="components:remove",Re=h.index,Ye=l.parent(),Ve=B({fromInstance:l},h),Se=l.__isSymbolNested(),je=function(we){var De=we.parent();De&&!De.__isSymbOvrd(Oe)&&we.remove(Ve)},x=Ye.__isSymbOvrd(Oe)?[]:l.__getSymbToUp(P);Se&&(x=Ye.__getSymbToUp(B(B({},P),{},{changed:Oe})),je=function(we){var De=we.components().at(Re);De&&De.remove(B({fromInstance:Ye},Ve))}),!q&&this.__logSymbol("remove",x,{opts:h,removed:l.cid,isSymbNested:Se}),x.forEach(je)}}else{var re=this.__getSymbToUp(B(B({},P),{},{changed:"components:reset"}));this.__logSymbol("reset",re,{components:l.models}),re.forEach(function(we){var De=l.models.map(function(Ge){return Ge.clone({symbol:1})});we.components().reset(De,B({fromInstance:u},f))})}this.__changesUp(d)}},{key:"initClasses",value:function(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u="change:classes",d=this.get("attributes").class||[],P=[this,u,this.initClasses],q=this.get("classes")||d,K=(0,b.isString)(q)?q.split(" "):q;this.stopListening.apply(this,P);var H=this.normalizeClasses(K),w=new R.Z([]);return this.set("classes",w,h),w.add(H),w.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,P),this}},{key:"initComponents",value:function(){var l=[this,"change:components",this.initComponents];this.stopListening.apply(this,l);var f=new ae.Z(null,this.opt);f.parent=this;var h=this.get("components"),u=!this.opt.avoidChildren;return this.set("components",f),u&&h&&f.add((0,b.isFunction)(h)?h(this):h,this.opt),f.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,l),this}},{key:"initTraits",value:function(l){var f=this.em,h="change:traits";this.off(h,this.initTraits),this.__loadTraits();var u=B({},this.get("attributes")),d=this.get("traits");return d.each(function(P){if(!P.get("changeProp")){var q=P.get("name"),K=P.getInitValue();q&&K&&(u[q]=K)}}),d.length&&this.set("attributes",u),this.on(h,this.initTraits),l&&f&&f.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var l="script-props",f=["change:".concat(l),this.initScriptProps];this.off.apply(this,f);var h=this.previous(l)||[],u=this.get(l)||[],d=h.map(function(q){return"change:".concat(q)}).join(" "),P=u.map(function(q){return"change:".concat(q)}).join(" ");d&&this.off(d,this.__scriptPropsChange),P&&this.on(P,this.__scriptPropsChange),this.on.apply(this,f)}}},{key:"__scriptPropsChange",value:function(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};h.avoidStore||this.trigger("rerender")}},{key:"append",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=(0,b.isArray)(l)?l:[l],u=h.map(function(P){return(0,b.isString)(P)||P.collection&&P.collection.remove(P,{temporary:1}),P}),d=this.components().add(u,f);return(0,b.isArray)(d)?d:[d]}},{key:"components",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=this.get("components");return(0,b.isUndefined)(l)?h:(h.reset(null,f),l?this.append(l,f):[])}},{key:"getChildAt",value:function(l){return this.components().at(l||0)||null}},{key:"getLastChild",value:function(){var l=this.components();return l.at(l.length-1)||null}},{key:"empty",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.components().reset(null,l),this}},{key:"parent",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.collection||l.prev&&this.prevColl;return f?f.parent:null}},{key:"parents",value:function(){var l=this.parent();return l?[l].concat(l.parents()):[]}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var l=this.em,f=this,h=l&&l.getConfig().stylePrefix||"";if(!f.get("toolbar")&&l){var u=[];f.collection&&u.push({label:l.getIcon("arrowUp"),command:function(d){return d.runCommand("core:component-exit",{force:1})}}),f.get("draggable")&&u.push({attributes:{class:"".concat(h,"no-touch-actions"),draggable:!0},label:l.getIcon("move"),command:"tlb-move"}),f.get("copyable")&&u.push({label:l.getIcon("copy"),command:"tlb-clone"}),f.get("removable")&&u.push({label:l.getIcon("delete"),command:"tlb-delete"}),f.set("toolbar",u)}}},{key:"__loadTraits",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=l||this.get("traits");if(!(h instanceof A)){h=(0,b.isFunction)(h)?h(this):h;var u=new A([],this.opt);u.setTarget(this),h.length&&(h.forEach(function(d){return d.attributes&&delete d.attributes.value}),u.add(h)),this.set({traits:u},f)}return this}},{key:"getTraits",value:function(){return this.__loadTraits(),(0,_e.Z)(this.get("traits").models)}},{key:"setTraits",value:function(l){var f=(0,b.isArray)(l)?l:[l];return this.set({traits:f}),this.getTraits()}},{key:"getTrait",value:function(l){return this.getTraits().filter(function(f){return f.get("id")===l||f.get("name")===l})[0]||null}},{key:"updateTrait",value:function(l,f){var h,u=this.getTrait(l);return u&&u.set(f),(h=this.em)===null||h===void 0||h.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(l){var f=this.getTrait(l);return f?this.get("traits").indexOf(f):-1}},{key:"removeTrait",value:function(l){var f,h=this,u=((0,b.isArray)(l)?l:[l]).map(function(q){return h.getTrait(q)}),d=this.get("traits"),P=u.length?d.remove(u):[];return(f=this.em)===null||f===void 0||f.trigger("component:toggled"),(0,b.isArray)(P)?P:[P]}},{key:"addTrait",value:function(l){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__loadTraits();var u=this.get("traits").add(l,h);return(f=this.em)===null||f===void 0||f.trigger("component:toggled"),(0,b.isArray)(u)?u:[u]}},{key:"normalizeClasses",value:function(l){var f=[],h=this.em,u=h&&h.get("SelectorManager");if(u)return l.models?(0,_e.Z)(l.models):(l.forEach(function(d){return f.push(u.add(d))}),f)}},{key:"clone",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.em,h=B({},this.attributes),u=B({},this.opt),d=this.getId(),P=f&&f.get("CssComposer");h.attributes=B({},h.attributes),delete h.attributes.id,h.components=[],h.classes=[],h.traits=[],this.__isSymbolTop()&&(l.symbol=1),this.get("components").each(function(Oe,Re){h.components[Re]=Oe.clone(B(B({},l),{},{_inner:1}))}),this.get("traits").each(function(Oe,Re){h.traits[Re]=Oe.clone()}),this.get("classes").each(function(Oe,Re){h.classes[Re]=Oe.get("name")}),h.status="",u.collection=null;var q=new this.constructor(h,u),K="#".concat(q.getId()),H=P?P.getRules("#".concat(d)):[];H.forEach(function(Oe){var Re=Oe.clone();Re.set("selectors",[K]),P.getAll().add(Re)}),q.set(a,0);var w=this.__getSymbol(),M=this.__getSymbols();l.symbol||!w&&!M?w?(w.set(a,[].concat((0,_e.Z)(w.__getSymbols()),[q])),q.__initSymb()):l.symbol&&(this.__isSymbol()?(this.set(a,[].concat((0,_e.Z)(M),[q])),q.set(c,this),q.__initSymb()):l.symbolInv?(this.set(a,[q]),q.set(c,this),[this,q].map(function(Oe){return Oe.__initSymb()})):(q.set(a,[this]),[this,q].map(function(Oe){return Oe.__initSymb()}),this.set(c,q))):(q.set(c,0),q.set(a,0));var J="component:clone";return f&&f.trigger(J,q),this.trigger(J,q),q}},{key:"getName",value:function(){var l=this.em,f=this.attributes,h=f.type,u=f.tagName,d=f.name,P=h||u,q=!h&&u,K="domComponents.names.",H=d&&(l==null?void 0:l.t("".concat(K).concat(d))),w=q&&(l==null?void 0:l.t("".concat(K).concat(q))),M=l&&(l.t("".concat(K).concat(h))||l.t("".concat(K).concat(u)));return this.get("custom-name")||H||d||w||(0,T.capitalize)(q)||M||(0,T.capitalize)(P)}},{key:"getIcon",value:function(){var l=this.get("icon");return l?l+" ":""}},{key:"toHTML",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this,h=[],u=l.tag,d=u||f.get("tagName"),P=f.get("void"),q=l.attributes,K=this.getAttrToHTML();if(delete l.tag,q&&((0,b.isFunction)(q)?K=q(f,K)||{}:(0,T.isObject)(q)&&(K=q)),l.withProps){var H=this.toJSON();(0,b.forEach)(H,function(Se,je){je[0]!=="_"&&["classes","attributes","components"].indexOf(je)<0&&(K["data-gjs-".concat(je)]=(0,b.isArray)(Se)||(0,T.isObject)(Se)?JSON.stringify(Se):Se)})}for(var w in K){var M=K[w];if(!(0,b.isUndefined)(M)&&M!==null)if((0,b.isBoolean)(M))M&&h.push(w);else{var J="";if(l.altQuoteAttr&&(0,b.isString)(M)&&M.indexOf('"')>=0)J="'".concat(M.replace(/'/g,"&apos;"),"'");else{var Oe=(0,b.isString)(M)?M.replace(/"/g,"&quot;"):M;J='"'.concat(Oe,'"')}h.push("".concat(w,"=").concat(J))}}var Re=h.length?" ".concat(h.join(" ")):"",Ye=f.getInnerHTML(l),Ve="<".concat(d).concat(Re).concat(P?"/":"",">").concat(Ye);return!P&&(Ve+="</".concat(d,">")),Ve}},{key:"getInnerHTML",value:function(l){return this.__innerHTML(l)}},{key:"__innerHTML",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.components();return f.length?f.map(function(h){return h.toHTML(l)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var l=this.getAttributes();return delete l.style,l}},{key:"toJSON",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=s.Model.prototype.toJSON.call(this,l);if(f.attributes=this.getAttributes(),delete f.attributes.class,delete f.toolbar,delete f.traits,delete f.status,delete f.open,!l.fromUndo){var h=f[c],u=f[a];u&&(0,b.isArray)(u)&&(f[a]=u.filter(function(d){return d}).map(function(d){return d.getId?d.getId():d})),h&&!(0,b.isString)(h)&&(f[c]=h.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(f),f}},{key:"getChangedProps",value:function(l){var f=l||s.Model.prototype.toJSON.apply(this),h=(0,b.result)(this,"defaults");return(0,b.forEach)(h,function(u,d){["type"].indexOf(d)===-1&&f[d]===u&&delete f[d]}),(0,b.isEmpty)(f.type)&&delete f.type,(0,b.forEach)(["attributes","style"],function(u){(0,b.isEmpty)(h[u])&&(0,b.isEmpty)(f[u])&&delete f[u]}),(0,b.forEach)(["classes","components"],function(u){(!f[u]||(0,b.isEmpty)(h[u])&&!f[u].length)&&delete f[u]}),f}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(l,f){var h=B({},this.get("attributes"));return h.id=l,this.set("attributes",h,f),this}},{key:"getEl",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,f=this.getView(l);return f&&f.el}},{key:"getView",value:function(l){var f=this.view,h=this.views;return l&&(f=h.filter(function(u){return u._getFrame()===l.view})[0]),f}},{key:"getCurrentView",value:function(){var l=(this.em.get("currentFrame")||{}).model;return this.getView(l)}},{key:"__getScriptProps",value:function(){var l=this.props();return(this.get("script-props")||[]).reduce(function(f,h){return f[h]=l[h],f},{})}},{key:"getScriptString",value:function(l){var f=this,h=l||this.get("script");if(!h)return h;if(this.get("script-props"))h=h.toString().trim();else{if(typeof h=="function"){var u=h.toString().trim();h=(u=u.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var d=this.em.getConfig(),P=ie(d.tagVarStart||"{[ "),q=ie(d.tagVarEnd||" ]}"),K=new RegExp("".concat(P,"([\\w\\d-]*)").concat(q),"g");h=h.replace(K,function(H,w){f.scriptUpdated();var M=f.attributes[w]||"";return(0,b.isArray)(M)||(0,ve.Z)(M)=="object"?JSON.stringify(M):M})}return h}},{key:"emitUpdate",value:function(l){for(var f=this.em,h=S+(l?":".concat(l):""),u=l&&this.get(l),d=arguments.length,P=new Array(d>1?d-1:0),q=1;q<d;q++)P[q-1]=arguments[q];l&&this.updated.apply(this,[l,u,l&&this.previous(l)].concat(P)),this.trigger.apply(this,[h].concat(P)),f&&f.trigger.apply(f,[h,this].concat(P)),["components","classes"].indexOf(l)>=0&&this.__propSelfToParent({component:this,changed:{[l]:u},options:P[2]||P[1]||{}})}},{key:"onAll",value:function(l){return(0,b.isFunction)(l)&&(l(this),this.components().forEach(function(f){return f.onAll(l)})),this}},{key:"remove",value:function(){var l=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=this.em,u=this.collection,d=function(){u&&u.remove(l,B(B({},f),{},{action:"remove-component"})),u||(l.components("",f),l.components().removeChildren(l,null,f))},P=B({},f);return[this,h].map(function(q){return q.trigger("component:remove:before",l,d,P)}),!P.abort&&d(),this}},{key:"move",value:function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var h=f.at,u=this.index(),d=l===this.parent(),P=u===h||u===h-1;d&&P||(d&&h&&h>u&&(f.at=h-1),this.remove({temporary:1}),l.append(this,f),this.emitUpdate())}return this}},{key:"isInstanceOf",value:function(l){var f,h,u=(f=this.em)===null||f===void 0||(h=f.get("DomComponents").getType(l))===null||h===void 0?void 0:h.model;return!!u&&this instanceof u}},{key:"isChildOf",value:function(l){for(var f=(0,b.isString)(l),h=this.parent();h;){if(f){if(h.isInstanceOf(l))return!0}else if(h===l)return!0;h=h.parent()}return!1}},{key:"resetId",value:function(){var l=this.em,f=this.getId();if(f){var h=C.createId(this);this.setId(h);var u=l&&l.get("CssComposer").getIdRule(f),d=u&&u.get("selectors").at(0);return d&&d.set("name",h),this}}},{key:"_getStyleRule",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=l.id,h=this.em,u=f||this.getId();return h&&h.get("CssComposer").getIdRule(u)}},{key:"_getStyleSelector",value:function(l){var f=this._getStyleRule(l);return f&&f.get("selectors").at(0)}},{key:"_idUpdated",value:function(l,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!h.idUpdate){var u=this.ccid,d=this.get("attributes")||{},P=d.id,q=(this.previous("attributes")||{}).id||u,K=C.getList(this);if(K[P]||!P&&q)return this.setId(q,{idUpdate:1});delete K[q],K[P]=this,this.ccid=P;var H=this._getStyleSelector({id:q});H&&H.set({name:P,label:P})}}}]),C}(V.Z);le.getDefaults=function(){return(0,b.result)(this.prototype,"defaults")},le.isComponent=function(D){return{tagName:(0,T.toLowerCase)(D.tagName)}},le.ensureInList=function(D){var I=le.getList(D),C=D.getId(),l=I[C];if(l){if(l!==D){var f=le.getIncrementId(C,I);D.setId(f),I[f]=D}}else I[C]=D;D.components().forEach(function(h){return le.ensureInList(h)})},le.createId=function(D){var I,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=le.getList(D),f=C.idMap,h=f===void 0?{}:f,u=D.get("attributes"),d=u.id;return d?(I=le.getIncrementId(d,l,C),D.setId(I),d!==I&&(h[d]=I)):I=le.getNewId(l),l[I]=D,I},le.getNewId=function(D){for(var I=Object.keys(D).length.toString().length+2,C=(Math.random()+1.1).toString(36).slice(-I),l="i".concat(C);D[l];)l=le.getNewId(D);return l},le.getIncrementId=function(D,I){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=C.keepIds,f=l===void 0?[]:l,h=1,u=D;if(f.indexOf(D)<0)for(;I[u];)h++,u="".concat(D,"-").concat(h);return u},le.getList=function(D){var I=D.opt,C=I===void 0?{}:I,l=C.domc,f=C.em,h=l||f&&f.get("DomComponents");return h?h.componentsById:{}},le.checkId=function(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=(0,b.isArray)(D)?D:[D],h=l.keepIds,u=h===void 0?[]:h;f.forEach(function(d){var P=d.attributes,q=P===void 0?{}:P,K=d.components,H=q.id;if(H&&C[H]&&u.indexOf(H)<0){var w=le.getIncrementId(H,C);q.id=w,(0,b.isArray)(I)&&I.forEach(function(M){var J=M.selectors;J.forEach(function(Oe,Re){Oe==="#".concat(H)&&(J[Re]="#".concat(w))})})}K&&le.checkId(K,I,C,l)})}},8431:(gt,Ze,_)=>{_.d(Ze,{Z:()=>he});var ve=_(1002),_e=_(2982),fe=_(5671),de=_(3144),ue=_(7326),ne=_(9340),X=_(2963),ee=_(1120),j=_(4942),m=_(4925),b=_(2316),T=_.n(b),V=_(9050),s=_(9138),ae=["id","draggable"],$=["at"];function R(A){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var B,W=(0,ee.Z)(A);if(z){var ie=(0,ee.Z)(this).constructor;B=Reflect.construct(W,arguments,ie)}else B=W.apply(this,arguments);return(0,X.Z)(this,B)}}function Z(A,z){var B=Object.keys(A);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(A);z&&(W=W.filter(function(ie){return Object.getOwnPropertyDescriptor(A,ie).enumerable})),B.push.apply(B,W)}return B}function L(A){for(var z=1;z<arguments.length;z++){var B=arguments[z]!=null?arguments[z]:{};z%2?Z(Object(B),!0).forEach(function(W){(0,j.Z)(A,W,B[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(B)):Z(Object(B)).forEach(function(W){Object.defineProperty(A,W,Object.getOwnPropertyDescriptor(B,W))})}return A}var te=function A(z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!z)return[];var W=(0,V.isArray)(z)||(0,V.isFunction)(z.map)?z:[z];return W.map(function(ie){B.push(ie.getId()),A(ie.components().models,B)}),B},xe=function A(z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};W.visitedCmps=W.visitedCmps||{};var ie=W.visitedCmps,E=(0,V.isArray)(z)?z:[z];return E.map(function(O){var a=O.attributes,c=a===void 0?{}:a,g=O.components,S=O.tagName,se=c.id,le=(c.draggable,(0,m.Z)(c,ae)),D=O;if(se&&(ie[se]?(ie[se].push(D),se=s.ZP.getNewId(B),D.attributes.id=se):(ie[se]=[],B[se]&&(D=B[se],S&&D.set({tagName:S},L(L({},W),{},{silent:!0})),(0,V.keys)(le).length&&D.addAttributes(le,L({},W))))),g){var I=A(g,B);if((0,V.isFunction)(D.components)){var C=D.components();C.length>0&&C.reset(I,W)}else D.components=I}return D})},he=function(A){(0,ne.Z)(B,A);var z=R(B);function B(){var W;(0,fe.Z)(this,B);for(var ie=arguments.length,E=new Array(ie),O=0;O<ie;O++)E[O]=arguments[O];return W=z.call.apply(z,[this].concat(E)),(0,j.Z)((0,ue.Z)(W),"__onAddEnd",(0,V.debounce)(function(){})),W}return(0,de.Z)(B,[{key:"initialize",value:function(W){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.opt=ie,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var E=ie.em,O=ie.config;this.config=O,this.em=E,this.domc=ie.domc||E&&E.get("DomComponents")}},{key:"resetChildren",value:function(W){var ie=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=this,a=E.previousModels||[],c=a.filter(function(S){return!W.get(S.cid)}),g=te(W);E.keepIds=te(a).filter(function(S){return g.indexOf(S)>=0}),c.forEach(function(S){return ie.removeChildren(S,O,E)}),W.each(function(S){return ie.onAdd(S)})}},{key:"resetFromString",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ie.keepIds=te(this);var E=this.domc,O=this.em,a=this.parent,c=O==null?void 0:O.get("CssComposer"),g=(E==null?void 0:E.allById())||{},S=this.parseString(W,ie),se=xe(S,g,ie),le=ie.visitedCmps,D=le===void 0?{}:le;Object.keys(D).forEach(function(I){var C=D[I];if(C.length){var l=(c==null?void 0:c.getRules("#".concat(I)))||[];l.length&&C.forEach(function(f){l.forEach(function(h){var u=h.clone();u.set("selectors",["#".concat(f.attributes.id)]),c.getAll().add(u)})})}}),this.reset(se,ie),O==null||O.trigger("component:content",a,ie,W)}},{key:"removeChildren",value:function(W,ie){var E=this,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(W){var a=this.domc,c=this.em,g=O.temporary||O.fromUndo;if(W.prevColl=this,!g){var S=W.getId(),se=c.get("SelectorManager").getAll(),le=c.get("CssComposer").getAll(),D=(O.keepIds||[]).indexOf(S)<0,I=a?a.allById():{};delete I[S];var C=D?le.remove(le.filter(function(h){return h.getSelectors().getFullString()==="#".concat(S)}),O):[];se.remove(C.map(function(h){return h.getSelectors().at(0)})),W.opt.temporary||(c.get("Commands").run("core:component-style-clear",{target:W}),W.removed(),W.trigger("removed"),c.trigger("component:remove",W));var l=W.components();l.forEach(function(h){return E.removeChildren(h,ie,O)})}var f=W.components();c.stopListening(f),c.stopListening(W),c.stopListening(W.get("classes")),W.__postRemove()}}},{key:"model",value:function(W,ie){var E,O=ie.collection.opt,a=O.em,c=a.get("DomComponents").componentTypes;ie.em=a,ie.config=O.config,ie.componentTypes=c,ie.domc=O.domc;for(var g=0;g<c.length;g++)if(c[g].id==W.type){E=c[g].model;break}return E||(E=c[c.length-1].model,a&&W.type&&a.logWarning("Component type '".concat(W.type,"' not found"),{attrs:W,options:ie})),new E(W,ie)}},{key:"parseString",value:function(W){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=this.em,O=this.domc,a=E.get("CssComposer"),c=E.get("Parser").parseHtml(W);if(s.ZP.checkId(c.html,c.css,O.componentsById,ie),c.css&&a&&!ie.temporary){ie.at;var g=(0,m.Z)(ie,$);a.addCollection(c.css,L(L({},g),{},{extend:1}))}return c.html}},{key:"add",value:function(W){var ie=this,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};E.keepIds=[].concat((0,_e.Z)(E.keepIds||[]),(0,_e.Z)(te(E.previousModels))),(0,V.isString)(W)?W=this.parseString(W,E):(0,V.isArray)(W)&&(W=(0,_e.Z)(W)).forEach(function(c,g){if((0,V.isString)(c)){var S=ie.parseString(c,E);W[g]=(0,V.isArray)(S)&&!S.length?null:S}});var O=(0,V.isArray)(W);W=(O?W:[W]).filter(function(c){return c}).map(function(c){return ie.processDef(c)}),W=O?(0,V.flatten)(W,1):W[0];var a=T().Collection.prototype.add.apply(this,[W,E]);return this.__firstAdd=a,a}},{key:"processDef",value:function(W){if(W.cid&&W.ccid)return W;var ie=this.em,E=this.config,O=(E===void 0?{}:E).processor,a=W;if(O){var c=O(a=L({},a));c&&((0,V.each)(a,function(I,C){return delete a[C]}),(0,V.extend)(a,c))}if(a.$$typeof&&(0,ve.Z)(a.props)=="object"){(a=L({},a)).props=L({},a.props);var g=ie.get("DomComponents"),S=ie.get("Parser").parserHtml;(0,V.each)(a,function(I,C){(0,V.includes)(["props","type"],C)||delete a[C]});var se=a.props,le=se.children;delete se.children,delete a.props;var D=S.splitPropsFromAttr(se);a.attributes=D.attrs,le&&(a.components=le),a.type?g.getType(a.type)||(a.tagName=a.type,delete a.type):a.type="textnode",(0,V.extend)(a,D.props)}return a}},{key:"onAdd",value:function(W,ie){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=this.domc,a=this.em,c=W.getStyle(),g=a&&a.getConfig().avoidInlineStyle;if(O&&O.Component.ensureInList(W),!(0,V.isEmpty)(c)&&!g&&a&&a.get&&a.getConfig().forceClass&&!E.temporary){var S=W.cid;a.get("CssComposer").setClassRule(S,c),W.setStyle({}),W.addClass(S)}W.__postAdd({recursive:1}),this.__onAddEnd()}}]),B}(T().Collection)},2169:(gt,Ze,_)=>{_.d(Ze,{Z:()=>Z});var ve=_(4942),_e=_(5671),fe=_(3144),de=_(9340),ue=_(2963),ne=_(1120),X=_(2316),ee=_.n(X),j=_(9050),m=_(8431),b=_(3505),T=_(966),V=_(9283),s=_(1163);function ae(L,te){var xe=Object.keys(L);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(L);te&&(he=he.filter(function(A){return Object.getOwnPropertyDescriptor(L,A).enumerable})),xe.push.apply(xe,he)}return xe}function $(L){for(var te=1;te<arguments.length;te++){var xe=arguments[te]!=null?arguments[te]:{};te%2?ae(Object(xe),!0).forEach(function(he){(0,ve.Z)(L,he,xe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(xe)):ae(Object(xe)).forEach(function(he){Object.defineProperty(L,he,Object.getOwnPropertyDescriptor(xe,he))})}return L}function R(L){var te=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var xe,he=(0,ne.Z)(L);if(te){var A=(0,ne.Z)(this).constructor;xe=Reflect.construct(he,arguments,A)}else xe=he.apply(this,arguments);return(0,ue.Z)(this,xe)}}var Z=function(L){(0,de.Z)(xe,L);var te=R(xe);function xe(){return(0,_e.Z)(this,xe),te.apply(this,arguments)}return(0,fe.Z)(xe,[{key:"className",value:function(){return this.getClasses()}},{key:"tagName",value:function(){return this.model.get("tagName")}},{key:"initialize",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=this.model,z=he.config||{},B=z.em,W=A.opt||{},ie=this.$el,E=this.el;this.opts=he,this.modelOpt=W,this.config=z,this.em=B||"",this.pfx=z.stylePrefix||"",this.ppfx=z.pStylePrefix||"",this.attr=A.get("attributes"),this.classe=this.attr.class||[],this.listenTo(A,"change:style",this.updateStyle),this.listenTo(A,"change:attributes",this.renderAttributes),this.listenTo(A,"change:highlightable",this.updateHighlight),this.listenTo(A,"change:status change:locked",this.updateStatus),this.listenTo(A,"change:script rerender",this.reset),this.listenTo(A,"change:content",this.updateContent),this.listenTo(A,"change",this.handleChange),this.listenTo(A,"active",this.onActive),this.listenTo(A,"disable",this.onDisable),ie.data("model",A),(0,s.setViewEl)(E,this),A.view=this,this._getFrame()&&A.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=$($({},this.constructor.getEvents()),{},{dragstart:"handleDragStart"}),this.delegateEvents(),!W.temporary&&this.init(this._clbObj())}},{key:"__isDraggable",value:function(){var he=this.model,A=this.config,z=he.attributes.draggable;return A.draggableComponents&&z}},{key:"_clbObj",value:function(){var he=this.em,A=this.model,z=this.el;return{editor:he&&he.getEditor(),model:A,el:z}}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onActive",value:function(){}},{key:"onDisable",value:function(){}},{key:"remove",value:function(){var he;ee().View.prototype.remove.apply(this,arguments);var A=this.model,z=this.$el,B=A.views,W=this._getFrame()||{};return A.components().forEach(function(ie){var E=ie.getView(W.model);E==null||E.remove()}),(he=this.childrenView)===null||he===void 0||he.remove(),B.splice(B.indexOf(this),1),this.removed(this._clbObj()),z.data({model:"",collection:"",view:""}),this}},{key:"handleDragStart",value:function(he){if(!this.__isDraggable())return!1;he.stopPropagation(),he.preventDefault(),this.em.get("Commands").run("tlb-move",{target:this.model,event:he})}},{key:"initClasses",value:function(){var he=this.model,A="change:classes",z=he.get("classes");z instanceof T.Z&&(this.stopListening(he,A,this.initClasses),this.listenTo(he,A,this.initClasses),this.listenTo(z,"add remove change",this.updateClasses),z.length&&this.importClasses())}},{key:"initComponents",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=this.model,z=this.$el,B=this.childrenView,W="change:components",ie=A.get("components"),E=[A,W,this.initComponents];ie instanceof m.Z&&(z.data("collection",ie),B&&B.remove(),this.stopListening.apply(this,E),!he.avoidRender&&this.renderChildren(),this.listenTo.apply(this,E))}},{key:"handleChange",value:function(){var he=this.model,A=(0,j.keys)(he.changed);if(A.length!==1||A[0]!=="status")for(var z in he.emitUpdate(),he.changed)he.emitUpdate(z)}},{key:"importClasses",value:function(){var he=this.config.em.get("SelectorManager");he&&this.model.get("classes").each(function(A){he.add(A.get("name"))})}},{key:"updateStatus",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=this.em,z=this.el,B=this.ppfx,W=this.model,ie=A?A.get("Canvas").getConfig():{},E=ie.extHl,O=W.get("status"),a="".concat(B,"selected"),c="".concat(a,"-parent"),g="".concat(B,"freezed"),S="".concat(B,"hovered"),se="".concat(B,"no-pointer"),le=[a,c,g,S,se],D=E&&!he.noExtHl?"":a;this.$el.removeClass(le.join(" "));var I=z.getAttribute("class")||"",C=[I];switch(O){case"selected":C.push(D);break;case"selected-parent":C.push(c);break;case"freezed":C.push(g);break;case"freezed-selected":C.push(g,D);break;case"hovered":!he.avoidHover&&C.push(S)}W.get("locked")&&C.push(se);var l=C.filter(Boolean).join(" ");l&&z.setAttribute("class",l)}},{key:"updateHighlight",value:function(){var he=this.model,A=he.get("textable"),z=he.get("highlightable")&&(A||!he.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!z||"")}},{key:"updateStyle",value:function(he,A){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},B=this.model,W=this.em;if(W&&W.getConfig().avoidInlineStyle&&!z.inline){var ie=B.getStyle();!(0,j.isEmpty)(ie)&&B.setStyle(ie)}else this.setAttribute("style",B.styleToString(z))}},{key:"updateClasses",value:function(){var he=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",he),this.updateStatus(),this.onAttrUpdate()}},{key:"setAttribute",value:function(he,A){var z=this.$el;A?z.attr(he,A):z.removeAttr(he)}},{key:"getClasses",value:function(){return this.model.getClasses().join(" ")}},{key:"updateAttributes",value:function(){var he=[],A=this.model,z=this.$el,B=this.el,W=A.attributes,ie=W.textable,E=W.type,O=$($({id:A.getId(),"data-gjs-type":E||"default"},this.__isDraggable()&&{draggable:!0}),ie&&{contenteditable:"false"});(0,j.each)(B.attributes,function(c){return he.push(c.nodeName)}),he.forEach(function(c){return z.removeAttr(c)}),this.updateStyle(),this.updateHighlight();var a=$($({},O),A.getAttributes());(0,j.keys)(a).forEach(function(c){return a[c]===!1&&delete a[c]}),z.attr(a)}},{key:"updateContent",value:function(){var he=this.model.get("content"),A=this.model.components().length;this.getChildrenContainer().innerHTML=A?"":he}},{key:"prevDef",value:function(he){he.preventDefault()}},{key:"updateScript",value:function(){var he=this.model,A=this.em;he.get("script")&&A&&A.get("Canvas").getCanvasView().updateScript(this)}},{key:"getChildrenContainer",value:function(){var he=this.el;return typeof this.getChildrenSelector=="function"?he=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,he}},{key:"getOffsetRect",value:function(){var he={},A=this.el,z=0,B=0;return function W(ie){var E=ie.offsetParent;E?(z+=E.offsetTop,B+=E.offsetLeft,W(E)):(he.top=A.offsetTop+z,he.left=A.offsetLeft+B,he.bottom=he.top+A.offsetHeight,he.right=he.left+A.offsetWidth)}(A),he}},{key:"isInViewport",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=he.rect,z=this.el,B=z.ownerDocument,W=B.body,ie=B.defaultView.frameElement,E=A||this.getOffsetRect(),O=E.top,a=E.left,c=this._getFrame().getOffsetRect();return O>=c.scrollTop&&a>=c.scrollLeft&&O<=c.scrollBottom&&a<=ie.offsetWidth+W.scrollLeft}},{key:"scrollIntoView",value:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=this.getOffsetRect(),z=this.isInViewport({rect:A});if(!z||he.force){var B=this.el;he.behavior!=="smooth"?B.ownerDocument.defaultView.scrollTo(0,A.top):B.scrollIntoView($({behavior:"smooth",block:"nearest"},he))}}},{key:"reset",value:function(){var he=this.el;this.el="",this._ensureElement(),this._setData(),(0,V.dL)(he,this.el),this.render()}},{key:"_setData",value:function(){var he=this.model,A=he.components();this.$el.data({model:he,collection:A,view:this})}},{key:"_getFrame",value:function(){var he;return(he=this.config.em)===null||he===void 0?void 0:he.get("Canvas").config.frameView}},{key:"renderChildren",value:function(){this.updateContent();var he=this.getChildrenContainer(),A=this.childrenView||new b.Z({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});A.render(he),this.childrenView=A;for(var z=Array.prototype.slice.call(A.el.childNodes),B=0,W=z.length;B<W;B++)he.appendChild(z.shift())}},{key:"renderAttributes",value:function(){this.updateAttributes(),this.updateClasses()}},{key:"onAttrUpdate",value:function(){}},{key:"render",value:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,s.setViewEl)(this.el,this),this.postRender()),this}},{key:"postRender",value:function(){this.modelOpt.temporary||this.onRender(this._clbObj())}},{key:"onRender",value:function(){}}]),xe}(ee().View);Z.getEvents=function(){return(0,j.result)(this.prototype,"events")}},3505:(gt,Ze,_)=>{_.d(Ze,{Z:()=>b});var ve=_(5671),_e=_(3144),fe=_(9340),de=_(2963),ue=_(1120),ne=_(2316),X=_.n(ne),ee=_(9050),j=_(9283);function m(T){var V=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var s,ae=(0,ue.Z)(T);if(V){var $=(0,ue.Z)(this).constructor;s=Reflect.construct(ae,arguments,$)}else s=ae.apply(this,arguments);return(0,de.Z)(this,s)}}var b=function(T){(0,fe.Z)(s,T);var V=m(s);function s(){return(0,ve.Z)(this,s),V.apply(this,arguments)}return(0,_e.Z)(s,[{key:"initialize",value:function(ae){this.opts=ae||{},this.config=ae.config||{},this.em=this.config.em;var $=this.collection;this.listenTo($,"add",this.addTo),this.listenTo($,"reset",this.resetChildren),this.listenTo($,"remove",this.removeChildren)}},{key:"removeChildren",value:function(ae,$){var R=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};ae.views.forEach(function(te){if(te){var xe=te.childrenView,he=te.scriptContainer;xe&&xe.stopListening(),(0,j.L_)(he),te.remove.apply(te)}});var L=ae.components();L.forEach(function(te){return R.removeChildren(te,$,Z)})}},{key:"addTo",value:function(ae){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=this.config.em,Z=this.collection.indexOf(ae);if(this.addToCollection(ae,null,Z),R&&!$.temporary){var L=function te(xe){R.trigger("component:add",xe),xe.components().forEach(function(he){return te(he)})};L(ae)}}},{key:"addToCollection",value:function(ae,$,R){this.compView||(this.compView=_(2169).Z);for(var Z=this.config,L=this.opts,te=this.em,xe=$||null,he=Z.frameView,A=he===void 0?{}:he,z=A.model&&ae.getView(A.model),B=L.componentTypes||te&&te.get("DomComponents").getTypes(),W=ae.get("type")||"default",ie=this.compView,E=0;E<B.length;E++)if(B[E].id==W){ie=B[E].view;break}var O,a=z||new ie({model:ae,config:Z,componentTypes:B});try{O=a.render().el}catch(se){O=document.createTextNode(""),te.logError(se)}if(xe)xe.appendChild(O);else{var c=this.parentEl,g=c.childNodes;if((0,ee.isUndefined)(R))c.appendChild(O);else{var S=g.length==R;S&&R--,S||!g.length?c.appendChild(O):c.insertBefore(O,g[R])}}return ae.opt.temporary||te==null||te.trigger("component:mount",ae),O}},{key:"resetChildren",value:function(ae){var $=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=R.previousModels,L=Z===void 0?[]:Z;this.parentEl.innerHTML="",L.forEach(function(te){return $.removeChildren(te,$.collection)}),ae.each(function(te){return $.addToCollection(te)})}},{key:"render",value:function(ae){var $=this,R=this.el,Z=document.createDocumentFragment();return this.parentEl=ae||this.el,this.collection.each(function(L){return $.addToCollection(L,Z)}),R.innerHTML="",R.appendChild(Z),this}}]),s}(X().View)},9524:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ae});var ve=_(4942),_e=_(5671),fe=_(3144),de=_(9340),ue=_(2963),ne=_(1120),X=_(9050),ee=_(1163),j=_(5311),m=_(2316);function b($,R){var Z=Object.keys($);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols($);R&&(L=L.filter(function(te){return Object.getOwnPropertyDescriptor($,te).enumerable})),Z.push.apply(Z,L)}return Z}function T($){for(var R=1;R<arguments.length;R++){var Z=arguments[R]!=null?arguments[R]:{};R%2?b(Object(Z),!0).forEach(function(L){(0,ve.Z)($,L,Z[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(Z)):b(Object(Z)).forEach(function(L){Object.defineProperty($,L,Object.getOwnPropertyDescriptor(Z,L))})}return $}function V($){var R=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,L=(0,ne.Z)($);if(R){var te=(0,ne.Z)(this).constructor;Z=Reflect.construct(L,arguments,te)}else Z=L.apply(this,arguments);return(0,ue.Z)(this,Z)}}var s=(0,j.Z)(),ae=function($){(0,de.Z)(Z,$);var R=V(Z);function Z(){return(0,_e.Z)(this,Z),R.apply(this,arguments)}return(0,fe.Z)(Z,[{key:"parseStyle",value:function(L){return s.parseStyle(L)}},{key:"extendStyle",value:function(L){return T(T({},this.getStyle()),L)}},{key:"getStyle",value:function(L){var te=T({},this.get("style")||{});return L&&(0,X.isString)(L)?te[L]:te}},{key:"setStyle",value:function(){var L=this,te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,X.isString)(te)&&(te=this.parseStyle(te));var he=this.getStyle(xe),A=T({},te),z=T({},A);(0,X.keys)(z).forEach(function(W){z[W]===""&&delete z[W]}),this.set("style",z,xe);var B=(0,ee.shallowDiff)(he,A);return delete B.__p,(0,X.keys)(B).forEach(function(W){var ie=L.em;xe.noEvent||(L.trigger("change:style:".concat(W)),ie&&(ie.trigger("styleable:change",L,W,xe),ie.trigger("styleable:change:".concat(W),L,W,xe)))}),A}},{key:"addStyle",value:function(L){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};typeof L=="string"?L={prop:te}:xe=te||{},L=this.extendStyle(L),this.setStyle(L,xe)}},{key:"removeStyle",value:function(L){var te=this.getStyle();delete te[L],this.setStyle(te)}},{key:"styleToString",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=[],xe=this.getStyle(L);for(var he in xe){var A=L.important,z=(0,X.isArray)(A)?A.indexOf(he)>=0:A,B="".concat(xe[he]).concat(z?" !important":""),W=he.substr(0,2)=="__";B&&!W&&te.push("".concat(he,":").concat(B,";"))}return te.join("")}},{key:"getSelectors",value:function(){return this.get("selectors")||this.get("classes")}},{key:"getSelectorsString",value:function(L){return this.selectorsToString?this.selectorsToString(L):this.getSelectors().getFullString()}},{key:"_validate",value:function(L,te){return!0}}]),Z}(m.Model)},793:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ne});var ve=_(4942),_e=_(9050),fe=_(2316);function de(X,ee){var j=Object.keys(X);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(X);ee&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(X,b).enumerable})),j.push.apply(j,m)}return j}function ue(X){for(var ee=1;ee<arguments.length;ee++){var j=arguments[ee]!=null?arguments[ee]:{};ee%2?de(Object(j),!0).forEach(function(m){(0,ve.Z)(X,m,j[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(j)):de(Object(j)).forEach(function(m){Object.defineProperty(X,m,Object.getOwnPropertyDescriptor(j,m))})}return X}const ne={types:[],initialize:function(X){var ee=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=j.em;this.em=m,this.opts=j,this.model=function(){var T,V,s,ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ae&&ae.type){var R=ee.getBaseType();T=(s=ee.getType(ae.type))?s.model:R.model,V=s?s.view:R.view}else{var Z=ee.recognizeType(ae);T=(s=Z.type).model,V=s.view,ae=Z.attributes}var L=new T(ae,ue(ue({},$),{},{em:m}));return L.typeView=V,L};var b=this.init&&this.init.bind(this);b&&b()},recognizeType:function(X){for(var ee=this.getTypes(),j=0;j<ee.length;j++){var m=ee[j],b=m.isType(X);if(b=typeof b=="boolean"&&b?{type:m.id}:b)return{type:m,attributes:b}}return{type:this.getBaseType(),attributes:X}},getBaseType:function(){var X=this.getTypes();return X[X.length-1]},getTypes:function(){return this.types},getType:function(X){for(var ee=this.getTypes(),j=0;j<ee.length;j++){var m=ee[j];if(m.id===X)return m}},addType:function(X,ee){var j=this.getType(X),m=this.getBaseType(),b=j?j.model:m.model,T=j?j.view:m.view,V=ee.model,s=ee.view,ae=ee.isType;V=V instanceof fe.Model||(0,_e.isFunction)(V)?V:b.extend(V||{}),s=s instanceof fe.View||(0,_e.isFunction)(s)?s:T.extend(s||{}),!this.extendViewApi||ee.model||ee.view||(s=s.extend(ee)),j?(j.model=V,j.view=s,j.isType=ae||j.isType):(ee.id=X,ee.model=V,ee.view=s,ee.isType=ae||function($){if($&&$.type==X)return!0},this.getTypes().unshift(ee))}}},8659:(gt,Ze,_)=>{_.d(Ze,{Z:()=>m});var ve=_(5671),_e=_(3144),fe=_(9340),de=_(2963),ue=_(1120),ne=_(2316),X=_.n(ne);function ee(b){var T=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var V,s=(0,ue.Z)(b);if(T){var ae=(0,ue.Z)(this).constructor;V=Reflect.construct(s,arguments,ae)}else V=s.apply(this,arguments);return(0,de.Z)(this,V)}}var j=X().$,m=function(b){(0,fe.Z)(V,b);var T=ee(V);function V(){var s,ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,ve.Z)(this,V),s=T.call(this,ae);var $=ae.ppfx||"";return s.opts=ae,s.ppfx=$,s.em=ae.target||{},!ae.onChange&&s.listenTo(s.model,"change:value",s.handleModelChange),s}return(0,_e.Z)(V,[{key:"template",value:function(){return'<span class="'.concat(this.holderClass(),'"></span>')}},{key:"inputClass",value:function(){return"".concat(this.ppfx,"field")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"setValue",value:function(s){var ae=this.model,$=s||ae.get("defaults"),R=this.getInputEl();R&&(R.value=$)}},{key:"handleModelChange",value:function(s,ae,$){this.setValue(ae,$)}},{key:"handleChange",value:function(s){s.stopPropagation();var ae=this.getInputEl().value;this.__onInputChange(ae),this.elementUpdated()}},{key:"__onInputChange",value:function(s){this.model.set({value:s},{fromInput:1})}},{key:"getInputEl",value:function(){if(!this.inputEl){var s=this.model,ae=this.opts.type||"text",$=s.get("placeholder")||s.get("defaults")||s.get("default")||"";this.inputEl=j('<input type="'.concat(ae,'" placeholder="').concat($,'">'))}return this.inputEl.get(0)}},{key:"render",value:function(){this.inputEl=null;var s=this.$el;return s.addClass(this.inputClass()),s.html(this.template()),s.find(".".concat(this.holderClass())).append(this.getInputEl()),this}}]),V}(X().View);m.prototype.events={change:"handleChange"}},1511:(gt,Ze,_)=>{_.d(Ze,{Z:()=>Z});var ve=_(4942),_e=_(5671),fe=_(3144),de=_(9340),ue=_(2963),ne=_(1120),X=_(2316),ee=_.n(X),j=_(9050),m=_(1002),b=_(1163),T=_(8659);function V(L,te){var xe=Object.keys(L);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(L);te&&(he=he.filter(function(A){return Object.getOwnPropertyDescriptor(L,A).enumerable})),xe.push.apply(xe,he)}return xe}function s(L){for(var te=1;te<arguments.length;te++){var xe=arguments[te]!=null?arguments[te]:{};te%2?V(Object(xe),!0).forEach(function(he){(0,ve.Z)(L,he,xe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(xe)):V(Object(xe)).forEach(function(he){Object.defineProperty(L,he,Object.getOwnPropertyDescriptor(xe,he))})}return L}function ae(L){var te=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var xe,he=(0,ne.Z)(L);if(te){var A=(0,ne.Z)(this).constructor;xe=Reflect.construct(he,arguments,A)}else xe=he.apply(this,arguments);return(0,ue.Z)(this,xe)}}var $=ee().$;$&&function(L,te){if((0,b.hasWin)()){var xe={beforeShow:q,move:q,change:q,show:q,hide:q,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},he=[],A=!!/msie/i.exec(window.navigator.userAgent),z=function(){function Be(lt,Rt){return!!~(""+lt).indexOf(Rt)}var nt=document.createElement("div").style;return nt.cssText="background-color:rgba(0,0,0,.5)",Be(nt.backgroundColor,"rgba")||Be(nt.backgroundColor,"hsla")}(),B=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),W=function(){var Be="";if(A)for(var nt=1;nt<=6;nt++)Be+="<div class='sp-"+nt+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Be,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),ie="spectrum.id";L.fn.spectrum=function(Be,nt){if(typeof Be=="string"){var lt=this,Rt=Array.prototype.slice.call(arguments,1);return this.each(function(){var _t=he[L(this).data(ie)];if(_t){var mt=_t[Be];if(!mt)throw new Error("Spectrum: no such method: '"+Be+"'");Be=="get"?lt=_t.get():Be=="container"?lt=_t.container:Be=="option"?lt=_t.option.apply(_t,Rt):Be=="destroy"?(_t.destroy(),L(this).removeData(ie)):mt.apply(_t,Rt)}}),lt}return this.spectrum("destroy").each(function(){var _t=P(this,L.extend({},Be,L(this).data()));L(this).data(ie,_t.id)})},L.fn.spectrum.load=!0,L.fn.spectrum.loadOpts={},L.fn.spectrum.draggable=w,L.fn.spectrum.defaults=xe,L.fn.spectrum.inputTypeColorSupport=function Be(){if(Be._cachedResult===void 0){var nt=L("<input type='color'/>")[0];Be._cachedResult=nt.type==="color"&&nt.value!==""}return Be._cachedResult},L.spectrum={},L.spectrum.localization={},L.spectrum.palettes={},L.fn.spectrum.processNativeColorInputs=function(){var Be=L("input[type=color]");Be.length&&!M()&&Be.spectrum({preferredFormat:"hex6"})};var E=/^[\s,#]+/,O=/\s+$/,a=0,c=Math,g=c.round,S=c.min,se=c.max,le=c.random,D=function Be(nt,lt){if(lt=lt||{},(nt=nt||"")instanceof Be)return nt;if(!(this instanceof Be))return new Be(nt,lt);var Rt=function(_t){var mt={r:0,g:0,b:0},fn=1,wn=!1,pn=!1;typeof _t=="string"&&(_t=function(gn){gn=gn.replace(E,"").replace(O,"").toLowerCase();var Wt,nn=!1;if(f[gn])gn=f[gn],nn=!0;else if(gn=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Wt=u.rgb.exec(gn))?{r:Wt[1],g:Wt[2],b:Wt[3]}:(Wt=u.rgba.exec(gn))?{r:Wt[1],g:Wt[2],b:Wt[3],a:Wt[4]}:(Wt=u.hsl.exec(gn))?{h:Wt[1],s:Wt[2],l:Wt[3]}:(Wt=u.hsla.exec(gn))?{h:Wt[1],s:Wt[2],l:Wt[3],a:Wt[4]}:(Wt=u.hsv.exec(gn))?{h:Wt[1],s:Wt[2],v:Wt[3]}:(Wt=u.hsva.exec(gn))?{h:Wt[1],s:Wt[2],v:Wt[3],a:Wt[4]}:(Wt=u.hex8.exec(gn))?{a:Lt(Wt[1]),r:We(Wt[2]),g:We(Wt[3]),b:We(Wt[4]),format:nn?"name":"hex8"}:(Wt=u.hex6.exec(gn))?{r:We(Wt[1]),g:We(Wt[2]),b:We(Wt[3]),format:nn?"name":"hex"}:(Wt=u.hex3.exec(gn))?{r:We(Wt[1]+""+Wt[1]),g:We(Wt[2]+""+Wt[2]),b:We(Wt[3]+""+Wt[3]),format:nn?"name":"hex"}:!1}(_t)),(0,m.Z)(_t)=="object"&&(_t.hasOwnProperty("r")&&_t.hasOwnProperty("g")&&_t.hasOwnProperty("b")?(Rn=_t.r,Sn=_t.g,Fn=_t.b,mt={r:255*kt(Rn,255),g:255*kt(Sn,255),b:255*kt(Fn,255)},wn=!0,pn=String(_t.r).substr(-1)==="%"?"prgb":"rgb"):_t.hasOwnProperty("h")&&_t.hasOwnProperty("s")&&_t.hasOwnProperty("v")?(_t.s=rt(_t.s),_t.v=rt(_t.v),mt=function(gn,Wt,nn){gn=6*kt(gn,360),Wt=kt(Wt,100),nn=kt(nn,100);var $n=c.floor(gn),tr=gn-$n,Wn=nn*(1-Wt),nr=nn*(1-tr*Wt),In=nn*(1-(1-tr)*Wt),Hn=$n%6;return{r:255*[nn,nr,Wn,Wn,In,nn][Hn],g:255*[In,nn,nn,nr,Wn,Wn][Hn],b:255*[Wn,Wn,In,nn,nn,nr][Hn]}}(_t.h,_t.s,_t.v),wn=!0,pn="hsv"):_t.hasOwnProperty("h")&&_t.hasOwnProperty("s")&&_t.hasOwnProperty("l")&&(_t.s=rt(_t.s),_t.l=rt(_t.l),mt=function(gn,Wt,nn){var $n,tr,Wn;function nr(br,qn,Un){return Un<0&&(Un+=1),Un>1&&(Un-=1),Un<1/6?br+6*(qn-br)*Un:Un<1/2?qn:Un<2/3?br+(qn-br)*(2/3-Un)*6:br}if(gn=kt(gn,360),Wt=kt(Wt,100),nn=kt(nn,100),Wt===0)$n=tr=Wn=nn;else{var In=nn<.5?nn*(1+Wt):nn+Wt-nn*Wt,Hn=2*nn-In;$n=nr(Hn,In,gn+1/3),tr=nr(Hn,In,gn),Wn=nr(Hn,In,gn-1/3)}return{r:255*$n,g:255*tr,b:255*Wn}}(_t.h,_t.s,_t.l),wn=!0,pn="hsl"),_t.hasOwnProperty("a")&&(fn=_t.a));var Rn,Sn,Fn;return fn=On(fn),{ok:wn,format:_t.format||pn,r:S(255,se(mt.r,0)),g:S(255,se(mt.g,0)),b:S(255,se(mt.b,0)),a:fn}}(nt);this._originalInput=nt,this._r=Rt.r,this._g=Rt.g,this._b=Rt.b,this._a=Rt.a,this._roundA=g(100*this._a)/100,this._format=lt.format||Rt.format,this._gradientType=lt.gradientType,this._r<1&&(this._r=g(this._r)),this._g<1&&(this._g=g(this._g)),this._b<1&&(this._b=g(this._b)),this._ok=Rt.ok,this._tc_id=a++};D.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Be=this.toRgb();return(299*Be.r+587*Be.g+114*Be.b)/1e3},setAlpha:function(Be){return this._a=On(Be),this._roundA=g(100*this._a)/100,this},toHsv:function(){var Be=Oe(this._r,this._g,this._b);return{h:360*Be.h,s:Be.s,v:Be.v,a:this._a}},toHsvString:function(){var Be=Oe(this._r,this._g,this._b),nt=g(360*Be.h),lt=g(100*Be.s),Rt=g(100*Be.v);return this._a==1?"hsv("+nt+", "+lt+"%, "+Rt+"%)":"hsva("+nt+", "+lt+"%, "+Rt+"%, "+this._roundA+")"},toHsl:function(){var Be=J(this._r,this._g,this._b);return{h:360*Be.h,s:Be.s,l:Be.l,a:this._a}},toHslString:function(){var Be=J(this._r,this._g,this._b),nt=g(360*Be.h),lt=g(100*Be.s),Rt=g(100*Be.l);return this._a==1?"hsl("+nt+", "+lt+"%, "+Rt+"%)":"hsla("+nt+", "+lt+"%, "+Rt+"%, "+this._roundA+")"},toHex:function(Be){return Re(this._r,this._g,this._b,Be)},toHexString:function(Be){return"#"+this.toHex(Be)},toHex8:function(){return Ye(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:g(this._r),g:g(this._g),b:g(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+g(this._r)+", "+g(this._g)+", "+g(this._b)+")":"rgba("+g(this._r)+", "+g(this._g)+", "+g(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:g(100*kt(this._r,255))+"%",g:g(100*kt(this._g,255))+"%",b:g(100*kt(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+g(100*kt(this._r,255))+"%, "+g(100*kt(this._g,255))+"%, "+g(100*kt(this._b,255))+"%)":"rgba("+g(100*kt(this._r,255))+"%, "+g(100*kt(this._g,255))+"%, "+g(100*kt(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(h[Re(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Be){var nt="#"+Ye(this._r,this._g,this._b,this._a),lt=nt,Rt=this._gradientType?"GradientType = 1, ":"";return Be&&(lt=D(Be).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+Rt+"startColorstr="+nt+",endColorstr="+lt+")"},toString:function(Be){var nt=!!Be;Be=Be||this._format;var lt=!1,Rt=this._a<1&&this._a>=0;return nt||!Rt||Be!=="hex"&&Be!=="hex6"&&Be!=="hex3"&&Be!=="name"?(Be==="rgb"&&(lt=this.toRgbString()),Be==="prgb"&&(lt=this.toPercentageRgbString()),Be!=="hex"&&Be!=="hex6"||(lt=this.toHexString()),Be==="hex3"&&(lt=this.toHexString(!0)),Be==="hex8"&&(lt=this.toHex8String()),Be==="name"&&(lt=this.toName()),Be==="hsl"&&(lt=this.toHslString()),Be==="hsv"&&(lt=this.toHsvString()),lt||this.toHexString()):Be==="name"&&this._a===0?this.toName():this.toRgbString()},_applyModification:function(Be,nt){var lt=Be.apply(null,[this].concat([].slice.call(nt)));return this._r=lt._r,this._g=lt._g,this._b=lt._b,this.setAlpha(lt._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(re,arguments)},darken:function(){return this._applyModification(we,arguments)},desaturate:function(){return this._applyModification(Ve,arguments)},saturate:function(){return this._applyModification(Se,arguments)},greyscale:function(){return this._applyModification(je,arguments)},spin:function(){return this._applyModification(De,arguments)},_applyCombination:function(Be,nt){return Be.apply(null,[this].concat([].slice.call(nt)))},analogous:function(){return this._applyCombination(Ft,arguments)},complement:function(){return this._applyCombination(Ge,arguments)},monochromatic:function(){return this._applyCombination(rn,arguments)},splitcomplement:function(){return this._applyCombination(At,arguments)},triad:function(){return this._applyCombination(Ke,arguments)},tetrad:function(){return this._applyCombination(bt,arguments)}},D.fromRatio=function(Be,nt){if((0,m.Z)(Be)=="object"){var lt={};for(var Rt in Be)Be.hasOwnProperty(Rt)&&(lt[Rt]=Rt==="a"?Be[Rt]:rt(Be[Rt]));Be=lt}return D(Be,nt)},D.equals=function(Be,nt){return!(!Be||!nt)&&D(Be).toRgbString()==D(nt).toRgbString()},D.random=function(){return D.fromRatio({r:le(),g:le(),b:le()})},D.mix=function(Be,nt,lt){lt=lt===0?0:lt||50;var Rt,_t=D(Be).toRgb(),mt=D(nt).toRgb(),fn=lt/100,wn=2*fn-1,pn=mt.a-_t.a,Rn=1-(Rt=((Rt=wn*pn==-1?wn:(wn+pn)/(1+wn*pn))+1)/2),Sn={r:mt.r*Rt+_t.r*Rn,g:mt.g*Rt+_t.g*Rn,b:mt.b*Rt+_t.b*Rn,a:mt.a*fn+_t.a*(1-fn)};return D(Sn)},D.readability=function(Be,nt){var lt=D(Be),Rt=D(nt),_t=lt.toRgb(),mt=Rt.toRgb(),fn=lt.getBrightness(),wn=Rt.getBrightness(),pn=Math.max(_t.r,mt.r)-Math.min(_t.r,mt.r)+Math.max(_t.g,mt.g)-Math.min(_t.g,mt.g)+Math.max(_t.b,mt.b)-Math.min(_t.b,mt.b);return{brightness:Math.abs(fn-wn),color:pn}},D.isReadable=function(Be,nt){var lt=D.readability(Be,nt);return lt.brightness>125&&lt.color>500},D.mostReadable=function(Be,nt){for(var lt=null,Rt=0,_t=!1,mt=0;mt<nt.length;mt++){var fn=D.readability(Be,nt[mt]),wn=fn.brightness>125&&fn.color>500,pn=3*(fn.brightness/125)+fn.color/500;(wn&&!_t||wn&&_t&&pn>Rt||!wn&&!_t&&pn>Rt)&&(_t=wn,Rt=pn,lt=D(nt[mt]))}return lt};var I,C,l,f=D.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},h=D.hexNames=function(Be){var nt={};for(var lt in Be)Be.hasOwnProperty(lt)&&(nt[Be[lt]]=lt);return nt}(f),u=(C="[\\s|\\(]+("+(I="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",l="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",{rgb:new RegExp("rgb"+C),rgba:new RegExp("rgba"+l),hsl:new RegExp("hsl"+C),hsla:new RegExp("hsla"+l),hsv:new RegExp("hsv"+C),hsva:new RegExp("hsva"+l),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=D,L(function(){L.fn.spectrum.load&&L.fn.spectrum.processNativeColorInputs()})}function d(Be,nt,lt,Rt){for(var _t=[],mt=0;mt<Be.length;mt++){var fn=Be[mt];if(fn){var wn=D(fn),pn=wn.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";pn+=D.equals(nt,fn)?" sp-thumb-active":"";var Rn=wn.toString(Rt.preferredFormat||"rgb"),Sn=z?"background-color:"+wn.toRgbString():"filter:"+wn.toFilter();_t.push('<span title="'+Rn+'" data-color="'+wn.toRgbString()+'" class="'+pn+'"><span class="sp-thumb-inner" style="'+Sn+';"></span></span>')}else _t.push(L("<div />").append(L('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",Rt.noColorSelectedText)).html())}return"<div class='sp-cf "+lt+"'>"+_t.join("")+"</div>"}function P(Be,nt){var lt,Rt,_t,mt=function(k,N){var oe=L.extend({},xe,k);return oe.callbacks={move:H(oe.move,N),change:H(oe.change,N),show:H(oe.show,N),hide:H(oe.hide,N),beforeShow:H(oe.beforeShow,N)},oe}(nt,Be),fn=mt.flat,wn=mt.showSelectionPalette,pn=mt.localStorageKey,Rn=mt.theme,Sn=mt.callbacks,Fn=(lt=zt,Rt=10,function(){var k=this,N=arguments,oe=function(){_t=null,lt.apply(k,N)};_t||(_t=setTimeout(oe,Rt))}),gn=!1,Wt=!1,nn=!0,$n=0,tr=0,Wn=0,nr=0,In=0,Hn=0,br=0,qn=0,Un=0,gr=0,Bn=1,fr=[],ir=[],Ir={},hr=mt.selectionPalette.slice(0),Mn=mt.maxSelectionSize,Yt="sp-dragging",Nn=null,sr=Be.ownerDocument,Ln=(sr.body,L(Be)),un=!1,cn=L(W,sr).addClass(Rn),Mr=cn.find(".sp-picker-container"),Fr=cn.find(".sp-color"),Tt=cn.find(".sp-dragger"),ye=cn.find(".sp-hue"),ze=cn.find(".sp-slider"),xt=cn.find(".sp-alpha-inner"),Vt=cn.find(".sp-alpha"),$t=cn.find(".sp-alpha-handle"),vn=cn.find(".sp-input"),qt=cn.find(".sp-palette"),rr=cn.find(".sp-initial"),Jn=cn.find(".sp-cancel"),kr=cn.find(".sp-clear"),vr=cn.find(".sp-choose"),Ur=cn.find(".sp-palette-toggle"),Kr=Ln.is("input"),Br=Kr&&Ln.attr("type")==="color"&&M(),Cr=Kr&&!fn,Tr=Cr?L(B).addClass(Rn).addClass(mt.className).addClass(mt.replacerClassName):L([]),Qn=Cr?Tr:Ln,Or=Tr.find(".sp-preview-inner"),Vr=mt.color||Kr&&Ln.val(),Wr=!1,Me=mt.preferredFormat,Fe=!mt.showButtons||mt.clickoutFiresChange,pe=!Vr,y=mt.allowEmpty&&!Br;function Q(){if(mt.showPaletteOnly&&(mt.showPalette=!0),Ur.text(mt.showPaletteOnly?mt.togglePaletteMoreText:mt.togglePaletteLessText),mt.palette){fr=mt.palette.slice(0),ir=L.isArray(fr[0])?fr:[fr],Ir={};for(var k=0;k<ir.length;k++)for(var N=0;N<ir[k].length;N++){var oe=D(ir[k][N]).toRgbString();Ir[oe]=!0}}cn.toggleClass("sp-flat",fn),cn.toggleClass("sp-input-disabled",!mt.showInput),cn.toggleClass("sp-alpha-enabled",mt.showAlpha),cn.toggleClass("sp-clear-enabled",y),cn.toggleClass("sp-buttons-disabled",!mt.showButtons),cn.toggleClass("sp-palette-buttons-disabled",!mt.togglePaletteOnly),cn.toggleClass("sp-palette-disabled",!mt.showPalette),cn.toggleClass("sp-palette-only",mt.showPaletteOnly),cn.toggleClass("sp-initial-disabled",!mt.showInitial),cn.addClass(mt.className).addClass(mt.containerClassName),zt()}function Te(){if(pn&&window.localStorage){try{var k=window.localStorage[pn].split(",#");k.length>1&&(delete window.localStorage[pn],L.each(k,function(N,oe){Ie(oe)}))}catch{}try{hr=window.localStorage[pn].split(";")}catch{}}}function Ie(k){if(wn){var N=D(k).toRgbString();if(!Ir[N]&&L.inArray(N,hr)===-1)for(hr.push(N);hr.length>Mn;)hr.shift();if(pn&&window.localStorage)try{window.localStorage[pn]=hr.join(";")}catch{}}}function tt(){var k=F(),N=L.map(ir,function(oe,ce){return d(oe,k,"sp-palette-row sp-palette-row-"+ce,mt)});Te(),hr&&N.push(d(function(){var oe=[];if(mt.showPalette)for(var ce=0;ce<hr.length;ce++){var ke=D(hr[ce]).toRgbString();Ir[ke]||oe.push(hr[ce])}return oe.reverse().slice(0,mt.maxSelectionSize)}(),k,"sp-palette-row sp-palette-row-selection",mt)),qt.html(N.join(""))}function pt(){if(mt.showInitial){var k=Wr,N=F();rr.html(d([k,N],N,"sp-palette-row-initial",mt))}}function Pt(){(tr<=0||$n<=0||nr<=0)&&zt(),Wt=!0,cn.addClass(Yt),Nn=null,Ln.trigger("dragstart.spectrum",[F()])}function Ct(){Wt=!1,cn.removeClass(Yt),Ln.trigger("dragstop.spectrum",[F()])}function Zt(){var k=vn.val();if(k!==null&&k!==""||!y){var N=D(k);N.isValid()?(Pe(N),wt(!0)):vn.addClass("sp-validation-error")}else Pe(null),wt(!0)}function It(){gn?kn():Ut()}function Ut(){var k=L.Event("beforeShow.spectrum");if(gn)zt();else if(Ln.trigger("beforeShow.spectrum",[F()]),Sn.beforeShow(F())!==!1&&!k.isDefaultPrevented()){(function(){for(var oe=0;oe<he.length;oe++)he[oe]&&he[oe].hide()})(),gn=!0;var N=L(sr);N.bind("keydown.spectrum",xn),N.bind("click.spectrum",hn),L(window).bind("resize.spectrum",Fn),Tr.addClass("sp-active"),cn.removeClass("sp-hidden"),zt(),Ne(),Wr=F(),pt(),Sn.show(Wr),Ln.trigger("show.spectrum",[Wr])}}function xn(k){k.keyCode===27&&kn()}function hn(k){k.button!=2&&(Wt||(Fe?wt(!0):Ce(),kn()))}function kn(){gn&&!fn&&(gn=!1,L(sr).unbind("keydown.spectrum",xn),L(sr).unbind("click.spectrum",hn),L(window).unbind("resize.spectrum",Fn),Tr.removeClass("sp-active"),cn.addClass("sp-hidden"),Sn.hide(F()),Ln.trigger("hide.spectrum",[F()]))}function Ce(){Pe(Wr,!0)}function Pe(k,N){var oe,ce;D.equals(k,F())?Ne():(!k&&y?pe=!0:(pe=!1,nn=!k,ce=(oe=D(k)).toHsv(),qn=ce.h%360/360,Un=ce.s,gr=ce.v,Bn=ce.a),Ne(),oe&&oe.isValid()&&!N&&(Me=mt.preferredFormat||oe.getFormat()))}function F(k){return k=k||{},y&&pe?null:D.fromRatio({h:qn,s:Un,v:gr,a:Math.round(100*Bn)/100},{format:k.format||Me})}function G(){Ne(),Sn.move(F()),Ln.trigger("move.spectrum",[F()])}function Ne(){vn.removeClass("sp-validation-error"),st();var k=D.fromRatio({h:qn,s:1,v:1});Fr.css("background-color",k.toHexString());var N=Me;Bn<1&&(Bn!==0||N!=="name")&&(N!=="hex"&&N!=="hex3"&&N!=="hex6"&&N!=="name"||(N="rgb"));var oe=F({format:N}),ce="";if(Or.removeClass("sp-clear-display"),Or.css("background-color","transparent"),!oe&&y)Or.addClass("sp-clear-display");else{var ke=oe.toHexString(),Xe=oe.toRgbString();if(z||oe.alpha===1?Or.css("background-color",Xe):(Or.css("background-color","transparent"),Or.css("filter",oe.toFilter())),mt.showAlpha){var He=oe.toRgb();He.a=0;var at=D(He).toRgbString(),vt="linear-gradient(left, "+at+", "+ke+")";A?xt.css("filter",D(at).toFilter({gradientType:1},ke)):(xt.css("background","-webkit-"+vt),xt.css("background","-moz-"+vt),xt.css("background","-ms-"+vt),xt.css("background","linear-gradient(to right, "+at+", "+ke+")"))}ce=oe.toString(N)}mt.showInput&&vn.val(ce),mt.showPalette&&tt(),pt()}function st(){var k=Un,N=gr;if(y&&pe)$t.hide(),ze.hide(),Tt.hide();else{$t.show(),ze.show(),Tt.show();var oe=k*$n,ce=tr-N*tr;oe=Math.max(-Wn,Math.min($n-Wn,oe-Wn)),ce=Math.max(-Wn,Math.min(tr-Wn,ce-Wn)),Tt.css({top:ce+"px",left:oe+"px"});var ke=Bn*In;$t.css({left:ke-Hn/2+"px"});var Xe=qn*nr;ze.css({top:Xe-br+"px"})}}function wt(k){var N=F(),oe="",ce=!!nn||!D.equals(N,Wr);N&&(oe=N.toString(Me),!gn&&Ie(N)),Kr&&Ln.val(oe),k&&ce&&(Sn.change(N),Ln.trigger("change",[N]))}function zt(){gn&&($n=Fr.width(),tr=Fr.height(),Wn=Tt.height(),ye.width(),nr=ye.height(),br=ze.height(),In=Vt.width(),Hn=$t.width(),fn||(cn.css("position","absolute"),mt.offset?cn.offset(mt.offset):cn.offset(function(k,N){var oe=0,ce=k.outerWidth(),ke=k.outerHeight(),Xe=N.outerHeight(),He=k[0].ownerDocument,at=He.documentElement,vt=at.clientWidth,jt=at.clientHeight,dt=L(He).scrollLeft(),Ot=L(He).scrollTop(),tn=vt+dt,_n=jt+Ot,Qt=N.offset();return Qt.top+=Xe,Qt.left-=Math.min(Qt.left,Qt.left+ce>tn&&tn>ce?Math.abs(Qt.left+ce-tn):0),Qt.top-=Math.min(Qt.top,Qt.top+ke>_n&&_n>ke?Math.abs(ke+Xe-oe):oe),Qt}(cn,Qn))),st(),mt.showPalette&&tt(),Ln.trigger("reflow.spectrum"))}function o(){kn(),un=!0,Ln.attr("disabled",!0),Qn.addClass("sp-disabled")}(function(){if(A&&cn.find("*:not(input)").attr("unselectable","on"),Q(),Cr&&Ln.after(Tr).hide(),y||kr.hide(),fn)Ln.after(cn).hide();else{var k=mt.appendTo==="parent"?Ln.parent():L(mt.appendTo);k.length!==1&&(k=L("body")),k.append(cn)}function N(ce){return ce.data&&ce.data.ignore?(Pe(L(ce.target).closest(".sp-thumb-el").data("color")),G()):(Pe(L(ce.target).closest(".sp-thumb-el").data("color")),G(),mt.hideAfterPaletteSelect&&(wt(!0),kn())),!1}Te(),Qn.bind("click.spectrum touchstart.spectrum",function(ce){un||It(),ce.stopPropagation(),L(ce.target).is("input")||ce.preventDefault()}),(Ln.is(":disabled")||mt.disabled===!0)&&o(),cn.click(K),vn.change(Zt),vn.bind("paste",function(){setTimeout(Zt,1)}),vn.keydown(function(ce){ce.keyCode==13&&Zt()}),Jn.text(mt.cancelText),Jn.bind("click.spectrum",function(ce){ce.stopPropagation(),ce.preventDefault(),Ce(),kn()}),kr.attr("title",mt.clearText),kr.bind("click.spectrum",function(ce){ce.stopPropagation(),ce.preventDefault(),pe=!0,G(),fn&&wt(!0)}),vr.text(mt.chooseText),vr.bind("click.spectrum",function(ce){ce.stopPropagation(),ce.preventDefault(),A&&vn.is(":focus")&&vn.trigger("change"),vn.hasClass("sp-validation-error")||(wt(!0),kn())}),Ur.text(mt.showPaletteOnly?mt.togglePaletteMoreText:mt.togglePaletteLessText),Ur.bind("click.spectrum",function(ce){ce.stopPropagation(),ce.preventDefault(),mt.showPaletteOnly=!mt.showPaletteOnly,mt.showPaletteOnly||fn||cn.css("left","-="+(Mr.outerWidth(!0)+5)),Q()}),w(Vt,function(ce,ke,Xe){Bn=ce/In,pe=!1,Xe.shiftKey&&(Bn=Math.round(10*Bn)/10),G()},Pt,Ct),w(ye,function(ce,ke){qn=parseFloat(ke/nr),pe=!1,mt.showAlpha||(Bn=1),G()},Pt,Ct),w(Fr,function(ce,ke,Xe){if(Xe.shiftKey){if(!Nn){var He=Un*$n,at=tr-gr*tr,vt=Math.abs(ce-He)>Math.abs(ke-at);Nn=vt?"x":"y"}}else Nn=null;var jt=!Nn||Nn==="y";(!Nn||Nn==="x")&&(Un=parseFloat(ce/$n)),jt&&(gr=parseFloat((tr-ke)/tr)),pe=!1,mt.showAlpha||(Bn=1),G()},Pt,Ct),Vr?(Pe(Vr),Ne(),Me=mt.preferredFormat||D(Vr).getFormat(),Ie(Vr)):Ne(),fn&&Ut();var oe=A?"mousedown.spectrum":"click.spectrum touchstart.spectrum";qt.delegate(".sp-thumb-el",oe,N),rr.delegate(".sp-thumb-el:nth-child(1)",oe,{ignore:!0},N)})();var p={show:Ut,hide:kn,toggle:It,reflow:zt,option:function(k,N){return k===te?L.extend({},mt):N===te?mt[k]:(mt[k]=N,k==="preferredFormat"&&(Me=mt.preferredFormat),void Q())},enable:function(){un=!1,Ln.attr("disabled",!1),Qn.removeClass("sp-disabled")},disable:o,offset:function(k){mt.offset=k,zt()},set:function(k){Pe(k),wt()},get:F,destroy:function(){Ln.show(),Qn.unbind("click.spectrum touchstart.spectrum"),cn.remove(),Tr.remove(),he[p.id]=null},container:cn};return p.id=he.push(p)-1,p}function q(){}function K(Be){Be.stopPropagation()}function H(Be,nt){var lt=Array.prototype.slice,Rt=lt.call(arguments,2);return function(){return Be.apply(nt,Rt.concat(lt.call(arguments)))}}function w(Be,nt,lt,Rt){nt=nt||function(){},lt=lt||function(){},Rt=Rt||function(){};var _t=document,mt=!1,fn={},wn=0,pn=0,Rn="ontouchstart"in window,Sn={};function Fn(nn){nn.stopPropagation&&nn.stopPropagation(),nn.preventDefault&&nn.preventDefault(),nn.returnValue=!1}function gn(nn){if(mt){if(A&&_t.documentMode<9&&!nn.button)return Wt();var $n=nn&&nn.touches&&nn.touches[0],tr=$n&&$n.pageX||nn.pageX,Wn=$n&&$n.pageY||nn.pageY,nr=Math.max(0,Math.min(tr-fn.left,pn)),In=Math.max(0,Math.min(Wn-fn.top,wn));Rn&&Fn(nn),nt.apply(Be,[nr,In,nn])}}function Wt(){mt&&(L(_t).unbind(Sn),L(_t.body).removeClass("sp-dragging"),setTimeout(function(){Rt.apply(Be,arguments)},0)),mt=!1}Sn.selectstart=Fn,Sn.dragstart=Fn,Sn["touchmove mousemove"]=gn,Sn["touchend mouseup"]=Wt,L(Be).bind("touchstart mousedown",function(nn){var $n=nn.which?nn.which==3:nn.button==2;$n||mt||lt.apply(Be,arguments)!==!1&&(mt=!0,wn=L(Be).height(),pn=L(Be).width(),fn=L(Be).offset(),L(_t).bind(Sn),L(_t.body).addClass("sp-dragging"),gn(nn),Fn(nn))})}function M(){return L.fn.spectrum.inputTypeColorSupport()}function J(Be,nt,lt){Be=kt(Be,255),nt=kt(nt,255),lt=kt(lt,255);var Rt,_t,mt=se(Be,nt,lt),fn=S(Be,nt,lt),wn=(mt+fn)/2;if(mt==fn)Rt=_t=0;else{var pn=mt-fn;switch(_t=wn>.5?pn/(2-mt-fn):pn/(mt+fn),mt){case Be:Rt=(nt-lt)/pn+(nt<lt?6:0);break;case nt:Rt=(lt-Be)/pn+2;break;case lt:Rt=(Be-nt)/pn+4}Rt/=6}return{h:Rt,s:_t,l:wn}}function Oe(Be,nt,lt){Be=kt(Be,255),nt=kt(nt,255),lt=kt(lt,255);var Rt,_t,mt=se(Be,nt,lt),fn=S(Be,nt,lt),wn=mt,pn=mt-fn;if(_t=mt===0?0:pn/mt,mt==fn)Rt=0;else{switch(mt){case Be:Rt=(nt-lt)/pn+(nt<lt?6:0);break;case nt:Rt=(lt-Be)/pn+2;break;case lt:Rt=(Be-nt)/pn+4}Rt/=6}return{h:Rt,s:_t,v:wn}}function Re(Be,nt,lt,Rt){var _t=[et(g(Be).toString(16)),et(g(nt).toString(16)),et(g(lt).toString(16))];return Rt&&_t[0].charAt(0)==_t[0].charAt(1)&&_t[1].charAt(0)==_t[1].charAt(1)&&_t[2].charAt(0)==_t[2].charAt(1)?_t[0].charAt(0)+_t[1].charAt(0)+_t[2].charAt(0):_t.join("")}function Ye(Be,nt,lt,Rt){var _t;return[et((_t=Rt,Math.round(255*parseFloat(_t)).toString(16))),et(g(Be).toString(16)),et(g(nt).toString(16)),et(g(lt).toString(16))].join("")}function Ve(Be,nt){nt=nt===0?0:nt||10;var lt=D(Be).toHsl();return lt.s-=nt/100,lt.s=Ae(lt.s),D(lt)}function Se(Be,nt){nt=nt===0?0:nt||10;var lt=D(Be).toHsl();return lt.s+=nt/100,lt.s=Ae(lt.s),D(lt)}function je(Be){return D(Be).desaturate(100)}function x(Be,nt){nt=nt===0?0:nt||10;var lt=D(Be).toHsl();return lt.l+=nt/100,lt.l=Ae(lt.l),D(lt)}function re(Be,nt){nt=nt===0?0:nt||10;var lt=D(Be).toRgb();return lt.r=se(0,S(255,lt.r-g(255*(-nt/100)))),lt.g=se(0,S(255,lt.g-g(255*(-nt/100)))),lt.b=se(0,S(255,lt.b-g(255*(-nt/100)))),D(lt)}function we(Be,nt){nt=nt===0?0:nt||10;var lt=D(Be).toHsl();return lt.l-=nt/100,lt.l=Ae(lt.l),D(lt)}function De(Be,nt){var lt=D(Be).toHsl(),Rt=(g(lt.h)+nt)%360;return lt.h=Rt<0?360+Rt:Rt,D(lt)}function Ge(Be){var nt=D(Be).toHsl();return nt.h=(nt.h+180)%360,D(nt)}function Ke(Be){var nt=D(Be).toHsl(),lt=nt.h;return[D(Be),D({h:(lt+120)%360,s:nt.s,l:nt.l}),D({h:(lt+240)%360,s:nt.s,l:nt.l})]}function bt(Be){var nt=D(Be).toHsl(),lt=nt.h;return[D(Be),D({h:(lt+90)%360,s:nt.s,l:nt.l}),D({h:(lt+180)%360,s:nt.s,l:nt.l}),D({h:(lt+270)%360,s:nt.s,l:nt.l})]}function At(Be){var nt=D(Be).toHsl(),lt=nt.h;return[D(Be),D({h:(lt+72)%360,s:nt.s,l:nt.l}),D({h:(lt+216)%360,s:nt.s,l:nt.l})]}function Ft(Be,nt,lt){nt=nt||6,lt=lt||30;var Rt=D(Be).toHsl(),_t=360/lt,mt=[D(Be)];for(Rt.h=(Rt.h-(_t*nt>>1)+720)%360;--nt;)Rt.h=(Rt.h+_t)%360,mt.push(D(Rt));return mt}function rn(Be,nt){nt=nt||6;for(var lt=D(Be).toHsv(),Rt=lt.h,_t=lt.s,mt=lt.v,fn=[],wn=1/nt;nt--;)fn.push(D({h:Rt,s:_t,v:mt})),mt=(mt+wn)%1;return fn}function On(Be){return Be=parseFloat(Be),(isNaN(Be)||Be<0||Be>1)&&(Be=1),Be}function kt(Be,nt){(function(Rt){return typeof Rt=="string"&&Rt.indexOf(".")!=-1&&parseFloat(Rt)===1})(Be)&&(Be="100%");var lt=function(Rt){return typeof Rt=="string"&&Rt.indexOf("%")!=-1}(Be);return Be=S(nt,se(0,parseFloat(Be))),lt&&(Be=parseInt(Be*nt,10)/100),c.abs(Be-nt)<1e-6?1:Be%nt/parseFloat(nt)}function Ae(Be){return S(1,se(0,Be))}function We(Be){return parseInt(Be,16)}function et(Be){return Be.length==1?"0"+Be:""+Be}function rt(Be){return Be<=1&&(Be=100*Be+"%"),Be}function Lt(Be){return We(Be)/255}}($);var R=function(L){var te=L.getFormat()==="name"&&L.toName(),xe=L.getAlpha()==1?L.toHexString():L.toRgbString();return te||xe.replace(/ /g,"")},Z=function(L){(0,de.Z)(xe,L);var te=ae(xe);function xe(){return(0,_e.Z)(this,xe),te.apply(this,arguments)}return(0,fe.Z)(xe,[{key:"template",value:function(){var he=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(he,`field-colorp">
        <div class="`).concat(he,`field-colorp-c" data-colorp-c>
          <div class="`).concat(he,`checker-bg"></div>
        </div>
      </div>
    `)}},{key:"inputClass",value:function(){var he=this.ppfx;return"".concat(he,"field ").concat(he,"field-color")}},{key:"holderClass",value:function(){return"".concat(this.ppfx,"input-holder")}},{key:"remove",value:function(){T.Z.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")}},{key:"handleChange",value:function(he){he.stopPropagation();var A=he.target.value;(0,j.isUndefined)(A)||this.__onInputChange(A)}},{key:"__onInputChange",value:function(he){var A=this.model,z=this.opts.onChange,B=he,W=this.getColorEl();if(W){W.spectrum("set",B);var ie=W.spectrum("get"),E=B&&R(ie);E&&(B=E)}z?z(B):A.set({value:B},{fromInput:1})}},{key:"setValue",value:function(he){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=this.model,B=(0,j.isUndefined)(A.def)?z.get("defaults"):A.def,W=(0,j.isUndefined)(he)?(0,j.isUndefined)(B)?"":B:he,ie=this.getInputEl(),E=this.getColorEl(),O=W!="none"?W:"";ie.value=W,E.get(0).style.backgroundColor=O,(A.fromTarget||A.fromInput&&!A.avoidStore)&&(E.spectrum("set",O),this.noneColor=W=="none")}},{key:"getColorEl",value:function(){if(!this.colorEl){var he,A=this.em,z=this.model,B=this.opts,W=this,ie=this.ppfx,E=B.onChange,O=$('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),a=O.get(0).style,c=A&&A.config?A.config.el:"",g=A&&A.getConfig&&A.getConfig().colorPicker||{},S=!1,se="";this.$el.find("[data-colorp-c]").append(O);var le=function(D){var I=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];E?E(D,!I):(I&&z.setValueFromInput(0,!1),z.setValueFromInput(D,I))};O.spectrum(s(s(s({color:z.getValue()||!1,containerClassName:"".concat(ie,"one-bg ").concat(ie,"two-color"),appendTo:c||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F",palette:[]},g),z.get("colorPicker")||{}),{},{move:function(D){var I=R(D);se=I,a.backgroundColor=I,le(I,!1)},change:function(D){S=!0;var I=R(D);a.backgroundColor=I,le(I),W.noneColor=0},show:function(D){S=!1,se="",he=E?z.getValue({noDefault:!0}):R(D)},hide:function(){S||!he&&!E||(W.noneColor&&(he=""),a.backgroundColor=he,O.spectrum("set",he),le(he,!1))}})),A&&A.on&&this.listenTo(A,"component:selected",function(){se&&le(se),S=!0,se="",O.spectrum("hide")}),this.colorEl=O}return this.colorEl}},{key:"render",value:function(){return T.Z.prototype.render.call(this),this.getColorEl(),this}}]),xe}(T.Z)},7610:(gt,Ze,_)=>{_.d(Ze,{Z:()=>V});var ve=_(5671),_e=_(3144),fe=_(7326),de=_(9340),ue=_(2963),ne=_(1120),X=_(2316),ee=_.n(X),j=_(9050),m=_(1163),b=_(8659);function T(s){var ae=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var $,R=(0,ne.Z)(s);if(ae){var Z=(0,ne.Z)(this).constructor;$=Reflect.construct(R,arguments,Z)}else $=R.apply(this,arguments);return(0,ue.Z)(this,$)}}ee().$;var V=function(s){(0,de.Z)($,s);var ae=T($);function $(){var R,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ve.Z)(this,$),R=ae.call(this,Z),(0,j.bindAll)((0,fe.Z)(R),"moveIncrement","upIncrement"),R.doc=document,R.listenTo(R.model,"change:unit",R.handleModelChange),R}return(0,_e.Z)($,[{key:"template",value:function(){var R=this.ppfx;return`
      <span class="`.concat(R,`input-holder"></span>
      <span class="`).concat(R,`field-units"></span>
      <div class="`).concat(R,`field-arrows" data-arrows>
        <div class="`).concat(R,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(R,`field-arrow-d" data-arrow-down></div>
      </div>
    `)}},{key:"inputClass",value:function(){var R=this.ppfx;return this.opts.contClass||"".concat(R,"field ").concat(R,"field-integer")}},{key:"setValue",value:function(R,Z){var L=Z||{},te=this.validateInputValue(R,{deepCheck:1}),xe={value:te.value};(te.unit||te.force)&&(xe.unit=te.unit),this.model.set(xe,L),L.silent&&this.handleModelChange()}},{key:"handleChange",value:function(R){R.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()}},{key:"handleUnitChange",value:function(R){R.stopPropagation();var Z=this.getUnitEl().value;this.model.set("unit",Z),this.elementUpdated()}},{key:"handleKeyDown",value:function(R){R.key==="ArrowUp"&&(R.preventDefault(),this.upArrowClick()),R.key==="ArrowDown"&&(R.preventDefault(),this.downArrowClick())}},{key:"elementUpdated",value:function(){this.model.trigger("el:change")}},{key:"handleModelChange",value:function(){var R=this.model;this.getInputEl().value=R.get("value");var Z=this.getUnitEl();Z&&(Z.value=R.get("unit")||"")}},{key:"getUnitEl",value:function(){if(!this.unitEl){var R=this.model,Z=R.get("units")||[];if(Z.length){var L=['<option value="" disabled hidden>-</option>'];Z.forEach(function(xe){var he=xe==R.get("unit")?"selected":"";L.push("<option ".concat(he,">").concat(xe,"</option>"))});var te=document.createElement("div");te.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(L.join(""),"</select>"),this.unitEl=te.firstChild}}return this.unitEl}},{key:"upArrowClick",value:function(){var R=this.model,Z=R.get("step"),L=parseFloat(R.get("value"));this.setValue(this.normalizeValue(L+Z)),this.elementUpdated()}},{key:"downArrowClick",value:function(){var R=this.model,Z=R.get("step"),L=parseFloat(R.get("value"));this.setValue(this.normalizeValue(L-Z)),this.elementUpdated()}},{key:"downIncrement",value:function(R){R.preventDefault(),this.moved=0;var Z=this.model.get("value")||0;Z=this.normalizeValue(Z),this.current={y:R.pageY,val:Z},(0,m.on)(this.doc,"mousemove",this.moveIncrement),(0,m.on)(this.doc,"mouseup",this.upIncrement)}},{key:"moveIncrement",value:function(R){this.moved=1;var Z=this.model,L=Z.get("step"),te=this.current,xe=this.normalizeValue(te.val+(te.y-R.pageY)*L),he=this.validateInputValue(xe),A=he.value,z=he.unit;return this.prValue=A,Z.set({value:A,unit:z},{avoidStore:1}),!1}},{key:"upIncrement",value:function(){var R=this.model,Z=R.get("step");if((0,m.off)(this.doc,"mouseup",this.upIncrement),(0,m.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var L=this.prValue-Z;R.set("value",L,{avoidStore:1}).set("value",L+Z),this.elementUpdated()}}},{key:"normalizeValue",value:function(R){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.model,te=L.get("step"),xe=0;if(isNaN(R))return Z;if(R=parseFloat(R),Math.floor(R)!==R){var he=te.toString().split(".")[1];xe=he?he.length:0}return xe?parseFloat(R.toFixed(xe)):R}},{key:"validateInputValue",value:function(R){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=0,te=Z||{},xe=this.model,he="",A=(0,j.isUndefined)(R)?he:R,z=Z.units||xe.get("units")||[],B=xe.get("unit")||z.length&&z[0]||"",W=(0,j.isUndefined)(Z.max)?xe.get("max"):Z.max,ie=(0,j.isUndefined)(Z.min)?xe.get("min"):Z.min,E=!!xe.get("limitlessMax"),O=!!xe.get("limitlessMin");if(te.deepCheck){var a=xe.get("fixedValues")||[];if(A===""&&(B=""),A){var c=new RegExp("^"+a.join("|"),"g");if(a.length&&c.test(A))A=A.match(c)[0],B="",L=1;else{var g=A+"";A+="",A=parseFloat(A.replace(",",".")),A=isNaN(A)?he:A;var S=g.replace(A,"");(0,j.indexOf)(z,S)>=0&&(B=S)}}}return E||(0,j.isUndefined)(W)||W===""||(A=A>W?W:A),O||(0,j.isUndefined)(ie)||ie===""||(A=A<ie?ie:A),{force:L,value:A,unit:B}}},{key:"render",value:function(){b.Z.prototype.render.call(this),this.unitEl=null;var R=this.getUnitEl();return R&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(R),this}}]),$}(b.Z);V.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"}},6602:(gt,Ze,_)=>{_.d(Ze,{Z:()=>T});var ve=_(5671),_e=_(3144),fe=_(7326),de=_(9340),ue=_(2963),ne=_(1120),X=_(4942),ee=_(9050),j=_(2316),m=_.n(j);function b(V){var s=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ae,$=(0,ne.Z)(V);if(s){var R=(0,ne.Z)(this).constructor;ae=Reflect.construct($,arguments,R)}else ae=$.apply(this,arguments);return(0,ue.Z)(this,ae)}}var T=function(V){(0,de.Z)(ae,V);var s=b(ae);function ae(){var $,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=arguments.length>1?arguments[1]:void 0,L=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return(0,ve.Z)(this,ae),$=s.call(this,R),(0,X.Z)((0,fe.Z)($),"itemsView",""),(0,X.Z)((0,fe.Z)($),"itemType","type"),(0,X.Z)((0,fe.Z)($),"reuseView",!1),$.config=Z||R.config||{},L&&$.listenTo($.collection,"add",$.addTo),$.items=[],$}return(0,_e.Z)(ae,[{key:"addTo",value:function($){this.add($)}},{key:"itemViewNotFound",value:function($){var R=this.config,Z=this.ns,L=R.em,te="".concat(Z?"[".concat(Z,"]: "):"","'").concat($,"' type not found");L&&L.logWarning(te)}},{key:"add",value:function($,R){var Z,L=this.config,te=this.reuseView,xe=this.items,he=this.itemsView,A=he===void 0?{}:he,z=R||null,B=this.itemView,W=$.get(this.itemType);A[W]?B=A[W]:!W||A[W]||(0,ee.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],W)||this.itemViewNotFound(W),Z=$.view&&te?$.view:new B({model:$,config:L},L),xe&&xe.push(Z);var ie=Z.render().el;z?z.appendChild(ie):this.$el.append(ie)}},{key:"render",value:function(){var $=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(R){this.add(R,$)},this),this.$el.append($),this.onRender(),this}},{key:"onRender",value:function(){}},{key:"onRemoveBefore",value:function(){}},{key:"onRemove",value:function(){}},{key:"remove",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=this.items;this.onRemoveBefore(R,$),this.clearItems(),m().View.prototype.remove.apply(this,arguments),this.onRemove(R,$)}},{key:"clearItems",value:function(){this.items}}]),ae}(m().View);T.prototype.itemView=""},4836:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>m});var ve=_(5671),_e=_(3144),fe=_(4942),de=_(9050),ue=_(1163),ne={placeholder:"eg. Text here"};const X={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:ne,alt:ne,title:ne,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:null};function ee(b,T){var V=Object.keys(b);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(b);T&&(s=s.filter(function(ae){return Object.getOwnPropertyDescriptor(b,ae).enumerable})),V.push.apply(V,s)}return V}function j(b){for(var T=1;T<arguments.length;T++){var V=arguments[T]!=null?arguments[T]:{};T%2?ee(Object(V),!0).forEach(function(s){(0,fe.Z)(b,s,V[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(V)):ee(Object(V)).forEach(function(s){Object.defineProperty(b,s,Object.getOwnPropertyDescriptor(V,s))})}return b}var m=function(){function b(){(0,ve.Z)(this,b),(0,fe.Z)(this,"name","I18n")}return(0,_e.Z)(b,[{key:"init",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.config=j(j(j({},X),T),{},{messages:j(j({},X.messages),T.messages||{})});var V=this.config.messagesAdd;return V&&this.addMessages(V),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=T.em,this}},{key:"getConfig",value:function(){return this.config}},{key:"setLocale",value:function(T){var V=this.em,s=this.config,ae={value:T,valuePrev:s.locale};return V&&V.trigger("i18n:locale",ae),s.locale=T,this}},{key:"getLocale",value:function(){return this.config.locale}},{key:"getMessages",value:function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.config.messages;return T&&!s[T]&&this._debug("'".concat(T,"' i18n lang not found"),V),T?s[T]:s}},{key:"setMessages",value:function(T){var V=this.em;return this.config.messages=T,V&&V.trigger("i18n:update",T),this}},{key:"addMessages",value:function(T){var V=this.em,s=this.config.messages;return V&&V.trigger("i18n:add",T),this.setMessages((0,ue.deepMerge)(s,T)),this}},{key:"t",value:function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.config,ae=V.params||{},$=V.l||this.getLocale(),R=V.lFlb||s.localeFallback,Z=this._getMsg(T,$,V);return Z||(Z=this._getMsg(T,R,V)),!Z&&this._debug("'".concat(T,"' i18n key not found in '").concat($,"' lang"),V),Z=Z&&(0,de.isString)(Z)?this._addParams(Z,ae):Z}},{key:"_localLang",value:function(){var T=(0,ue.hasWin)()&&window.navigator||{},V=T.language||T.userLanguage;return V?V.split("-")[0]:"en"}},{key:"_addParams",value:function(T,V){var s=new RegExp("{([\\w\\d-]*)}","g");return T.replace(s,function(ae,$){return V[$]||""}).trim()}},{key:"_getMsg",value:function(T,V){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ae=this.getMessages(V,s);if(ae){var $=ae[T];return!$&&T.indexOf(".")>0&&($=T.split(".").reduce(function(R,Z){if(!(0,de.isUndefined)(R))return R[Z]},ae)),$}}},{key:"_debug",value:function(T){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.em,ae=this.config;(V.debug||ae.debug)&&s&&s.logWarning(T)}},{key:"destroy",value:function(){this.config={},this.em={}}}]),b}()},9788:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ie});var ve,_e=_(1002),fe=_(4942),de=_(9050),ue=_(1163),ne={},X={16:!1,18:!1,17:!1,91:!1},ee="all",j={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},m={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},b=function(E){return m[E]||E.toUpperCase().charCodeAt(0)},T=[];for(ve=1;ve<20;ve++)m["f"+ve]=111+ve;function V(E,O){for(var a=E.length;a--;)if(E[a]===O)return a;return-1}function s(E,O){if(E.length!=O.length)return!1;for(var a=0;a<E.length;a++)if(E[a]!==O[a])return!1;return!0}var ae={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function $(E){for(ve in X)X[ve]=E[ae[ve]]}function R(E){var O,a=E.keyCode,c=V(T,a);if(c>=0&&T.splice(c,1),a!=93&&a!=224||(a=91),a in X)for(O in X[a]=!1,j)j[O]==a&&(L[O]=!1)}function Z(){for(ve in X)X[ve]=!1;for(ve in j)L[ve]=!1}function L(E,O,a){var c,g;c=xe(E),a===void 0&&(a=O,O="all");for(var S=0;S<c.length;S++)g=[],(E=c[S].split("+")).length>1&&(g=he(E),E=[E[E.length-1]]),E=E[0],(E=b(E))in ne||(ne[E]=[]),ne[E].push({shortcut:c[S],scope:O,method:a,key:c[S],mods:g})}for(ve in j)L[ve]=!1;function te(){return ee||"all"}function xe(E){var O;return(O=(E=E.replace(/\s/g,"")).split(","))[O.length-1]==""&&(O[O.length-2]+=","),O}function he(E){for(var O=E.slice(0,E.length-1),a=0;a<O.length;a++)O[a]=j[O[a]];return O}function A(E,O,a){E.addEventListener?E.addEventListener(O,a,!1):E.attachEvent&&E.attachEvent("on"+O,function(){a(window.event)})}L.setScope=function(E){ee=E||"all"},L.getScope=te,L.deleteScope=function(E){var O,a,c;for(O in ne)for(a=ne[O],c=0;c<a.length;)a[c].scope===E?a.splice(c,1):c++},L.filter=function(E){var O=(E.target||E.srcElement).tagName;return!(O=="INPUT"||O=="SELECT"||O=="TEXTAREA")},L.isPressed=function(E){return typeof E=="string"&&(E=b(E)),V(T,E)!=-1},L.getPressedKeyCodes=function(){return T.slice(0)},L.unbind=function(E,O){var a,c,g,S,se,le=[];for(a=xe(E),S=0;S<a.length;S++){if((c=a[S].split("+")).length>1&&(le=he(c)),E=c[c.length-1],E=b(E),O===void 0&&(O=te()),!ne[E])return;for(g=0;g<ne[E].length;g++)(se=ne[E][g]).scope===O&&s(se.mods,le)&&(ne[E][g]={})}},L.handlers=ne,L.init=function(E){A(E.document,"keydown",function(O){(function(a){var c,g,S,se,le,D;if(c=a.keyCode,V(T,c)==-1&&T.push(c),c!=93&&c!=224||(c=91),c in X)for(S in X[c]=!0,j)j[S]==c&&(L[S]=!0);else if($(a),L.filter.call(this,a)&&c in ne){for(D=te(),se=0;se<ne[c].length;se++)if((g=ne[c][se]).scope==D||g.scope=="all"){for(S in le=g.mods.length>0,X)(!X[S]&&V(g.mods,+S)>-1||X[S]&&V(g.mods,+S)==-1)&&(le=!1);(g.mods.length!=0||X[16]||X[18]||X[17]||X[91])&&!le||g.method(a,g)===!1&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}})(O)}),A(E.document,"keyup",R),A(E,"focus",Z)};const z=L;function B(E,O){var a=Object.keys(E);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(E);O&&(c=c.filter(function(g){return Object.getOwnPropertyDescriptor(E,g).enumerable})),a.push.apply(a,c)}return a}function W(E){for(var O=1;O<arguments.length;O++){var a=arguments[O]!=null?arguments[O]:{};O%2?B(Object(a),!0).forEach(function(c){(0,fe.Z)(E,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach(function(c){Object.defineProperty(E,c,Object.getOwnPropertyDescriptor(a,c))})}return E}(0,ue.hasWin)()&&z.init(window);const ie=function(){var E={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:z,name:"Keymaps",getConfig:function(){return this.config},init:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.config=W(W({},E),O),this.em=this.config.em,this.keymaps={},this},onLoad:function(){var O=this.config.defaults;for(var a in O){var c=O[a];this.add(a,c.keys,c.handler,c.opts||{})}},add:function(O,a,c){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=this.em,se=S.get("Commands"),le=S.getEditor(),D=S.get("Canvas"),I={id:O,keys:a,handler:c},C=this.keymaps[O];return C&&this.remove(O),this.keymaps[O]=I,z(a,function(l,f){var h={event:l,h:f};if(c=(0,de.isString)(c)?se.get(c):c,!S.isEditing()&&!le.Canvas.isInputFocused()||g.force){g.prevent&&D.getCanvasView().preventDefault(l),(0,_e.Z)(c)=="object"?se.runCommand(c,h):c(le,0,h);var u=[O,f.shortcut,l];S.trigger.apply(S,["keymap:emit"].concat(u)),S.trigger.apply(S,["keymap:emit:".concat(O)].concat(u))}}),S.trigger("keymap:add",I),I},get:function(O){return this.keymaps[O]},getAll:function(){return this.keymaps},remove:function(O){var a=this.em,c=this.get(O);if(c)return delete this.keymaps[O],c.keys.split(", ").forEach(function(g){return z.unbind(g.trim())}),a&&a.trigger("keymap:remove",c),c},removeAll:function(){var O=this;return Object.keys(this.keymaps).forEach(function(a){return O.remove(a)}),z.handlers={},this},destroy:function(){this.removeAll(),this.keymaps={},this.em={}}}}},4424:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>Z});var ve=_(4942);const _e={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,optionsHtml:{htmlType:null,allowScripts:!1,allowUnsafeAttr:!1}};var fe=_(9050),de={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},ue=(0,fe.keys)(de),ne=["5","6","11","15"],X=["font-face","page","counter-style","viewport"],ee=function(){for(var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",te=[],xe=[],he=L.split(","),A=0,z=he.length;A<z;A++){var B=he[A].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(B)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(B)){var W=B.split(".").filter(Boolean);xe.push(W)}else te.push(B)}return{result:xe,add:te}},j=function(L){for(var te=L.style,xe={},he=0,A=te.length;he<A;he++){var z=te[he],B=te.getPropertyValue(z),W=te.getPropertyPriority(z);xe[z]="".concat(B).concat(W?" !".concat(W):"")}return xe},m=function(L){return(L.conditionText||L.media&&L.media.mediaText||L.name||L.selectorText||"").trim()},b=function(L){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he={},A=L.length,z=L[A-1],B=z?z.split(/:(.+)/):[],W=B[1],ie=xe.atRule,E=xe.selectorsAdd,O=xe.mediaText,a=X.indexOf(ie)>=0;return a&&(he.singleAtRule=1),ie&&(he.atRuleType=ie),E&&(he.selectorsAdd=E),O&&(he.mediaText=O),W&&(L[A-1]=B[0],he.state=W,B.splice(B.length-1,1)),he.selectors=L,he.style=te,he},T=function L(te){for(var xe=[],he=te.cssRules||[],A=0,z=he.length;A<z;A++){var B=he[A],W=B.type.toString(),ie=0,E="",O="",a=B.selectorText||B.keyText,c=ne.indexOf(W)>=0;if(c)ie=1,E=de[W],O=m(B);else if(ue.indexOf(W)>=0){var g=L(B);O=m(B);for(var S=0,se=g.length;S<se;S++){var le=g[S];O&&(le.mediaText=O),le.atRuleType=de[W]}xe=xe.concat(g)}if(a||c){for(var D=j(B),I=ee(a),C=I.add,l=void 0,f=0,h=(a=I.result).length;f<h;f++){var u=b(a[f],D,{atRule:de[W]});xe.push(u),l=u}if(C.length){var d=C.join(", ");if(l)l.selectorsAdd=d;else{var P={selectors:[],selectorsAdd:d,style:D};ie&&(P.singleAtRule=ie),E&&(P.atRuleType=E),O&&(P.mediaText=O),xe.push(P)}}}}return xe};const V=function(L){var te=document.createElement("style");te.innerHTML=L,document.head.appendChild(te);var xe=te.sheet;return document.head.removeChild(te),T(xe)},s=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{parse:function(te){var xe=this,he=[],A=L.parserCss,z=L.em,B=z&&z.get&&z.get("Editor");return(A?A(te,B):V(te)).forEach(function(W){return he=he.concat(xe.checkNode(W))}),z&&z.trigger("parse:css",{input:te,output:he}),he},checkNode:function(te){var xe=te,he=xe.selectors,A=xe.style;if((0,fe.isString)(he)){var z=[],B=ee(he),W=B.result,ie=B.add.join(", "),E={atRule:te.atRule,mediaText:te.params};W.length?W.forEach(function(O){z.push(b(O,A,E))}):z.push(b([],A,E)),ie&&(z[z.length-1].selectorsAdd=ie),te=z}return te}}};var ae=_(5311);function $(L,te){var xe=Object.keys(L);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(L);te&&(he=he.filter(function(A){return Object.getOwnPropertyDescriptor(L,A).enumerable})),xe.push.apply(xe,he)}return xe}function R(L){for(var te=1;te<arguments.length;te++){var xe=arguments[te]!=null?arguments[te]:{};te%2?$(Object(xe),!0).forEach(function(he){(0,ve.Z)(L,he,xe[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(xe)):$(Object(xe)).forEach(function(he){Object.defineProperty(L,he,Object.getOwnPropertyDescriptor(xe,he))})}return L}const Z=function(){var L,te,xe={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(xe=R(R({},_e),he)).Parser=this,L=new ae.Z(xe),te=new s(xe),this.em=xe.em,this.parserCss=te,this.parserHtml=L,this},getConfig:function(){return xe},parseHtml:function(he){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=this.em,B=this.compTypes;return L.compTypes=z?z.get("DomComponents").getTypes():B,L.parse(he,te,A)},parseCss:function(he){return te.parse(he)},destroy:function(){var he=this;["em","parserCss","parserHtml"].forEach(function(A){return he[A]={}})}}}},5311:(gt,Ze,_)=>{_.d(Ze,{Z:()=>j});var ve=_(4942),_e=_(1002),fe=_(9050),de="text/html",ue=de;const ne=function(m){var b,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=new DOMParser,s=T.htmlType||ue,ae=s===de,$=ae?m:"<div>".concat(m,"</div>"),R=V.parseFromString($,s);if(ae){var Z=R.head,L=R.body,te=Z.querySelectorAll("script");(0,fe.each)(te,function(he){return L.appendChild(he)});var xe=[];(0,fe.each)(Z.children,function(he){return xe.push(he)}),(0,fe.each)(xe,function(he,A){return L.insertBefore(he,L.children[A])}),b=L}else b=R.firstChild;return b};function X(m,b){var T=Object.keys(m);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(m);b&&(V=V.filter(function(s){return Object.getOwnPropertyDescriptor(m,s).enumerable})),T.push.apply(T,V)}return T}function ee(m){for(var b=1;b<arguments.length;b++){var T=arguments[b]!=null?arguments[b]:{};b%2?X(Object(T),!0).forEach(function(V){(0,ve.Z)(m,V,T[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(T)):X(Object(T)).forEach(function(V){Object.defineProperty(m,V,Object.getOwnPropertyDescriptor(T,V))})}return m}const j=function(m){var b=m,T="data-gjs-",V="parse:html";return{compTypes:"",modelAttrStart:T,splitPropsFromAttr:function(){var s=this,ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$={},R={};return(0,fe.each)(ae,function(Z,L){if(L.indexOf(s.modelAttrStart)===0){var te=L.replace(T,""),xe=Z.length,he=Z&&(0,fe.isString)(Z),A=he&&Z.substr(0,1),z=he&&Z.substr(xe-1);Z=(Z=Z==="true"||Z)!=="false"&&Z;try{Z=A=="{"&&z=="}"||A=="["&&z=="]"?JSON.parse(Z):Z}catch{}$[te]=Z}else R[L]=Z}),{props:$,attrs:R}},parseStyle:function(s){for(var ae={},$=s.split(";"),R=0,Z=$.length;R<Z;R++){var L=$[R].trim();if(L){var te=L.split(":");ae[te[0].trim()]=te.slice(1).join(":").trim()}}return ae},parseClass:function(s){for(var ae=[],$=s.split(" "),R=0,Z=$.length;R<Z;R++){var L=$[R].trim();L&&ae.push(L)}return ae},parseNode:function(s){for(var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=[],R=s.childNodes,Z=0,L=R.length;Z<L;Z++){var te=R[Z],xe=te.attributes||[],he=xe.length,A=$[$.length-1],z=te.childNodes.length,B=this.compTypes,W={};if(B){var ie="",E=te.getAttribute&&te.getAttribute("".concat(T,"type"));if(E)W={type:E};else{for(var O=0;O<B.length;O++){var a=B[O];if(ie=a.model.isComponent(te,ae)){(0,_e.Z)(ie)!=="object"&&(ie={type:a.id});break}}W=ie}}if(!W.tagName){var c=te.tagName||"",g=te.namespaceURI||"";W.tagName=c&&g==="http://www.w3.org/1999/xhtml"?c.toLowerCase():c}he&&(W.attributes={});for(var S=0;S<he;S++){var se=xe[S].nodeName,le=xe[S].nodeValue;if(se=="style")W.style=this.parseStyle(le);else if(se=="class")W.classes=this.parseClass(le);else{if(se=="contenteditable")continue;if(se.indexOf(T)===0){var D=se.replace(T,""),I=le.length,C=le&&le.substr(0,1),l=le&&le.substr(I-1);le=(le=le==="true"||le)!=="false"&&le;try{le=C=="{"&&l=="}"||C=="["&&l=="]"?JSON.parse(le):le}catch{}W[D]=le}else le===""&&te[se]===!0&&(le=!0),W.attributes[se]=le}}if(z&&!W.components){var f=te.childNodes[0];z===1&&f.nodeType===3?(!W.type&&(W.type="text"),W.components={type:"textnode",content:f.nodeValue}):W.components=this.parseNode(te,ee(ee({},ae),{},{inSvg:ae.inSvg||W.type==="svg"}))}if(W.type=="textnode"){if(A&&A.type=="textnode"){A.content+=W.content;continue}if(!m.keepEmptyTextNodes){var h=te.nodeValue;if(h!=" "&&!h.trim())continue}}z||"".concat(te.outerHTML).slice(-2)!=="/>"||(W.void=!0);var u=W.components;if(!W.type&&u){for(var d=1,P=0,q=0;q<u.length;q++){var K=u[q],H=K.type;if(["text","textnode"].indexOf(H)<0&&b.textTags.indexOf(K.tagName)<0){d=0;break}H=="textnode"&&(P=1)}d&&P&&(W.type="text")}(W.tagName||W.type=="textnode")&&$.push(W)}return $},parse:function(s,ae){var $,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Z=b.em,L=Z&&Z.get("Config")||{},te={html:null,css:null},xe=ee(ee({},m),R),he=ee(ee({},m.optionsHtml),{},{htmlType:(($=m.optionsHtml)===null||$===void 0?void 0:$.htmlType)||m.htmlType},R),A=(0,fe.isFunction)(xe.parserHtml)?xe.parserHtml(s,he):ne(s,he),z=A.querySelectorAll("script"),B=z.length,W=(0,fe.isUndefined)(L.allowScripts)?he.allowScripts:L.allowScripts;if(!W)for(;B--;)z[B].parentNode.removeChild(z[B]);if(he.allowUnsafeAttr||this.__clearUnsafeAttr(A),ae){for(var ie=A.querySelectorAll("style"),E=ie.length,O="";E--;)O=ie[E].innerHTML+O,ie[E].parentNode.removeChild(ie[E]);O&&(te.css=ae.parse(O))}Z&&Z.trigger("".concat(V,":root"),{input:s,root:A});var a=this.parseNode(A,xe),c=a.length!==1||b.returnArray?a:a[0];return te.html=c,Z&&Z.trigger(V,{input:s,output:te}),te},__clearUnsafeAttr:function(s){var ae=this,$=s.attributes||[],R=s.childNodes||[],Z=[];(0,fe.each)($,function(L){var te=L.nodeName||"";te.indexOf("on")===0&&Z.push(te)}),Z.map(function(L){return s.removeAttribute(L)}),(0,fe.each)(R,function(L){return ae.__clearUnsafeAttr(L)})}}}},2012:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>z});var ve=_(5861),_e=_(2982),fe=_(4942),de=_(4687),ue=_.n(de),ne=_(1163),X=_(5671),ee=_(3144),j=_(9050);function m(B,W){var ie=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);W&&(E=E.filter(function(O){return Object.getOwnPropertyDescriptor(B,O).enumerable})),ie.push.apply(ie,E)}return ie}function b(B){for(var W=1;W<arguments.length;W++){var ie=arguments[W]!=null?arguments[W]:{};W%2?m(Object(ie),!0).forEach(function(E){(0,fe.Z)(B,E,ie[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(ie)):m(Object(ie)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(ie,E))})}return B}var T="_rte",V=1,s=0,ae=-1,$=function(B){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"A",ie=B.selection(),E=ie.anchorNode,O=ie.focusNode,a=E==null?void 0:E.parentNode,c=O==null?void 0:O.parentNode;return(a==null?void 0:a.nodeName)==W||(c==null?void 0:c.nodeName)==W},R="data-selectme",Z={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(B){return B.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(B){return B.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(B){return B.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(B){return B.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(B){return B&&B.selection()&&$(B)?V:s},result:function(B){$(B)?B.exec("unlink"):B.insertHTML('<a href="" '.concat(R,">").concat(B.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(B){return B!=null&&B.selection()&&$(B,"SPAN")?ae:s},result:function(B){!$(B,"SPAN")&&B.insertHTML("<span ".concat(R,">").concat(B.selection(),"</span>"),{select:!0})}}},L=function(){function B(){var W=this,ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,X.Z)(this,B);var E=ie.el,O=ie.em;if(this.em=O,E[T])return E[T];E[T]=this,this.setEl(E),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var a=(ie.actions||[]).map(function(le){var D=le;return typeof le=="string"?D=b({},Z[le]):Z[le.name]&&(D=b(b({},Z[le.name]),le)),D}),c=a.length?a:Object.keys(Z).map(function(le){return Z[le]});ie.classes=b(b({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),ie.classes);var g=ie.classes,S=ie.actionbar;if(this.actionbar=S,this.settings=ie,this.classes=g,this.actions=c,!S){var se=ie.actionbarContainer;(S=document.createElement("div")).className=g.actionbar,se.appendChild(S),this.actionbar=S,c.forEach(function(le){return W.addAction(le)})}return ie.styleWithCSS&&this.exec("styleWithCSS"),this}return(0,ee.Z)(B,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(W){this.el=W,this.doc=W.ownerDocument}},{key:"updateActiveActions",value:function(){var W=this;this.getActions().forEach(function(ie){var E=ie.btn,O=ie.update,a=b({},W.classes),c=a.active,g=a.inactive,S=a.disabled,se=ie.state,le=ie.name,D=W.doc;if(E.className=E.className.replace(c,"").trim(),E.className=E.className.replace(g,"").trim(),E.className=E.className.replace(S,"").trim(),se)switch(se(W,D)){case V:E.className+=" ".concat(c);break;case s:E.className+=" ".concat(g);break;case ae:E.className+=" ".concat(S)}else D.queryCommandSupported(le)&&D.queryCommandState(le)&&(E.className+=" ".concat(c));O&&O(W,ie)})}},{key:"enable",value:function(W){return this.enabled?this:this.__toggleEffects(!0,W)}},{key:"disable",value:function(){return this.__toggleEffects(!1)}},{key:"__toggleEffects",value:function(){var W=arguments.length>0&&arguments[0]!==void 0&&arguments[0],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=W?ne.on:ne.off,O=this.el,a=this.doc;if(this.actionbarEl().style.display=W?"":"none",O.contentEditable=!!W,E(O,"mouseup keyup",this.updateActiveActions),E(a,"keydown",this.__onKeydown),E(a,"paste",this.__onPaste),this.enabled=W,W){var c=ie.event;if(this.syncActions(),this.updateActiveActions(),c){var g=null;if(a.caretRangeFromPoint){var S=(0,ne.getPointerEvent)(c);g=a.caretRangeFromPoint(S.clientX,S.clientY)}else c.rangeParent&&(g=a.createRange()).setStart(c.rangeParent,c.rangeOffset);var se=a.getSelection();se.removeAllRanges(),g&&se.addRange(g)}O.focus()}return this}},{key:"__onKeydown",value:function(W){var ie=this.doc;W.key!=="Enter"||["insertOrderedList","insertUnorderedList"].some(function(E){return ie.queryCommandState(E)})||(ie.execCommand("insertLineBreak"),W.preventDefault())}},{key:"__onPaste",value:function(W){var ie=W.clipboardData||window.clipboardData,E=ie.getData("text"),O=ie.getData("text/html");if(E&&!O){W.preventDefault();var a=E.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,a)}}},{key:"syncActions",value:function(){var W=this;this.getActions().forEach(function(ie){if(W.actionbar&&(!ie.state||ie.state&&ie.state(W,W.doc)>=0)){var E=ie.event||"click";ie.btn["on".concat(E)]=function(O){ie.result(W,ie),W.updateActiveActions()}}})}},{key:"addAction",value:function(W){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=ie.sync,O=document.createElement("span"),a=W.icon,c=W.attributes||{};for(var g in O.className=this.classes.button,W.btn=O,c)O.setAttribute(g,c[g]);typeof a=="string"?O.innerHTML=a:O.appendChild(a),this.actionbarEl().appendChild(O),E&&(this.actions.push(W),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(W){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.doc.execCommand(W,!1,ie)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(W){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=ie.select,O=this.em,a=this.doc,c=this.el,g=a.getSelection();if(g&&g.rangeCount){var S=(0,ne.getModel)(c),se=a.createElement("div"),le=g.getRangeAt(0);le.deleteContents(),(0,j.isString)(W)?se.innerHTML=W:W&&se.appendChild(W),Array.prototype.slice.call(se.childNodes).forEach(function(D){le.insertNode(D)}),g.removeAllRanges(),g.addRange(le),c.focus(),E&&S&&(S.once("rte:disable",function(){var D=S.find("[".concat(R,"]"))[0];D&&(O.setSelected(D),D.removeAttributes(R))}),S.trigger("disable"))}}}]),B}();const te={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link","wrap"]};function xe(B,W){var ie=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);W&&(E=E.filter(function(O){return Object.getOwnPropertyDescriptor(B,O).enumerable})),ie.push.apply(ie,E)}return ie}function he(B){for(var W=1;W<arguments.length;W++){var ie=arguments[W]!=null?arguments[W]:{};W%2?xe(Object(ie),!0).forEach(function(E){(0,fe.Z)(B,E,ie[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(ie)):xe(Object(ie)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(ie,E))})}return B}var A="change:canvasOffset frame:scroll component:update";const z=function(){var B,W=function(){var ie=B.style,E="-1000px";ie.top=E,ie.left=E,ie.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return this.config},init:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=he(he({},te),ie),O=E.pStylePrefix;return O&&(E.stylePrefix=O+E.stylePrefix),this.config=E,this.pfx=E.stylePrefix,this.em=E.em,this.actions=E.actions||[],(0,ne.hasWin)()?((B=document.createElement("div")).className="".concat(O,"rte-toolbar ").concat(O,"one-bg"),this.initRte(document.createElement("div")),(0,ne.on)(B,"mousedown",function(a){return a.stopPropagation()}),this):this},destroy:function(){var ie,E,O,a=this;(ie=this.globalRte)===null||ie===void 0||ie.destroy(),(E=this.customRte)===null||E===void 0||(O=E.destroy)===null||O===void 0||O.call(E),B=0,["actionbar","actions","em","config","globalRte","lastEl"].map(function(c){delete a[c]})},postRender:function(ie){var E=ie.model.get("Canvas");B.style.pointerEvents="all",W(),E.getToolsEl().appendChild(B)},initRte:function(ie){var E=this.globalRte,O=this.em,a=this.pfx,c=this.actionbar,g=this.config,S=B,se=this.actions||(0,_e.Z)(g.actions),le={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return E?(E.em=O,E.setEl(ie)):(E=new L({em:O,el:ie,classes:le,actions:se,actionbar:c,actionbarContainer:S}),this.globalRte=E),E.actionbar&&(this.actionbar=E.actionbar),E.actions&&(this.actions=E.actions),E},add:function(ie){var E,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O.name=ie,(E=this.globalRte)===null||E===void 0||E.addAction(O,{sync:1})},get:function(ie){var E,O;return(E=this.globalRte)===null||E===void 0||E.getActions().forEach(function(a){a.name==ie&&(O=a)}),O},getAll:function(){var ie;return(ie=this.globalRte)===null||ie===void 0?void 0:ie.getActions()},remove:function(ie){var E=this.getAll(),O=this.get(ie);if(O){var a=O.btn,c=E.indexOf(O);a.parentNode.removeChild(a),E.splice(c,1)}return O},getToolbarEl:function(){return B},updatePosition:function(){var ie="px",E=this.em.get("Canvas"),O=B.style,a=E.getTargetToElementFixed(this.lastEl,B,{event:"rteToolbarPosUpdate",left:0});O.top=(a.top||0)+ie,O.left=(a.left||0)+ie},enable:function(ie,E,O){var a=this;return(0,ve.Z)(ue().mark(function c(){var g,S,se,le;return ue().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return a.lastEl=ie.el,g=a.customRte,S=a.em,se=ie.getChildrenContainer(),B.style.display="",D.next=6,g?g.enable(se,E):a.initRte(se).enable(O);case 6:return le=D.sent,S&&(setTimeout(a.updatePosition.bind(a),0),S.off(A,a.updatePosition,a),S.on(A,a.updatePosition,a),S.trigger("rte:enable",ie,le)),D.abrupt("return",le);case 9:case"end":return D.stop()}},c)}))()},disable:function(ie,E){var O=this.em,a=this.customRte,c=ie.getChildrenContainer();a?a.disable(c,E):E&&E.disable(),W(),O&&(O.off(A,this.updatePosition,this),O.trigger("rte:disable",ie,E))}}}},4859:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>O});var ve=_(5861),_e=_(5671),fe=_(3144),de=_(7326),ue=_(9340),ne=_(2963),X=_(1120),ee=_(4942),j=_(4687),m=_.n(j),b=_(9714);const T={id:"gjs-",type:"local",autosave:!0,autoload:!0,recovery:!1,stepsBeforeSave:1,onStore:function(a){return a},onLoad:function(a){return a},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(a){return a},onLoad:function(a){return a}}}};var V=_(1163),s=function(){function a(){(0,_e.Z)(this,a)}var c,g;return(0,fe.Z)(a,[{key:"store",value:(g=(0,ve.Z)(m().mark(function S(se){var le,D=arguments;return m().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:le=D.length>1&&D[1]!==void 0?D[1]:{},this.hasLocal(le,!0)&&localStorage.setItem(le.key,JSON.stringify(se));case 2:case"end":return I.stop()}},S,this)})),function(S){return g.apply(this,arguments)})},{key:"load",value:(c=(0,ve.Z)(m().mark(function S(){var se,le,D=arguments;return m().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return se=D.length>0&&D[0]!==void 0?D[0]:{},le={},this.hasLocal(se,!0)&&(le=JSON.parse(localStorage.getItem(se.key)||"{}")),I.abrupt("return",le);case 4:case"end":return I.stop()}},S,this)})),function(){return c.apply(this,arguments)})},{key:"hasLocal",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},se=arguments.length>1?arguments[1]:void 0;if(S.checkLocal&&(!(0,V.hasWin)()||!localStorage)){if(se)throw new Error("localStorage not available");return!1}return!0}}]),a}(),ae=_(9050),$=_(9661);function R(a,c){var g=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);c&&(S=S.filter(function(se){return Object.getOwnPropertyDescriptor(a,se).enumerable})),g.push.apply(g,S)}return g}function Z(a){for(var c=1;c<arguments.length;c++){var g=arguments[c]!=null?arguments[c]:{};c%2?R(Object(g),!0).forEach(function(S){(0,ee.Z)(a,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(g)):R(Object(g)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(g,S))})}return a}var L=function(){function a(){(0,_e.Z)(this,a)}var c,g;return(0,fe.Z)(a,[{key:"store",value:(g=(0,ve.Z)(m().mark(function S(se){var le,D=arguments;return m().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return le=D.length>1&&D[1]!==void 0?D[1]:{},I.next=3,this.request(le.urlStore,this.__props(le,se),le);case 3:case"end":return I.stop()}},S,this)})),function(S){return g.apply(this,arguments)})},{key:"load",value:(c=(0,ve.Z)(m().mark(function S(se){return m().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,this.request(se.urlLoad,this.__props(se),se);case 2:return le.abrupt("return",le.sent);case 3:case"end":return le.stop()}},S,this)})),function(S){return c.apply(this,arguments)})},{key:"request",value:function(S){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,$.Z)(S,se).then(function(D){var I=D.text();return(D.status/200|0)==1?I:I.then(Promise.reject)}).then(function(D){var I=D&&(0,ae.isString)(D);return le.contentTypeJson&&I?JSON.parse(D):D})}},{key:"__props",value:function(){var S,se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=arguments.length>1?arguments[1]:void 0,D=se.contentTypeJson,I=se.headers||{},C=se.fetchOptions||{},l="X-Requested-With",f="Content-Type";if((0,ae.isUndefined)(I[l])&&(I[l]="XMLHttpRequest"),(0,ae.isUndefined)(I[f])&&D&&(I[f]="application/json; charset=utf-8"),le)if(D)S=JSON.stringify(le);else for(var h in S=new FormData,le)S.append(h,le[h]);var u={method:S?"POST":"GET",credentials:se.credentials,headers:I,body:S};return Z(Z({},u),(0,ae.isFunction)(C)?C(u):C)}}]),a}();function te(a,c){var g=Object.keys(a);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);c&&(S=S.filter(function(se){return Object.getOwnPropertyDescriptor(a,se).enumerable})),g.push.apply(g,S)}return g}function xe(a){for(var c=1;c<arguments.length;c++){var g=arguments[c]!=null?arguments[c]:{};c%2?te(Object(g),!0).forEach(function(S){(0,ee.Z)(a,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(g)):te(Object(g)).forEach(function(S){Object.defineProperty(a,S,Object.getOwnPropertyDescriptor(g,S))})}return a}function he(a){var c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,S=(0,X.Z)(a);if(c){var se=(0,X.Z)(this).constructor;g=Reflect.construct(S,arguments,se)}else g=S.apply(this,arguments);return(0,ne.Z)(this,g)}}var A="storage:start",z="storage:after",B="storage:end",W="storage:error",ie="local",E="remote",O=function(a){(0,ue.Z)(le,a);var c,g,S,se=he(le);function le(){var D;(0,_e.Z)(this,le);for(var I=arguments.length,C=new Array(I),l=0;l<I;l++)C[l]=arguments[l];return D=se.call.apply(se,[this].concat(C)),(0,ee.Z)((0,de.Z)(D),"name","StorageManager"),D}return(0,fe.Z)(le,[{key:"init",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(T,D);var I=this.getConfig();return I._disable&&(I.type=0),this.storages={},this.add(ie,new s(I)),this.add(E,new L(I)),this.setCurrent(I.type),this}},{key:"isAutosave",value:function(){return!!this.getConfig().autosave}},{key:"setAutosave",value:function(D){return this.getConfig().autosave=!!D,this}},{key:"getStepsBeforeSave",value:function(){return this.getConfig().stepsBeforeSave}},{key:"setStepsBeforeSave",value:function(D){return this.getConfig().stepsBeforeSave=D,this}},{key:"add",value:function(D,I){return this.storages[D]=I,this}},{key:"get",value:function(D){return this.storages[D]||null}},{key:"getStorages",value:function(){return this.storages}},{key:"getCurrent",value:function(){return this.getConfig().currentStorage}},{key:"setCurrent",value:function(D){return this.getConfig().currentStorage=D,this}},{key:"getCurrentStorage",value:function(){return this.get(this.getCurrent())}},{key:"getStorageOptions",value:function(D){return this.getCurrentOptions(D)}},{key:"store",value:(S=(0,ve.Z)(m().mark(function D(I){var C,l,f,h,u,d=arguments;return m().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return C=d.length>1&&d[1]!==void 0?d[1]:{},l=this.getCurrentStorage(),f=xe(xe({},this.getCurrentOptions()),C),h=this.getRecoveryStorage(),u=this.getCurrentOptions(ie),P.prev=5,P.next=8,this.__exec(l,f,I);case 8:if(P.t0=h,!P.t0){P.next=12;break}return P.next=12,this.__exec(h,u,{});case 12:case 19:P.next=22;break;case 14:if(P.prev=14,P.t1=P.catch(5),!h){P.next=21;break}return P.next=19,this.__exec(h,u,I);case 21:throw P.t1;case 22:return P.abrupt("return",I);case 23:case"end":return P.stop()}},D,this,[[5,14]])})),function(D){return S.apply(this,arguments)})},{key:"load",value:(g=(0,ve.Z)(m().mark(function D(){var I,C,l,f,h,u,d=arguments;return m().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(I=d.length>0&&d[0]!==void 0?d[0]:{},C=this.getCurrentStorage(),l=xe(xe({},this.getCurrentOptions()),I),!(f=this.getRecoveryStorage())){P.next=17;break}return P.next=7,this.__exec(f,this.getCurrentOptions(ie));case 7:if(u=P.sent,(0,ae.isEmpty)(u)){P.next=17;break}return P.prev=9,P.next=12,this.__askRecovery();case 12:h=u,P.next=17;break;case 15:P.prev=15,P.t0=P.catch(9);case 17:if(h){P.next=21;break}return P.next=20,this.__exec(C,l);case 20:h=P.sent;case 21:return P.abrupt("return",h||{});case 22:case"end":return P.stop()}},D,this,[[9,15]])})),function(){return g.apply(this,arguments)})},{key:"__askRecovery",value:function(){var D=this.em,I=this.getRecovery();return new Promise(function(C,l){(0,ae.isFunction)(I)?I(C,l,D==null?void 0:D.getEditor()):confirm(D==null?void 0:D.t("storageManager.recover"))?C():l()})}},{key:"getRecovery",value:function(){return this.getConfig().recovery}},{key:"getRecoveryStorage",value:function(){return this.getRecovery()&&this.getCurrent()===E&&this.get(ie)}},{key:"__exec",value:(c=(0,ve.Z)(m().mark(function D(I,C,l){var f,h,u,d,P,q,K,H;return m().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(f=l?"store":"load",h=this.getConfig(),u=h.onStore,d=h.onLoad,this.onStart(f,l),I){w.next=5;break}return w.abrupt("return",l||{});case 5:if(w.prev=5,K=(q=this.em)===null||q===void 0?void 0:q.getEditor(),!l){w.next=31;break}if(w.t1=u,!w.t1){w.next=13;break}return w.next=12,u(l,K);case 12:w.t1=w.sent;case 13:if(w.t0=w.t1,w.t0){w.next=16;break}w.t0=l;case 16:if(H=w.t0,w.t3=C.onStore,!w.t3){w.next=22;break}return w.next=21,C.onStore(H,K);case 21:w.t3=w.sent;case 22:if(w.t2=w.t3,w.t2){w.next=25;break}w.t2=H;case 25:return H=w.t2,w.next=28,I.store(H,C);case 28:P=l,w.next=53;break;case 31:return w.next=33,I.load(C);case 33:if(P=w.sent,P=this.__clearKeys(P),w.t5=C.onLoad,!w.t5){w.next=40;break}return w.next=39,C.onLoad(P,K);case 39:w.t5=w.sent;case 40:if(w.t4=w.t5,w.t4){w.next=43;break}w.t4=P;case 43:if(P=w.t4,w.t7=d,!w.t7){w.next=49;break}return w.next=48,d(P,K);case 48:w.t7=w.sent;case 49:if(w.t6=w.t7,w.t6){w.next=52;break}w.t6=P;case 52:P=w.t6;case 53:this.onAfter(f,P),this.onEnd(f,P),w.next=61;break;case 57:throw w.prev=57,w.t8=w.catch(5),this.onError(f,w.t8),w.t8;case 61:return w.abrupt("return",P);case 62:case"end":return w.stop()}},D,this,[[5,57]])})),function(D,I,C){return c.apply(this,arguments)})},{key:"__clearKeys",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=this.getConfig(),C=new RegExp("^".concat(I.id)),l={};for(var f in D){var h=f.replace(C,"");l[h]=D[f]}return l}},{key:"getCurrentOptions",value:function(D){var I=this.getConfig(),C=D||this.getCurrent();return I.options[C]||{}}},{key:"onStart",value:function(D,I){var C=this.em;C&&(C.trigger(A),D&&C.trigger("".concat(A,":").concat(D),I))}},{key:"onAfter",value:function(D,I){var C=this.em;C&&(C.trigger(z),C.trigger("".concat(z,":").concat(D),I),C.trigger("storage:".concat(D),I))}},{key:"onEnd",value:function(D,I){var C=this.em;C&&(C.trigger(B),D&&C.trigger("".concat(B,":").concat(D),I))}},{key:"onError",value:function(D,I){var C=this.em;C&&(C.trigger(W,I),D&&C.trigger("".concat(W,":").concat(D),I),this.onEnd(D,I))}},{key:"canAutoload",value:function(){return this.getCurrentStorage()&&this.getConfig().autoload}},{key:"destroy",value:function(){this.__destroy(),this.storages={}}}]),le}(b.Z)},2326:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>Wr,evAll:()=>vn,evCustom:()=>Or,evLayerSelect:()=>Tr,evPfx:()=>qt,evProp:()=>Ur,evPropAdd:()=>Kr,evPropRemove:()=>Br,evPropUp:()=>Cr,evSector:()=>rr,evSectorAdd:()=>Jn,evSectorRemove:()=>kr,evSectorUpdate:()=>vr,evTarget:()=>Qn});var ve=_(2982),_e=_(4942),fe=_(9050),de=_(1163),ue=_(9304),ne=_(2316),X=_.n(ne);const ee={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var j=_(4925),m=_(5671),b=_(3144),T=_(9340),V=_(2963),s=_(1120),ae=_(793),$=["partial"];function R(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function Z(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?R(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):R(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function L(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var te=function(Me){(0,T.Z)(pe,Me);var Fe=L(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.em=Q.em;var Te=this.get("id")||"",Ie=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(Ie||Te).replace(/ /g,"-"));var tt=this.get("property");!this.get("id")&&this.set("id",tt),!Ie&&this.set("name",(0,de.capitalize)(tt).replace(/-/g," ")),this.on("change",this.__upTargets),pe.callInit(this,y,Q)}},{key:"__getParentProp",value:function(){var y,Q;return(y=this.collection)===null||y===void 0||(Q=y.opts)===null||Q===void 0?void 0:Q.parentProp}},{key:"__upTargets",value:function(y){var Q=this,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=this.em,tt=Ie.get("StyleManager"),pt=this.getName(),Pt=Te.__clear,Ct=Pt?"":this.__getFullValue(Te),Zt=this.__getParentProp(),It=this.changedAttributes(),Ut=(0,fe.keys)(It).reduce(function(F,G){return F[G]=Q.previous(G),F},{}),xn=[].concat((0,ve.Z)((0,fe.keys)(this.__getClearProps())),["__p"]),hn=(0,fe.keys)(It),kn=!Te.__up&&!Zt&&(Pt||xn.some(function(F){return hn.indexOf(F)>=0})),Ce=this.get("onChange"),Pe={property:this,from:Ut,to:It,value:Ct,opts:Te};tt.__trgEv(tt.events.propertyUpdate,Pe),Ce&&Ce(Pe),kn&&this.__upTargetsStyle({[pt]:Ct},Te)}},{key:"__upTargetsStyle",value:function(y,Q){var Te,Ie=(Te=this.em)===null||Te===void 0?void 0:Te.get("StyleManager");Ie==null||Ie.addStyleTargets(Z(Z({},y),{},{__p:!!Q.avoidStore}),Q)}},{key:"_up",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Q.noTarget&&(Q.__up=!0);var Te=Q.partial,Ie=(0,j.Z)(Q,$);return y.__p=!(!Ie.avoidStore&&!Te),this.set(y,Z(Z({},Ie),{},{avoidStore:y.__p}))}},{key:"up",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.set(y,Z(Z({},Q),{},{__up:!0}))}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){var y,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Te=Q.locale,Ie=Te===void 0||Te,tt=this.getId(),pt=this.get("name")||this.get("label");return Ie&&((y=this.em)===null||y===void 0?void 0:y.t("styleManager.properties.".concat(tt)))||pt}},{key:"getValue",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.noDefault,Te=this.get("value");return this.hasValue()||Q?Te:this.getDefaultValue()}},{key:"hasValue",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.noParent,Te=Q&&this.getParentTarget(),Ie=this.get("value");return!(0,fe.isUndefined)(Ie)&&Ie!==""&&!Te}},{key:"hasValueParent",value:function(){return this.hasValue()&&!this.hasValue({noParent:!0})}},{key:"getStyle",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=this.getName(),Te=y.camelCase?(0,de.camelCase)(Q):Q;return{[Te]:this.__getFullValue(y)}}},{key:"getDefaultValue",value:function(){var y=this.get("default");return"".concat((0,fe.isUndefined)(y)?this.get("defaults"):y)}},{key:"upValue",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=y===null||y===""?this.__getClearProps():this.__parseValue(y,Q);return this._up(Te,Q)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"clear",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._up(this.__getClearProps(),Z(Z({},y),{},{__clear:!0}))}},{key:"canClear",value:function(){var y=this.getParent();return y?y.__canClearProp(this):this.hasValue({noParent:!0})}},{key:"getParent",value:function(){return this.__getParentProp()||null}},{key:"isFull",value:function(){return!!this.get("full")}},{key:"__parseValue",value:function(y,Q){return this.parseValue(y,Q)}},{key:"__getClearProps",value:function(){return{value:""}}},{key:"setValue",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=this.parseValue(y),tt=!Q;!tt&&this.set({value:void 0},{avoidStore:tt,silent:!0}),this.set(Ie,Z({avoidStore:tt},Te))}},{key:"setValueFromInput",value:function(y,Q){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.setValue(y,Q,Z(Z({},Te),{},{fromInput:1}))}},{key:"parseValue",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te={value:y},Ie="!important";if((0,fe.isString)(y)&&y.indexOf(Ie)!==-1&&(Te.value=y.replace(Ie,"").trim(),Te.important=1),!this.get("functionName")&&!Q.complete)return Te;var tt=[],pt="".concat(Te.value),Pt=pt.indexOf("(")+1,Ct=pt.lastIndexOf(")"),Zt=pt.substring(0,Pt-1);if(Zt&&(Te.functionName=Zt),tt.push(Pt),Ct>=0&&tt.push(Ct),Te.value=String.prototype.substring.apply(pt,tt),Q.numeric){var It=parseFloat(Te.value);Te.unit=Te.value.replace(It,""),Te.value=It}return Te}},{key:"__getFullValue",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.withDefault;return!this.hasValue()&&Q?this.getDefaultValue():this.getFullValue()}},{key:"getFullValue",value:function(y){var Q=this.get("functionName"),Te=this.getDefaultValue(),Ie=(0,fe.isUndefined)(y)?this.get("value"):y,tt=!(0,fe.isUndefined)(Ie)&&Ie!=="";if(Ie&&Te&&Ie===Te)return Te;if(Q&&tt){var pt=Q==="url"?"'".concat(Ie.replace(/'|"/g,""),"'"):Ie;Ie="".concat(Q,"(").concat(pt,")")}return tt&&this.get("important")&&(Ie="".concat(Ie," !important")),Ie||""}},{key:"__setParentTarget",value:function(y){this.up({parentTarget:y})}},{key:"getParentTarget",value:function(){return this.get("parentTarget")||null}},{key:"__parseFn",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Q=y.indexOf("(")+1,Te=y.lastIndexOf(")");return{name:y.substring(0,Q-1).trim(),value:String.prototype.substring.apply(y,[Q,Te>=0?Te:void 0]).trim()}}},{key:"__checkVisibility",value:function(y){var Q=y.target,Te=y.component,Ie=y.sectors,tt=Te||Q;if(!tt)return!1;var pt=this.getId(),Pt=this.getName(),Ct=this.get("toRequire"),Zt=this.get("requires"),It=this.get("requiresParent"),Ut=tt.get("unstylable"),xn=tt.get("stylable-require"),hn=tt.get("stylable");if((0,fe.isArray)(hn)&&(hn=hn.indexOf(Pt)>=0),(0,fe.isArray)(Ut)&&(hn=Ut.indexOf(Pt)<0),Ct&&(hn=!Q||xn&&(xn.indexOf(pt)>=0||xn.indexOf(Pt)>=0)),Ie&&Zt){var kn=(0,fe.keys)(Zt);Ie.forEach(function(G){G.getProperties().forEach(function(Ne){if((0,fe.includes)(kn,Ne.id)){var st=Zt[Ne.id];hn=hn&&(0,fe.includes)(st,Ne.get("value"))}})})}if(It){var Ce=Te&&Te.parent(),Pe=Ce&&Ce.getEl();if(Pe){var F=(0,de.hasWin)()?window.getComputedStyle(Pe):{};(0,fe.each)(It,function(G,Ne){hn=hn&&F[Ne]&&(0,fe.includes)(G,F[Ne])})}else hn=!1}return!!hn}}]),pe}(ne.Model);function xe(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function he(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?xe(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):xe(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function A(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}te.callParentInit=function(Me,Fe,pe){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Me.prototype.initialize.apply(Fe,[pe,Z(Z({},y),{},{skipInit:1})])},te.callInit=function(Me,Fe){var pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!pe.skipInit&&Me.init(Fe,pe)},te.getDefaults=function(){return(0,fe.result)(this.prototype,"defaults")},te.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],onChange:null,full:0,important:0,toRequire:0,requires:null,requiresParent:null,parentTarget:null};var z=function(Me){return Me==="integer"||Me==="number"},B=function(Me){(0,T.Z)(pe,Me);var Fe=A(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return he(he({},te.getDefaults()),{},{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te.callParentInit(te,this,y,Q);var Te=this.em,Ie=new Hn(this.get("properties")||[],{em:Te,parentProp:this});this.set("properties",Ie,{silent:1}),this.listenTo(Ie,"change",this.__upProperties),te.callInit(this,y,Q)}},{key:"getProperties",value:function(){return(0,ve.Z)(this.get("properties").models)}},{key:"getProperty",value:function(y){return this.get("properties").filter(function(Q){return Q.getId()===y||Q.getName()===y})[0]||null}},{key:"getPropertyAt",value:function(y){return this.get("properties").at(y)}},{key:"isDetached",value:function(){return!!this.get("detached")}},{key:"getValues",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.byName;return this.getProperties().reduce(function(Te,Ie){return Te[Q?Ie.getName():Ie.getId()]="".concat(Ie.__getFullValue()),Te},{})}},{key:"getSeparator",value:function(){return this.getSplitSeparator()}},{key:"getJoin",value:function(){return this.__getJoin()}},{key:"getStyleFromProps",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=this.getName(),Te=this.__getJoin(),Ie=this.get("toStyle"),tt=this.getValues(),pt={};if(Ie)pt=Ie(tt,{join:Te,name:Q,property:this});else if(tt=this.getValues({byName:!0}),this.isDetached())pt=tt;else{var Pt=this.getProperties().map(function(Ct){return Ct.__getFullValue({withDefault:1})}).filter(Boolean).join(Te);pt={[Q]:Pt}}return this.isDetached()?pt[Q]="":(pt[Q]=pt[Q]||"",pt=he(he({},pt),this.getProperties().reduce(function(Ct,Zt){return Ct[Zt.getName()]="",Ct},{}))),y.camelCase?Object.keys(pt).reduce(function(Ct,Zt){return Ct[camelCase(Zt)]=pt[Zt],Ct},{}):pt}},{key:"getSplitSeparator",value:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))}},{key:"__upProperties",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Q.__up&&!Q.__clearIn){var Te=this.__getParentProp();if(Te)return Te.__upProperties(this,Q);this.__upTargetsStyleProps(Q,y)}}},{key:"__upTargetsStyleProps",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1?arguments[1]:void 0,Te=this.getStyleFromProps();if(this.isDetached()&&Q){var Ie=Q.getName();Te={[Ie]:Te[Ie]}}this.__upTargetsStyle(Te,y)}},{key:"_up",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.__setProperties(this.__getSplitValue(y.value),Q),te.prototype._up.call(this,y,Q)}},{key:"getStyle",value:function(y){return this.getStyleFromProps(y)}},{key:"__getFullValue",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.isDetached()||y.__clear?"":this.getStyleFromProps()[this.getName()]||""}},{key:"__getJoin",value:function(){var y=this.get("join");return(0,fe.isString)(y)?y:this.get("separator")}},{key:"__styleHasProps",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=this.getName(),Te=this.getProperties(),Ie=Te.map(function(pt){return pt.getName()}),tt=[Q].concat((0,ve.Z)(Ie));return tt.some(function(pt){return!(0,fe.isUndefined)(y[pt])&&y[pt]!==""})}},{key:"__splitValue",value:function(y,Q){return y.split(Q).map(function(Te){return Te.trim()}).filter(Boolean)}},{key:"__splitStyleName",value:function(y,Q,Te){return this.__splitValue(y[Q]||"",Te)}},{key:"__getSplitValue",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.byName,Ie=this.getProperties(),tt=Ie.length===4&&Ie.every(function(Ct){return z(Ct.getType())}),pt=this.__splitValue(y,this.getSplitSeparator()),Pt={};return Ie.forEach(function(Ct,Zt){var It=pt[Zt],Ut=(0,fe.isUndefined)(It)?"":It;if(tt){var xn=pt.length;Ut=pt[Zt]||pt[Zt%xn+(xn!=1&&xn%2?1:0)]||Ut}var hn=Te?Ct.getName():Ct.getId();Pt[hn]=Ut||""}),Pt}},{key:"__getPropsFromStyle",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.__styleHasProps(y))return null;var Te=Q.byName,Ie=this.getName(),tt=this.getProperties(),pt=this.getSplitSeparator(),Pt=this.get("fromStyle"),Ct=Pt?Pt(y,{property:this,name:Ie,separator:pt}):{};return Pt||(Ct=this.__getSplitValue(y[Ie]||"",{byName:Te}),tt.forEach(function(Zt){var It=y[Zt.getName()],Ut=Te?Zt.getName():Zt.getId();(0,fe.isUndefined)(It)||It===""||(Ct[Ut]=It)})),Ct}},{key:"__setProperties",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.getProperties().forEach(function(Ie){var tt=y[Ie.getId()];Ie.__getFullValue()!==tt&&Ie.upValue(tt,Q)});var Te=(0,fe.keys)(y).map(function(Ie){return y[Ie]}).join(" ");this.set("value",Te,{silent:!0})}},{key:"clear",value:function(){var y=this;return this.getProperties().map(function(Q){return Q.clear({__clearIn:!y.isDetached()})}),te.prototype.clear.call(this)}},{key:"hasValue",value:function(y){return this.getProperties().some(function(Q){return Q.hasValue(y)})}},{key:"getFullValue",value:function(){return this.__getFullValue()}},{key:"__canClearProp",value:function(y){return this.isDetached()&&y.hasValue({noParent:!0})}}]),pe}(te);function W(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function ie(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?W(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):W(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function E(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var O=function(Me){(0,T.Z)(pe,Me);var Fe=E(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return{values:{}}}},{key:"initialize",value:function(){var y=this.collection;this.prop=y==null?void 0:y.prop}},{key:"getId",value:function(){return this.cid}},{key:"getIndex",value:function(){var y=this.collection;return y?y.indexOf(this):-1}},{key:"getValues",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=this.get("values");return y.camelCase?Object.keys(Q).reduce(function(Te,Ie){return Te[(0,de.camelCase)(Ie)]=Q[Ie],Te},{}):Q}},{key:"getLabel",value:function(){var y;return(y=this.prop)===null||y===void 0?void 0:y.getLayerLabel(this)}},{key:"isSelected",value:function(){var y;return((y=this.prop)===null||y===void 0?void 0:y.getSelectedLayer())===this}},{key:"select",value:function(){var y;return(y=this.prop)===null||y===void 0?void 0:y.selectLayer(this)}},{key:"remove",value:function(){var y;return(y=this.prop)===null||y===void 0?void 0:y.removeLayer(this)}},{key:"move",value:function(y){var Q;return(Q=this.prop)===null||Q===void 0?void 0:Q.moveLayer(this,y)}},{key:"getStylePreview",value:function(){var y,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(y=this.prop)===null||y===void 0?void 0:y.getStylePreview(this,Q)}},{key:"hasPreview",value:function(){var y;return!((y=this.prop)===null||y===void 0||!y.get("preview"))}},{key:"upValues",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.set("values",ie(ie({},this.getValues()),y))}}]),pe}(ne.Model);function a(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var c=function(Me){(0,T.Z)(pe,Me);var Fe=a(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"initialize",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prop=Q.prop}}]),pe}(ne.Collection);c.prototype.model=O;var g=["__layers"];function S(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function se(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?S(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):S(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function le(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var D=/,(?![^\(]*\))/,I=/\s(?![^(]*\))/,C=function(Me){(0,T.Z)(pe,Me);var Fe=le(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return se(se({},B.getDefaults()),{},{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};B.callParentInit(B,this,y,Q);var Te=this.get("layers"),Ie=new c(Te,{prop:this});Ie.property=this,Ie.properties=this.get("properties"),this.set("layers",Ie,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(Ie,"add remove",this.__upLayers),B.callInit(this,y,Q)}},{key:"getLayers",value:function(){return this.__getLayers().models}},{key:"__getLayers",value:function(){return this.get("layers")}},{key:"getLayer",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.__getLayers().at(y)||null}},{key:"getSelectedLayer",value:function(){var y=this.get("selectedLayer");return y&&y.getIndex()>=0?y:null}},{key:"selectLayer",value:function(y){return this.set("selectedLayer",y,{__select:!0})}},{key:"selectLayerAt",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=this.getLayer(y);return Q&&this.selectLayer(Q)}},{key:"moveLayer",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Te=y?y.getIndex():-1;Te>=0&&(0,fe.isNumber)(Q)&&Q>=0&&Q<this.getLayers().length&&Te!==Q&&(this.removeLayer(y),this.__getLayers().add(y,{at:Q}))}},{key:"addLayer",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te={};this.getProperties().forEach(function(tt){var pt=tt.getId(),Pt=y[pt];Te[pt]=(0,fe.isUndefined)(Pt)?tt.getDefaultValue():Pt});var Ie=this.get("layers").push({values:Te},Q);return Ie}},{key:"removeLayer",value:function(y){return this.get("layers").remove(y)}},{key:"removeLayerAt",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Q=this.getLayer(y);return Q?this.removeLayer(Q):null}},{key:"getLayerLabel",value:function(y){var Q="";if(y){var Te=this.get("layerLabel"),Ie=y.getValues(),tt=y.getIndex();if(Te)Q=Te(y,{index:tt,values:Ie,property:this});else{var pt=[];this.getProperties().map(function(Pt){pt.push(Ie[Pt.getId()])}),Q=pt.filter(Boolean).join(" ")}}return Q}},{key:"getStyleFromLayer",value:function(y){var Q,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=this.__getJoin(),tt=this.__getJoinLayers(),pt=this.get("toStyle"),Pt=this.getName(),Ct=y.getValues();if(pt)Q=pt(Ct,{join:Ie,joinLayers:tt,name:Pt,layer:y,property:this});else{var Zt=this.getProperties().map(function(It){var Ut=It.getName(),xn=Ct[It.getId()],hn=(0,fe.isUndefined)(xn)?It.getDefaultValue():xn;if(Te.number&&z(It.getType())){var kn=It.parseValue(xn,Te.number);hn="".concat(kn.value).concat(kn.unit)}return{name:Ut,value:hn}});Q=this.isDetached()?Zt.reduce(function(It,Ut){return It[Ut.name]=Ut.value,It},{}):{[this.getName()]:Zt.map(function(It){return It.value}).join(Ie)}}return Te.camelCase?Object.keys(Q).reduce(function(It,Ut){return It[(0,de.camelCase)(Ut)]=Q[Ut],It},{}):Q}},{key:"getStylePreview",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te={},Ie=this.get("preview");return Ie&&(Te=this.getStyleFromLayer(y,Q)),Te}},{key:"getLayerSeparator",value:function(){var y=this.get("layerSeparator");return(0,fe.isString)(y)?new RegExp("".concat(y,"(?![^\\(]*\\))")):y}},{key:"__upProperties",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=this.getSelectedLayer();Te&&(Te.upValues({[y.getId()]:y.__getFullValue()}),Q.__up||this.__upTargetsStyleProps(Q))}},{key:"__upLayers",value:function(y,Q,Te){this.__upTargetsStyleProps(Te||Q)}},{key:"__upTargets",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Q.__select)return te.prototype.__upTargets.call(this,y,Q)}},{key:"__upTargetsStyleProps",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__upTargetsStyle(this.getStyleFromLayers(),y)}},{key:"__upTargetsStyle",value:function(y,Q){return te.prototype.__upTargetsStyle.call(this,y,Q)}},{key:"__upSelected",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.noEvent,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=this.em.get("StyleManager"),tt=this.getSelectedLayer(),pt=tt==null?void 0:tt.getValues();pt&&this.getProperties().forEach(function(Pt){var Ct,Zt=(Ct=pt[Pt.getId()])!==null&&Ct!==void 0?Ct:"";Pt.__getFullValue()!==Zt&&Pt.upValue(Zt,se(se({},Te),{},{__up:!0}))}),!Q&&Ie.__trgEv(Ie.events.layerSelect,{property:this})}},{key:"_up",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=y.__layers,Ie=Te===void 0?[]:Te,tt=(0,j.Z)(y,g);return!this.isDetached()&&this.__setLayers(Ie),this.__upSelected({noEvent:!0},Q),te.prototype._up.call(this,tt,Q)}},{key:"__setLayers",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Q=this.__getLayers(),Te=y.map(function(Ie){return{values:Ie}});Q.length===Te.length?Te.map(function(Ie,tt){var pt;return(pt=Q.at(tt))===null||pt===void 0?void 0:pt.upValues(Ie.values)}):this.__getLayers().reset(Te),this.__upSelected({noEvent:!0})}},{key:"__parseValue",value:function(y){var Q=this,Te=this.parseValue(y);return Te.__layers=y.split(D).map(function(Ie){return Ie.trim()}).map(function(Ie){return Q.__parseLayer(Ie)}).filter(Boolean),Te}},{key:"__parseLayer",value:function(y){var Q=this.get("parseLayer"),Te=y.split(I),Ie=this.getProperties();return Q?Q({value:y,values:Te}):Ie.reduce(function(tt,pt,Pt){var Ct=Te[Pt];return tt[pt.getId()]=(0,fe.isUndefined)(Ct)?pt.getDefaultValue():Ct,tt},{})}},{key:"__getLayersFromStyle",value:function(){var y=this,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.__styleHasProps(Q))return null;var Te=this.getName(),Ie=this.getProperties(),tt=this.getLayerSeparator(),pt=this.get("fromStyle"),Pt=pt?pt(Q,{property:this,name:Te,separatorLayers:tt}):[];if(!pt){var Ct=this.__splitStyleName(Q,Te,tt).map(function(Zt){return Zt.split(y.getSplitSeparator())}).map(function(Zt){var It={};return Ie.forEach(function(Ut,xn){var hn=Zt[xn];It[Ut.getId()]=(0,fe.isUndefined)(hn)?Ut.getDefaultValue():hn}),It});Ie.forEach(function(Zt){var It=Zt.getId();y.__splitStyleName(Q,Zt.getName(),tt).map(function(Ut){return{[It]:Ut||Zt.getDefaultValue()}}).forEach(function(Ut,xn){Ct[xn]=Ct[xn]?se(se({},Ct[xn]),Ut):Ut})}),Pt=Ct}return(0,fe.isArray)(Pt)?Pt:[Pt]}},{key:"getStyle",value:function(y){return this.getStyleFromLayers(y)}},{key:"getStyleFromLayers",value:function(y){var Q=this,Te={},Ie=this.getName(),tt=this.getLayers(),pt=this.getProperties();if(tt.map(function(Ct){return Q.getStyleFromLayer(Ct,y)}).forEach(function(Ct){(0,fe.keys)(Ct).map(function(Zt){Te[Zt]||(Te[Zt]=[]),Te[Zt].push(Ct[Zt])})}),(0,fe.keys)(Te).map(function(Ct){Te[Ct]=Te[Ct].join(Q.__getJoinLayers())}),this.isDetached())Te[Ie]="",!tt.length&&pt.map(function(Ct){Te[Ct.getName()]=""});else{var Pt=pt.reduce(function(Ct,Zt){return Ct[Zt.getName()]="",Ct},{});Te[Ie]=Te[Ie]||"",Te=se(se({},Te),Pt)}return Te}},{key:"__getJoinLayers",value:function(){var y=this.get("layerJoin"),Q=this.get("layerSeparator");return y||((0,fe.isString)(Q)?Q:y)}},{key:"__getFullValue",value:function(){return this.get("detached")?"":this.getStyleFromLayers()[this.getName()]}},{key:"hasValue",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.noParent,Te=Q&&this.getParentTarget();return this.getLayers().length>0&&!Te}},{key:"clear",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.__getLayers().reset(),this.__upTargetsStyleProps(y),te.prototype.clear.call(this)}},{key:"__canClearProp",value:function(){return!1}}]),pe}(B),l=["complete","partial"];function f(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function h(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?f(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):f(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function u(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var d="data-clear-style",P=function(Me){(0,T.Z)(pe,Me);var Fe=u(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"template",value:function(){var y=this.pfx,Q=this.ppfx;return`
      <div class="`.concat(y,`label" data-sm-label></div>
      <div class="`).concat(Q,`fields" data-sm-fields></div>
    `)}},{key:"templateLabel",value:function(y){var Q=this.pfx,Te=this.em,Ie=y.parent,tt=y.attributes,pt=tt.icon,Pt=pt===void 0?"":pt,Ct=tt.info,Zt=Ct===void 0?"":Ct,It=Te==null?void 0:Te.getConfig().icons,Ut=(It==null?void 0:It.close)||"";return`
      <span class="`.concat(Q,"icon ").concat(Pt,'" title="').concat(Zt,`">
        `).concat(y.getLabel(),`
      </span>
      `).concat(Ie?"":'<div class="'.concat(Q,'clear" style="display: none" ').concat(d,">").concat(Ut,"</div>"),`
    `)}},{key:"templateInput",value:function(y){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(y.getDefaultValue(),`"/>
      </div>
    `)}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,fe.bindAll)(this,"__change","__updateStyle");var Q=y.config||{},Te=Q.em;this.config=Q,this.em=Te,this.pfx=Q.stylePrefix||"",this.ppfx=Q.pStylePrefix||"",this.__destroyFn=this.destroy?this.destroy.bind(this):function(){};var Ie=this.model;Ie.view=this,this.onValueChange=(0,fe.debounce)(this.onValueChange.bind(this),10),this.updateStatus=(0,fe.debounce)(this.updateStatus.bind(this)),this.listenTo(Ie,"destroy remove",this.remove),this.listenTo(Ie,"change:visible",this.updateVisibility),this.listenTo(Ie,"change:name change:className change:full",this.render),this.listenTo(Ie,"change:value",this.onValueChange),this.listenTo(Ie,"change:parentTarget",this.updateStatus),this.listenTo(Te,"change:device",this.onValueChange);var tt=this.init&&this.init.bind(this);tt&&tt()}},{key:"remove",value:function(){var y=this;ne.View.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(Q){return y[Q]=null}),this.__destroyFn(this._getClbOpts())}},{key:"updateStatus",value:function(){var y,Q=this.model,Te=this.pfx,Ie=this.ppfx,tt=this.config,pt="".concat(Ie,"four-color"),Pt="".concat(Ie,"color-warn"),Ct=this.$el.children(".".concat(Te,"label")),Zt=this.getClearEl(),It=Zt?Zt.style:{};Ct.removeClass("".concat(pt," ").concat(Pt)),It.display="none",Q.hasValue({noParent:!0})&&tt.highlightChanged?(Ct.addClass(pt),tt.clearProperties&&(It.display="")):Q.hasValue()&&tt.highlightComputed&&Ct.addClass(Pt),(y=this.parent)===null||y===void 0||y.updateStatus()}},{key:"clear",value:function(y){y&&y.stopPropagation(),this.model.clear()}},{key:"getClearEl",value:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(d,"]"))),this.clearEl}},{key:"inputValueChanged",value:function(y){y&&y.stopPropagation(),this.emit||this.model.upValue(y.target.value)}},{key:"onValueChange",value:function(y,Q){this.setValue(this.model.getFullValue()),this.updateStatus()}},{key:"setValue",value:function(y){var Q=this.model,Te=(0,fe.isUndefined)(y)||y===""?Q.getDefaultValue():y;if(this.update)return this.__update(Te);this.__setValueInput(Te)}},{key:"__setValueInput",value:function(y){var Q=this.getInputEl();Q&&(Q.value=y)}},{key:"getInputEl",value:function(){return this.input||(this.input=this.el.querySelector("input")),this.input}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"clearCached",value:function(){this.clearEl=null,this.input=null,this.$input=null}},{key:"__unset",value:function(){var y=this.unset&&this.unset.bind(this);y&&y(this._getClbOpts())}},{key:"__update",value:function(y){var Q=this.update&&this.update.bind(this);Q&&Q(h(h({},this._getClbOpts()),{},{value:y}))}},{key:"__change",value:function(){for(var y=this.emit&&this.emit.bind(this),Q=arguments.length,Te=new Array(Q),Ie=0;Ie<Q;Ie++)Te[Ie]=arguments[Ie];y&&y.apply(void 0,[this._getClbOpts()].concat(Te))}},{key:"__updateStyle",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.complete,Ie=Q.partial,tt=((0,j.Z)(Q,l),this.model),pt=Te!==!1&&Ie!==!0;(0,de.isObject)(y)?tt.__upTargetsStyle(y,{avoidStore:!pt}):tt.upValue(y,{partial:!pt})}},{key:"_getClbOpts",value:function(){var y=this.model;return{el:this.el,createdEl:this.createdEl,property:y,props:y.attributes,change:this.__change,updateStyle:this.__updateStyle}}},{key:"render",value:function(){this.clearCached();var y=this.pfx,Q=this.model,Te=this.el,Ie=this.$el,tt=Q.getName(),pt=Q.getType(),Pt=Q.get("className")||"",Ct="".concat(y,"property"),Zt=pt==="number"?"".concat(y).concat(pt," ").concat(y,"integer"):"".concat(y).concat(pt);this.createdEl&&this.__destroyFn(this._getClbOpts()),Ie.empty().append(this.template(Q)),Ie.find("[data-sm-label]").append(this.templateLabel(Q));var It=this.create&&this.create.bind(this);this.createdEl=It&&It(this._getClbOpts()),Ie.find("[data-sm-fields]").append(this.createdEl||this.templateInput(Q)),Te.className="".concat(Ct," ").concat(Zt," ").concat(Ct,"__").concat(tt," ").concat(Pt).trim(),Te.className+=Q.isFull()?" ".concat(Ct,"--full"):"";var Ut=this.onRender&&this.onRender.bind(this);Ut&&Ut(),this.setValue(Q.getValue())}}]),pe}(ne.View);P.prototype.events={change:"inputValueChanged",["click [".concat(d,"]")]:"clear"};var q=_(9283);function K(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var H=function(Me){(0,T.Z)(pe,Me);var Fe=K(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"initialize",value:function(y){this.config=y.config||{},this.pfx=this.config.stylePrefix||"",this.properties=[],this.parent=y.parent;var Q=this.collection;this.listenTo(Q,"add",this.addTo),this.listenTo(Q,"reset",this.render)}},{key:"addTo",value:function(y,Q,Te){this.add(y,null,Te)}},{key:"add",value:function(y,Q){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=this.parent,tt=this.config,pt=Q||this.el,Pt=new y.typeView({model:y,config:tt});Ie&&(Pt.parent=Ie),Pt.render();var Ct=Pt.el;this.properties.push(Pt),(0,q.$Q)(pt,Ct,Te.at)}},{key:"remove",value:function(){ne.View.prototype.remove.apply(this,arguments),this.clearItems()}},{key:"clearItems",value:function(){this.properties.forEach(function(y){return y.remove()}),this.properties=[]}},{key:"render",value:function(){var y=this,Q=this.$el,Te=this.pfx;this.clearItems();var Ie=document.createDocumentFragment();return this.collection.forEach(function(tt){return y.add(tt,Ie)}),Q.empty(),Q.append(Ie),Q.attr("class","".concat(Te,"properties")),this}}]),pe}(ne.View);function w(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function M(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?w(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):w(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function J(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Oe=function(Me){(0,T.Z)(pe,Me);var Fe=J(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"templateInput",value:function(){var y=this.pfx;return`
      <div class="`.concat(y,"field ").concat(y,`composite">
        <span id="`).concat(y,`input-holder"></span>
      </div>
    `)}},{key:"remove",value:function(){var y;(y=this.props)===null||y===void 0||y.remove(),P.prototype.remove.apply(this,arguments)}},{key:"onValueChange",value:function(){}},{key:"onRender",value:function(){var y=this.model,Q=this.pfx,Te=y.get("properties");if(Te.length&&!this.props){var Ie=y.isDetached(),tt=new H({config:M(M({},this.config),{},{highlightComputed:Ie,highlightChanged:Ie}),collection:Te,parent:this});tt.render(),this.$el.find("#".concat(Q,"input-holder")).append(tt.el),this.props=tt}}},{key:"clearCached",value:function(){P.prototype.clearCached.apply(this,arguments),this.props=null}}]),pe}(P);function Re(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Ye=function(Me){(0,T.Z)(pe,Me);var Fe=Re(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"events",value:function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}}},{key:"template",value:function(){var y=this.pfx,Q=this.ppfx,Te=this.em,Ie=Te==null?void 0:Te.getConfig().icons,tt=(Ie==null?void 0:Ie.close)||"",pt=(Ie==null?void 0:Ie.move)||"";return`
      <div class="`.concat(y,`label-wrp">
        <div id="`).concat(y,'move" class="').concat(Q,`no-touch-actions" data-move-layer>
          `).concat(pt,`
        </div>
        <div id="`).concat(y,`label" data-label></div>
        <div id="`).concat(y,'preview-box" class="').concat(y,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(y,'preview" class="').concat(y,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(y,'close-layer" class="').concat(y,`btn-close" data-close-layer>
          `).concat(tt,`
        </div>
      </div>
      <div id="`).concat(y,`inputs" data-properties></div>
    `)}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=this.model,Te=y.config||{};this.em=Te.em,this.config=Te,this.sorter=y.sorter,this.pfx=Te.stylePrefix||"",this.ppfx=Te.pStylePrefix||"",this.propertyView=y.propertyView;var Ie=this.propertyView.model;this.listenTo(Q,"destroy remove",this.remove),this.listenTo(Q,"change:values",this.updateLabel),this.listenTo(Ie,"change:selectedLayer",this.updateVisibility),Q.view=this,Q.set({droppable:0,draggable:1}),this.$el.data("model",Q)}},{key:"initSorter",value:function(){var y;(y=this.sorter)===null||y===void 0||y.startSort(this.el)}},{key:"removeItem",value:function(y){y&&y.stopPropagation(),this.model.remove()}},{key:"select",value:function(){this.model.select()}},{key:"getPropertiesWrapper",value:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl}},{key:"getPreviewEl",value:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl}},{key:"getLabelEl",value:function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl}},{key:"updateLabel",value:function(){var y=this.model,Q=y.getLabel();if(this.getLabelEl().innerHTML=Q,y.hasPreview()){var Te=this.getPreviewEl(),Ie=y.getStylePreview({number:{min:-3,max:3}}),tt=(0,fe.keys)(Ie).map(function(pt){return"".concat(pt,":").concat(Ie[pt])}).join(";");Te.setAttribute("style",tt)}}},{key:"updateVisibility",value:function(){var y=this.pfx,Q=this.model,Te=this.propertyView,Ie=this.getPropertiesWrapper(),tt=Q.isSelected();Ie.style.display=tt?"":"none",this.$el[tt?"addClass":"removeClass"]("".concat(y,"active")),tt&&Ie.appendChild(Te.props.el)}},{key:"render",value:function(){var y=this.el,Q=this.pfx,Te=this.model;return y.innerHTML=this.template(),y.className="".concat(Q,"layer"),Te.hasPreview()&&(y.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this}}]),pe}(ne.View);function Ve(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Se=function(Me){(0,T.Z)(pe,Me);var Fe=Ve(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"initialize",value:function(y){var Q=this.collection,Te=y.config||{},Ie=Te.em,tt=Te.stylePrefix||"",pt=Te.pStylePrefix||"";this.config=Te,this.pfx=tt,this.ppfx=pt,this.propertyView=y.propertyView,this.className="".concat(tt,"layers ").concat(pt,"field"),this.listenTo(Q,"add",this.addTo),this.listenTo(Q,"reset",this.reset),this.items=[];var Pt=Ie?Ie.get("Utils"):"";this.sorter=Pt?new Pt.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(tt,"layers"),itemSel:".".concat(tt,"layer"),pfx:Te.pStylePrefix}):"",Q.view=this,this.$el.data("model",Q),this.$el.data("collection",Q)}},{key:"addTo",value:function(y){var Q=this.collection.indexOf(y);this.addToCollection(y,null,Q)}},{key:"addToCollection",value:function(y,Q,Te){var Ie=Q||null,tt=this.propertyView,pt=this.config,Pt=this.sorter,Ct=this.$el,Zt=new Ye({model:y,config:pt,sorter:Pt,propertyView:tt}),It=Zt.render().el;if(this.items.push(Zt),Ie)Ie.appendChild(It);else if(Te!==void 0){var Ut="before";Ct.children().length===Te&&(Te--,Ut="after"),Te<0?Ct.append(It):Ct.children().eq(Te)[Ut](It)}else Ct.append(It);return It}},{key:"reset",value:function(y,Q){this.clearItems(Q),this.render()}},{key:"remove",value:function(){this.clearItems(),ne.View.prototype.remove.apply(this,arguments)}},{key:"clearItems",value:function(){this.items.forEach(function(y){return y.remove()}),this.items=[]}},{key:"render",value:function(){var y=this,Q=this.$el,Te=this.sorter,Ie=document.createDocumentFragment();return Q.empty(),this.collection.forEach(function(tt){return y.addToCollection(tt,Ie)}),Q.append(Ie),Q.attr("class",this.className),Te&&(Te.plh=null),this}}]),pe}(ne.View);function je(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function x(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?je(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):je(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function re(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var we=function(Me){(0,T.Z)(pe,Me);var Fe=re(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"events",value:function(){return x(x({},Oe.prototype.events),{},{"click [data-add-layer]":"addLayer",change:""})}},{key:"templateInput",value:function(){var y=this.pfx,Q=this.em,Te=Q==null?void 0:Q.getConfig().icons,Ie=(Te==null?void 0:Te.plus)||"+";return`
      <div class="`.concat(y,"field ").concat(y,`stack">
        <button type="button" id="`).concat(y,`add" data-add-layer>
          `).concat(Ie,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)}},{key:"init",value:function(){var y=this.model;this.listenTo(y.__getLayers(),"change reset",this.updateStatus)}},{key:"addLayer",value:function(){this.model.addLayer({},{at:0})}},{key:"setValue",value:function(){}},{key:"remove",value:function(){var y;(y=this.layersView)===null||y===void 0||y.remove(),Oe.prototype.remove.apply(this,arguments)}},{key:"clearCached",value:function(){Oe.prototype.clearCached.apply(this,arguments),this.layersView=null}},{key:"onRender",value:function(){var y=this.model,Q=this.el,Te=this.config,Ie=y.get("properties");if(Ie.length&&!this.props){var tt=new H({config:x(x({},Te),{},{highlightComputed:!1,highlightChanged:!1}),collection:Ie,parent:this});tt.render();var pt=new Se({collection:y.__getLayers(),config:Te,propertyView:this});pt.render(),Q.querySelector("[data-layers-wrapper]").appendChild(pt.el),this.props=tt,this.layersView=pt}}}]),pe}(Oe);function De(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function Ge(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?De(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):De(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function Ke(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var bt=function(Me){(0,T.Z)(pe,Me);var Fe=Ke(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"events",value:function(){return Ge(Ge({},P.prototype.events),{},{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})}},{key:"templateInput",value:function(){var y,Q=this.pfx,Te=this.em,Ie=(y=this.em)===null||y===void 0?void 0:y.getConfig().icons,tt=Ie==null?void 0:Ie.close;return`
      <div class="`.concat(Q,"field ").concat(Q,`file">
        <div id='`).concat(Q,`input-holder'>
          <div class="`).concat(Q,`btn-c">
            <button class="`).concat(Q,'btn" id="').concat(Q,`images" type="button" data-open-assets>
              `).concat(Te.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(Q,'preview-box" class="').concat(Q,`preview-file" data-preview-box>
          <div id="`).concat(Q,'preview-file" class="').concat(Q,`preview-file-cnt" data-preview></div>
          <div id="`).concat(Q,'close" class="').concat(Q,'preview-file-close" data-clear-asset>').concat(tt,`</div>
        </div>
      </div>
    `)}},{key:"__setValueInput",value:function(y){var Q=this.model,Te=this.el,Ie=Q.getDefaultValue(),tt=Te.querySelector("[data-preview-box]"),pt=Te.querySelector("[data-preview]");tt.style.display=y&&y!==Ie?"":"none",pt.style.backgroundImage=y||Q.getDefaultValue()}},{key:"openAssetManager",value:function(){var y,Q=this,Te=(y=this.em)===null||y===void 0?void 0:y.get("AssetManager");Te==null||Te.open({select:function(Ie,tt){var pt=(0,fe.isString)(Ie)?Ie:Ie.get("src");Q.model.upValue(pt,{partial:!tt}),tt&&Te.close()},types:["image"],accept:"image/*"})}}]),pe}(P);function At(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Ft=function(Me){(0,T.Z)(pe,Me);var Fe=At(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"templateInput",value:function(){return""}},{key:"init",value:function(){var y=this.model;this.listenTo(y,"change:unit",this.onValueChange),this.listenTo(y,"change:units",this.render)}},{key:"setValue",value:function(){}},{key:"onRender",value:function(){var y=this.ppfx,Q=this.model,Te=this.el;if(!this.inputInst){var Ie=Q.input;Ie.ppfx=y,Ie.render(),Te.querySelector(".".concat(y,"fields")).appendChild(Ie.el),this.input=Ie.inputEl.get(0),this.inputInst=Ie}}},{key:"clearCached",value:function(){P.prototype.clearCached.apply(this,arguments),this.inputInst=null}}]),pe}(P),rn=_(1511);function On(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var kt=function(Me){(0,T.Z)(pe,Me);var Fe=On(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"setValue",value:function(y){var Q;(Q=this.inputInst)===null||Q===void 0||Q.setValue(y,{fromTarget:1,def:this.model.getDefaultValue()})}},{key:"remove",value:function(){var y=this;Ft.prototype.remove.apply(this,arguments);var Q=this.inputInst;Q&&Q.remove&&Q.remove(),["inputInst","$color"].forEach(function(Te){return y[Te]=null})}},{key:"__handleChange",value:function(y,Q){this.model.upValue(y,{partial:Q})}},{key:"onRender",value:function(){if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var y=this.ppfx,Q=this.model,Te=this.em,Ie=this.el,tt=new rn.Z({target:Te,model:Q,ppfx:y,onChange:this.__handleChange}).render();Ie.querySelector(".".concat(y,"fields")).appendChild(tt.el),this.input=tt.inputEl.get(0),this.inputInst=tt}}}]),pe}(Ft);function Ae(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function We(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?Ae(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):Ae(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function et(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var rt=function(Me){(0,T.Z)(pe,Me);var Fe=et(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return We(We({},te.getDefaults()),{},{options:[],full:0})}},{key:"getOptions",value:function(){var y=this.attributes,Q=y.options,Te=y.list;return(Q&&Q.length?Q:Te)||[]}},{key:"getOption",value:function(y){var Q=this,Te=y||this.getValue();return this.getOptions().filter(function(Ie){return Q.getOptionId(Ie)===Te})[0]||null}},{key:"setOptions",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.set("options",y),this}},{key:"addOption",value:function(y){if(y){var Q=this.getOptions();this.setOptions([].concat((0,ve.Z)(Q),[y]))}return this}},{key:"getOptionId",value:function(y){return(0,de.isDef)(y.id)?y.id:y.value}},{key:"getOptionLabel",value:function(y){var Q,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=Te.locale,tt=Ie===void 0||Ie,pt=((0,fe.isString)(y)?this.getOption(y):y)||{},Pt=this.getOptionId(pt),Ct=pt.label||pt.name||Pt,Zt=this.getId();return tt&&((Q=this.em)===null||Q===void 0?void 0:Q.t("styleManager.options.".concat(Zt,".").concat(Pt)))||Ct}},{key:"initialize",value:function(){for(var y=arguments.length,Q=new Array(y),Te=0;Te<y;Te++)Q[Te]=arguments[Te];te.prototype.initialize.apply(this,Q),this.listenTo(this,"change:options",this.__onOptionChange)}},{key:"__onOptionChange",value:function(){this.set("list",this.get("options"))}}]),pe}(te);function Lt(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Be=function(Me){(0,T.Z)(pe,Me);var Fe=Lt(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"templateInput",value:function(){var y=this.pfx,Q=this.ppfx;return`
      <div class="`.concat(Q,"field ").concat(Q,`select">
        <span id="`).concat(y,`input-holder"></span>
        <div class="`).concat(Q,`sel-arrow">
          <div class="`).concat(Q,`d-s-arrow"></div>
        </div>
      </div>
    `)}},{key:"initialize",value:function(){for(var y=arguments.length,Q=new Array(y),Te=0;Te<y;Te++)Q[Te]=arguments[Te];P.prototype.initialize.apply(this,Q),this.listenTo(this.model,"change:options",this.updateOptions)}},{key:"updateOptions",value:function(){this.input=null,this.onRender()}},{key:"onRender",value:function(){var y=this.model,Q=this.pfx,Te=y.getOptions();if(!this.input){var Ie=[];Te.forEach(function(pt){var Pt=y.getOptionId(pt),Ct=y.getOptionLabel(Pt),Zt=pt.style?pt.style.replace(/"/g,"&quot;"):"",It=Zt?'style="'.concat(Zt,'"'):"",Ut=Pt.replace(/"/g,"&quot;");Ie.push('<option value="'.concat(Ut,'" ').concat(It,">").concat(Ct,"</option>"))});var tt=this.el.querySelector("#".concat(Q,"input-holder"));tt.innerHTML="<select>".concat(Ie.join(""),"</select>"),this.input=tt.firstChild}}},{key:"__setValueInput",value:function(y){var Q=this.model,Te=this.getInputEl(),Ie=Q.getOptions()[0],tt=Ie?Q.getOptionId(Ie):"";Te&&(Te.value=y||tt)}}]),pe}(P);function nt(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function lt(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?nt(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):nt(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function Rt(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var _t=function(Me){(0,T.Z)(pe,Me);var Fe=Rt(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return lt(lt({},rt.getDefaults()),{},{full:1})}}]),pe}(rt);function mt(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var fn=function(Me){(0,T.Z)(pe,Me);var Fe=mt(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"templateInput",value:function(){var y=this.ppfx;return'<div class="'.concat(y,"field ").concat(y,'field-radio"></div>')}},{key:"onRender",value:function(){var y=this.pfx,Q=this.ppfx,Te=this.model,Ie="".concat(Q,"radio-item-label"),tt=Te.getName(),pt=Te.getOptions(),Pt="".concat(y,"radio ").concat(y,"radio-").concat(tt),Ct=Te.cid;if(!this.input){var Zt=[];pt.forEach(function(Ut){var xn=Ut.className?"".concat(Ut.className," ").concat(y,"icon ").concat(Ie):"",hn=Te.getOptionId(Ut),kn="".concat(tt,"-").concat(hn,"-").concat(Ct),Ce=xn?"":Te.getOptionLabel(hn),Pe=Ut.title?'title="'.concat(Ut.title,'"'):"",F=Te.getValue()===hn?"checked":"";Zt.push(`
          <div class="`.concat(Q,`radio-item">
            <input type="radio" class="`).concat(Pt,'" id="').concat(kn,'" name="').concat(tt,"-").concat(Ct,'" value="').concat(hn,'" ').concat(F,`/>
            <label class="`).concat(xn||Ie,'" ').concat(Pe,' for="').concat(kn,'">').concat(Ce,`</label>
          </div>
        `))});var It=this.el.querySelector(".".concat(Q,"field"));It.innerHTML='<div class="'.concat(Q,'radio-items">').concat(Zt.join(""),"</div>"),this.input=It.firstChild}}},{key:"__setValueInput",value:function(y){var Q,Te=this.model,Ie=y||Te.getDefaultValue(),tt=(Q=this.getInputEl())===null||Q===void 0?void 0:Q.querySelector('[value="'.concat(Ie,'"]'));tt&&(tt.checked=!0)}}]),pe}(Be),wn=_(7610);function pn(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function Rn(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?pn(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):pn(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function Sn(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Fn=function(Me){(0,T.Z)(pe,Me);var Fe=Sn(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return Rn(Rn({},te.getDefaults()),{},{units:[],unit:"",min:"",max:"",step:1})}},{key:"getUnits",value:function(){return this.get("units")||[]}},{key:"getUnit",value:function(){return this.get("unit")}},{key:"getMin",value:function(){return this.get("min")}},{key:"getMax",value:function(){return this.get("max")}},{key:"getStep",value:function(){return this.get("step")}},{key:"upUnit",value:function(y,Q){return this._up({unit:y},Q)}},{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};te.callParentInit(te,this,y,Q);var Te=this.get("unit"),Ie=this.get("units");this.input=(0,de.hasWin)()&&new wn.Z({model:this}),Ie.length&&!Te&&this.set("unit",Ie[0],{silent:1}),te.callInit(this,y,Q)}},{key:"__getClearProps",value:function(){return Rn(Rn({},te.prototype.__getClearProps()),{},{unit:""})}},{key:"parseValue",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=te.prototype.parseValue.apply(this,arguments),Ie=this.input.validateInputValue(Te.value,Rn({deepCheck:1},Q)),tt=Ie.value,pt=Ie.unit;return Te.value=tt,Te.unit=pt,Te}},{key:"getFullValue",value:function(){var y=this.get("value"),Q=this.get("unit");return y=(0,fe.isUndefined)(y)?"":y,Q=!(0,fe.isUndefined)(Q)&&y?Q:"",y="".concat(y).concat(Q),te.prototype.getFullValue.apply(this,[y])}}]),pe}(te);function gn(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function Wt(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?gn(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):gn(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function nn(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var $n=function(Me){(0,T.Z)(pe,Me);var Fe=nn(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return Wt(Wt({},Fn.getDefaults()),{},{showInput:1})}}]),pe}(Fn);function tr(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function Wn(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?tr(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):tr(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function nr(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var In=function(Me){(0,T.Z)(pe,Me);var Fe=nr(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"events",value:function(){return Wn(Wn({},Ft.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})}},{key:"templateInput",value:function(y){var Q=this.ppfx;return`
      <div class="`.concat(Q,"field ").concat(Q,`field-range">
        <input type="range" min="`).concat(y.get("min"),'" max="').concat(y.get("max"),'" step="').concat(y.get("step"),`"/>
      </div>
    `)}},{key:"getSliderEl",value:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider}},{key:"inputValueChanged",value:function(){this.model.upValue(this.getSliderEl().value)}},{key:"inputValueChangedSoft",value:function(){this.model.upValue(this.getSliderEl().value,{partial:!0})}},{key:"setValue",value:function(y){var Q=this.model,Te=Q.parseValue(y);this.getSliderEl().value=y===""?Q.getDefaultValue():parseFloat(Te.value),Ft.prototype.setValue.apply(this,arguments)}},{key:"onRender",value:function(){Ft.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")}},{key:"clearCached",value:function(){Ft.prototype.clearCached.apply(this,arguments),this.slider=null}}]),pe}(Ft);const Hn=X().Collection.extend(ae.Z).extend({extendViewApi:1,init:function(){var Me=this.opts,Fe=this.em,pe=Me.module||(Fe==null?void 0:Fe.get("StyleManager"));pe&&(pe.__listenAdd(this,pe.events.propertyAdd),pe.__listenRemove(this,pe.events.propertyRemove))},types:[{id:"stack",model:C,view:we,isType:function(Me){if(Me&&Me.type=="stack")return Me}},{id:"composite",model:B,view:Oe,isType:function(Me){if(Me&&Me.type=="composite")return Me}},{id:"file",model:te,view:bt,isType:function(Me){if(Me&&Me.type=="file")return Me}},{id:"color",model:te,view:kt,isType:function(Me){if(Me&&Me.type=="color")return Me}},{id:"select",model:rt,view:Be,isType:function(Me){if(Me&&Me.type=="select")return Me}},{id:"radio",model:_t,view:fn,isType:function(Me){if(Me&&Me.type=="radio")return Me}},{id:"slider",model:$n,view:In,isType:function(Me){if(Me&&Me.type=="slider")return Me}},{id:"integer",model:Fn,view:Ft,isType:function(Me){if(Me&&Me.type=="integer")return Me}},{id:"number",model:Fn,view:Ft,isType:function(Me){if(Me&&Me.type=="number")return Me}},{id:"base",model:te,view:P,isType:function(Me){return Me.type="base",Me}}]});var br=["extend"];function qn(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function Un(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?qn(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):qn(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function gr(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var Bn=function(Me){(0,T.Z)(pe,Me);var Fe=gr(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,visible:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(y){var Q=this,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=Te.em;this.em=Ie;var tt=y||{},pt=this.buildProperties(tt.buildProps),Pt=this.get("name")||"",Ct=[];!this.get("id")&&this.set("id",Pt.replace(/ /g,"_").toLowerCase()),Ct=(Ct=pt?this.extendProperties(pt):this.get("properties").map(function(It){return(0,fe.isString)(It)?Q.buildProperties(It)[0]:It}).filter(Boolean)).map(function(It){return Q.checkExtend(It)});var Zt=new Hn(Ct,{em:Ie});Zt.sector=this,this.set("properties",Zt)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){var y,Q=this.getId();return((y=this.em)===null||y===void 0?void 0:y.t("styleManager.sectors.".concat(Q)))||this.get("name")}},{key:"setName",value:function(y){return this.set("name",y)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(y){return this.set("open",y)}},{key:"isVisible",value:function(){return!!this.get("visible")}},{key:"getProperties",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=this.get("properties"),Te=Q.models?(0,ve.Z)(Q.models):Q;return Te.filter(function(Ie){var tt=!0;return y.withValue&&(tt=Ie.hasValue({noParent:!0})),y.withParentValue&&(tt=!Ie.hasValue({noParent:!0})&&Ie.hasValue()),tt})}},{key:"getProperty",value:function(y){return this.getProperties().filter(function(Q){return Q.get("id")===y})[0]||null}},{key:"addProperty",value:function(y,Q){return this.get("properties").add(this.checkExtend(y),Q)}},{key:"extendProperties",value:function(y,Q,Te){for(var Ie=y.length,tt=Q||this.get("properties"),pt=this.get("extendBuilded"),Pt=[],Ct=0,Zt=tt.length;Ct<Zt;Ct++){for(var It=tt[Ct],Ut=0,xn=0;xn<Ie;xn++){var hn=y[xn];if(!(It.property!=hn.property&&It.id!=hn.property)){var kn=It.properties;kn&&kn.length&&(It.properties=this.extendProperties(hn.properties||[],kn,1)),y[xn]=pt?(0,fe.extend)(hn,It):It,Pt[xn]=y[xn],Ut=1}}Ut||(y.push(It),Pt.push(It))}return Te?Pt.filter(function(Ce){return Ce}):y}},{key:"checkExtend",value:function(y){var Q=((0,fe.isString)(y)?{extend:y}:y)||{},Te=Q.extend,Ie=(0,j.Z)(Q,br);return Te?Un(Un({},this.buildProperties([Te])[0]||{}),Ie):y}},{key:"buildProperties",value:function(y){var Q,Te=y||[];if(!Te.length)return[];var Ie=(Q=this.em)===null||Q===void 0?void 0:Q.get("StyleManager").builtIn;return Ie==null?void 0:Ie.build(Te)}}]),pe}(ne.Model);function fr(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function ir(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?fr(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):fr(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}function Ir(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var hr=function(Me){(0,T.Z)(pe,Me);var Fe=Ir(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"initialize",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.module,Ie=Q.em;this.em=Ie,this.module=Te,this.listenTo(this,"reset",this.onReset)}},{key:"model",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.collection.em;return new Bn(y,ir(ir({},Q),{},{em:Te}))}},{key:"onReset",value:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.previousModels||[];Te.forEach(function(Ie){return Ie.get("properties").reset()})}}]),pe}(ne.Collection),Mn=_(885),Yt=["extend"];function Nn(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function sr(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?Nn(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):Nn(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}var Ln,un=function(Me){return Me.map(function(Fe){return{id:Fe}})},cn=function(){function Me(){(0,m.Z)(this,Me),this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var Fe=", sans-serif",pe=["flex-start","flex-end","center"],y=[].concat(pe,["baseline","stretch"]);this.optsBgSize=un(["auto","cover","contain"]),this.optsBgAttach=un(["scroll","fixed","local"]),this.optsBgRepeat=un(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=un(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=un(["visible","hidden","scroll","auto"]),this.optsDir=un(["row","row-reverse","column","column-reverse"]),this.opstDisplay=un(["block","inline","inline-block","flex","none"]),this.optsTransitFn=un(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=un(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=un(["none","left","right"]),this.optsPos=un(["static","relative","absolute","fixed"]),this.optsTextAlign=un(["left","center","right","justify"]),this.optsFlexAlign=un(y),this.optsJustCont=un([].concat(pe,["space-between","space-around","space-evenly"])),this.optsAlignCont=un([].concat(pe,["space-between","space-around","stretch"])),this.optsAlignSelf=un(["auto"].concat((0,ve.Z)(y))),this.optsTransitProp=un(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=un(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=un(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+Fe,"Arial Black, Gadget"+Fe,"Brush Script MT"+Fe,"Comic Sans MS, cursive"+Fe,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+Fe,"Impact, Charcoal"+Fe,"Lucida Sans Unicode, Lucida Grande"+Fe,"Tahoma, Geneva"+Fe,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+Fe,"Verdana, Geneva"+Fe].map(function(Q){return{id:Q,label:Q.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return(0,b.Z)(Me,[{key:"__sub",value:function(Fe){var pe=this;return function(){return Fe.map(function(y){if((0,fe.isString)(y))return pe.get(y);var Q=y.extend,Te=(0,j.Z)(y,Yt);return sr(sr({},pe.get(Q)),Te)})}}},{key:"init",value:function(){var Fe=this,pe=this.fixedValues,y=this.requireFlex,Q=this.typeNumber;return this.props={},[["text-shadow-h",{type:Q,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:pe},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:y},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:Q,default:"0",requiresParent:y}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black"}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:y},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:y},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(Te,Ie){var tt=Ie.values,pt=tt["box-shadow-h"],Pt=tt["box-shadow-v"],Ct=tt["box-shadow-blur"],Zt=tt["box-shadow-spread"];return"".concat(pt," ").concat(Pt," ").concat(Ct," ").concat(Zt)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(Te,Ie){var tt=Ie.values,pt=tt["text-shadow-h"],Pt=tt["text-shadow-v"],Ct=tt["text-shadow-blur"];return"".concat(pt," ").concat(Pt," ").concat(Ct)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(Te,Ie){var tt=Ie.values;return[tt["background-repeat-sub"]||"",tt["background-position-sub"]||"",tt["background-attachment-sub"]||"",tt["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(Te,Ie){var tt=Ie.property,pt=Te[Ie.name]||"",Pt=tt.getLayerSeparator();return pt?pt.split(Pt).map(function(Ct){var Zt=tt.__parseFn(Ct);return{name:Zt.name,value:Zt.value}}):[]},toStyle:function(Te,Ie){return{[Ie.name]:"".concat(Te.name,"(").concat(Te.value,")")}},properties:[{property:"name",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(Te){var Ie=Te.property;if(Te.to.value){var tt=sr({},Ie.getOption().propValue||{}),pt=Ie.getParent().getProperty("value"),Pt=pt.getUnit();(!Pt||(tt==null?void 0:tt.units.indexOf(Pt))<0)&&(tt.unit=(tt==null?void 0:tt.units[0])||""),pt.up(tt)}}},{property:"value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(Te){var Ie=(0,Mn.Z)(Te,3),tt=Ie[0],pt=Ie[1],Pt=Ie[2];Fe.add(tt,pt||{},{from:Pt})}),this}},{key:"add",value:function(Fe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q=y.from||"",Te=this.props[Q||Fe]||{},Ie=sr(sr({},Te),{},{property:Fe},pe);return Ie.properties&&(0,fe.isFunction)(Ie.properties)&&(Ie.properties=Ie.properties()),this.props[Fe]=Ie,Ie}},{key:"get",value:function(Fe){return this.props[Fe]||null}},{key:"build",value:function(Fe){var pe=this,y=[];return((0,fe.isString)(Fe)?[Fe]:Fe).forEach(function(Q){y.push(pe.get(Q)||{property:Q})}),y}}]),Me}(),Mr=_(168),Fr=_(7539);function Tt(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var ye=function(Me){(0,T.Z)(pe,Me);var Fe=Tt(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"template",value:function(y){var Q,Te=y.pfx,Ie=y.label,tt=(Q=this.em)===null||Q===void 0?void 0:Q.getConfig().icons,pt=(tt==null?void 0:tt.caret)||"",Pt="".concat(Te,"sector-");return(0,Fr.Z)(Ln||(Ln=(0,Mr.Z)([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),Pt,Pt,pt,Pt,Ie)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(y){var Q=y.config||{},Te=this.model,Ie=Q.em;this.config=Q,this.em=Ie,this.pfx=Q.stylePrefix||"",this.listenTo(Te,"destroy remove",this.remove),this.listenTo(Te,"change:open",this.updateOpen),this.listenTo(Te,"change:visible",this.updateVisibility)}},{key:"updateOpen",value:function(){var y=this.$el,Q=this.model,Te=this.pfx,Ie=Q.isOpen();y[Ie?"addClass":"removeClass"]("".concat(Te,"open")),this.getPropertiesEl().style.display=Ie?"":"none"}},{key:"updateVisibility",value:function(){this.el.style.display=this.model.isVisible()?"":"none"}},{key:"getPropertiesEl",value:function(){var y=this.$el,Q=this.pfx;return y.find(".".concat(Q,"properties")).get(0)}},{key:"toggle",value:function(){var y=this.model;y.setOpen(!y.get("open"))}},{key:"renderProperties",value:function(){var y=this.model,Q=this.config,Te=y.get("properties");if(Te){var Ie=new H({collection:Te,config:Q});this.$el.append(Ie.render().el)}}},{key:"render",value:function(){var y=this.pfx,Q=this.model,Te=this.$el,Ie=Q.getId(),tt=Q.getName();return Te.html(this.template({pfx:y,label:tt})),this.renderProperties(),Te.attr("class","".concat(y,"sector ").concat(y,"sector__").concat(Ie," no-select")),this.updateOpen(),this}}]),pe}(ne.View);function ze(Me){var Fe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pe,y=(0,s.Z)(Me);if(Fe){var Q=(0,s.Z)(this).constructor;pe=Reflect.construct(y,arguments,Q)}else pe=y.apply(this,arguments);return(0,V.Z)(this,pe)}}var xt=function(Me){(0,T.Z)(pe,Me);var Fe=ze(pe);function pe(){return(0,m.Z)(this,pe),Fe.apply(this,arguments)}return(0,b.Z)(pe,[{key:"initialize",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=y.module,Te=y.config,Ie=Te===void 0?{}:Te,tt=this.collection;this.pfx=Ie.stylePrefix||"",this.ppfx=Ie.pStylePrefix||"",this.config=Ie,this.module=Q,this.listenTo(tt,"add",this.addTo),this.listenTo(tt,"reset",this.render)}},{key:"remove",value:function(){var y=this;ne.View.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(Q){return y[Q]={}})}},{key:"addTo",value:function(y,Q){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.addToCollection(y,null,Te)}},{key:"addToCollection",value:function(y,Q){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=this.config,tt=this.el,pt=Q||tt,Pt=new ye({model:y,config:Ie}).render().el;return(0,q.$Q)(pt,Pt,Te.at),Pt}},{key:"render",value:function(){var y=this,Q=this.$el,Te=this.pfx,Ie=this.ppfx;Q.empty();var tt=document.createDocumentFragment();return this.collection.each(function(pt){return y.addToCollection(pt,tt)}),Q.append(tt),Q.addClass("".concat(Te,"sectors ").concat(Ie,"one-bg ").concat(Ie,"two-color")),this}}]),pe}(ne.View);function Vt(Me,Fe){var pe=Object.keys(Me);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(Me);Fe&&(y=y.filter(function(Q){return Object.getOwnPropertyDescriptor(Me,Q).enumerable})),pe.push.apply(pe,y)}return pe}function $t(Me){for(var Fe=1;Fe<arguments.length;Fe++){var pe=arguments[Fe]!=null?arguments[Fe]:{};Fe%2?Vt(Object(pe),!0).forEach(function(y){(0,_e.Z)(Me,y,pe[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(pe)):Vt(Object(pe)).forEach(function(y){Object.defineProperty(Me,y,Object.getOwnPropertyDescriptor(pe,y))})}return Me}var vn="style",qt="".concat(vn,":"),rr="".concat(qt,"sector"),Jn="".concat(rr,":add"),kr="".concat(rr,":remove"),vr="".concat(rr,":update"),Ur="".concat(qt,"property"),Kr="".concat(Ur,":add"),Br="".concat(Ur,":remove"),Cr="".concat(Ur,":update"),Tr="".concat(qt,"layer:select"),Qn="".concat(qt,"target"),Or="".concat(qt,"custom"),Vr=function(Me){return Me||Me===0};const Wr=function(){var Me,Fe,pe;return $t($t({},ue.Z),{},{Sector:Bn,events:{all:vn,sectorAdd:Jn,sectorRemove:kr,sectorUpdate:vr,propertyAdd:Kr,propertyRemove:Br,propertyUpdate:Cr,layerSelect:Tr,target:Qn,custom:Or},name:"StyleManager",init:function(){var y=this,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,fe.bindAll)(this,"__clearStateTarget"),this.__initConfig(ee,Q);var Te=this.config,Ie=Te.em,tt=Te.pStylePrefix;tt&&(Te.stylePrefix=tt+Te.stylePrefix),this.builtIn=new cn,Me=new Hn([],{em:Ie,module:this}),Fe=new hr([],$t($t({},Te),{},{module:this}));var pt=new ne.Model({targets:[]});this.model=pt,this.__listenAdd(Fe,Jn),this.__listenRemove(Fe,kr),this.__listenUpdate(Fe,vr);var Pt="component:toggled component:update:classes change:state change:device frame:resized selector:type";this.upAll=(0,fe.debounce)(function(){return y.__upSel()}),pt.listenTo(Ie,Pt,this.upAll),pt.listenTo(Ie,"component:toggled",this.__clearStateTarget);var Ct=(0,fe.debounce)(function(){y.__upProps(),y.__trgCustom()});pt.listenTo(Ie,"styleable:change undo redo",Ct);var Zt=(0,fe.debounce)(function(){return y.__trgCustom()});return pt.listenTo(Ie,"".concat(Tr," ").concat(Qn),Zt),pt.on("change:lastTarget",function(){return Ie.trigger(Qn,y.getSelected())}),this},__upSel:function(){this.select(this.em.getSelectedAll())},__trgCustom:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||y.container,this.em.trigger(this.events.custom,{container:this.__ctn})},__trgEv:function(y){for(var Q,Te=arguments.length,Ie=new Array(Te>1?Te-1:0),tt=1;tt<Te;tt++)Ie[tt-1]=arguments[tt];(Q=this.em).trigger.apply(Q,[y].concat(Ie))},__clearStateTarget:function(){var y=this,Q=this.em,Te=this.__getStateTarget();Te&&(Q==null||Q.skip(function(){Q.get("CssComposer").remove(Te),y.model.set({stateTarget:null})}))},onLoad:function(){Fe.add(this.config.sectors,{silent:!0})},postRender:function(){this.__appendTo()},addSector:function(y,Q){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=this.getSector(y);return Ie||(Q.id=y,Ie=Fe.add(Q,Te)),Ie},getSector:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Fe.where({id:y})[0];return!Te&&Q.warn&&this._logNoSector(y),Te||null},getSectors:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Q=Fe&&Fe.models?y.array?(0,ve.Z)(Fe.models):Fe:[];return y.visible?Q.filter(function(Te){return Te.isVisible()}):Q},removeSector:function(y){return this.getSectors().remove(this.getSector(y,{warn:1}))},addProperty:function(y,Q){var Te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ie=this.getSector(y,{warn:1}),tt=null;return Ie&&(tt=Ie.addProperty(Q,Te)),tt},getProperty:function(y,Q){var Te,Ie=this.getSector(y,{warn:1});return Ie&&(Te=Ie.get("properties").filter(function(tt){return tt.get("property")===Q||tt.get("id")===Q})[0]),Te||null},getProperties:function(y){var Q=null,Te=this.getSector(y,{warn:1});return Te&&(Q=Te.get("properties")),Q},removeProperty:function(y,Q){var Te=this.getProperties(y);return Te?Te.remove(this.getProperty(y,Q)):null},select:function(y){var Q=this,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=this.em,tt=(0,fe.isArray)(y)?y:[y],pt=Te.stylable,Pt=Ie.get("CssComposer"),Ct=[];tt.filter(Boolean).forEach(function(kn){var Ce=kn;if((0,fe.isString)(kn)){var Pe=Pt.getRule(kn)||Pt.setRule(kn);!(0,fe.isUndefined)(pt)&&Pe.set({stylable:pt}),Ce=Pe}Ct.push(Ce)});var Zt=Te.component||Ct.filter(function(kn){return(0,de.isComponent)(kn)}).reverse()[0];Ct=Ct.map(function(kn){return Q.getModelToStyle(kn)});var It=Ie.getState(),Ut=Ct.slice().reverse()[0],xn=this.getParentRules(Ut,{state:It,component:Zt}),hn=this.__getStateTarget();return Ie.skip(function(){var kn;if(It&&Ut!=null&&(kn=Ut.getState)!==null&&kn!==void 0&&kn.call(Ut)){var Ce=Ut.getStyle();hn?hn.setStyle(Ce):hn=Pt.getAll().add({selectors:"gjs-selected",style:Ce,shallow:!0,important:!0})}else hn&&(Pt.remove(hn),hn=null)}),this.model.set({targets:Ct,lastTarget:Ut,lastTargetParents:xn,stateTarget:hn,component:Zt}),this.__upProps(Te),Ct},getSelected:function(){return this.model.get("lastTarget")||null},getSelectedAll:function(){return this.model.get("targets")},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},__getStateTarget:function(){return this.model.get("stateTarget")||null},addStyleTargets:function(y,Q){this.getSelectedAll().map(function(tt){return tt.addStyle(y,Q)});var Te=this.getSelected(),Ie=this.__getStateTarget();Te&&(Ie==null||Ie.setStyle(Te.getStyle(),Q))},getBuiltIn:function(y){return this.builtIn.get(y)},getBuiltInAll:function(){return this.builtIn.props},addBuiltIn:function(y,Q){return this.builtIn.add(y,Q)},getModelToStyle:function(y){var Q,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=this.em,tt=Te.skipAdd;if(Ie&&(Q=y)!==null&&Q!==void 0&&Q.toHTML){var pt,Pt=Ie.getConfig(),Ct=Ie.get("UndoManager"),Zt=Ie.get("CssComposer"),It=Ie.get("SelectorManager"),Ut=It?It.getConfig():{},xn=Pt.devicePreviewMode?"":Ie.get("state"),hn=y.get("classes"),kn=hn.getStyleable(),Ce=kn.length,Pe=!Ut.componentFirst||Te.useClasses,F={noCount:1},G={state:xn,addOpts:F};if(Ct.stop(),Ce&&Pe){var Ne=Ie.getCurrentMedia();(pt=Zt.get(kn,xn,Ne))||tt||(pt=Zt.add(kn,xn,Ne,{},F))}else if(Pt.avoidInlineStyle){var st=y.getId();!(pt=Zt.getIdRule(st,G))&&!tt&&(pt=Zt.setIdRule(st,{},G)),y.is("wrapper")&&pt.set("wrapper",1,F)}pt&&(y=pt),Ct.start()}return y},getParentRules:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.state,Ie=Q.component,tt=this.em,pt=[];if(tt&&y){var Pt=Ie,Ct=tt.get("CssComposer"),Zt=tt.get("CodeManager").getGenerator("css"),It=y.toHTML?y:y.getComponent(),Ut={combination:!0,array:!0},xn=[],hn=[],kn=[];It?(xn=Ct.getRules("#".concat(It.getId())),kn=(hn=Pt?Ct.getRules(Pt.getSelectors().getFullName(Ut)):[]).concat(xn)):(xn=Pt?Ct.getRules("#".concat(Pt.getId())):[],hn=Ct.getRules(y.getSelectors().getFullName(Ut)),kn=xn.concat(hn));var Ce=kn.filter(function(Pe){return(0,fe.isUndefined)(Te)?1:Pe.get("state")===Te}).sort(Zt.sortRules).reverse();pt=Ce.slice(Ce.indexOf(y)+1)}return pt},addType:function(y,Q){Me.addType(y,Q)},getType:function(y){return Me.getType(y)},getTypes:function(){return Me.getTypes()},createType:function(y){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Te=Q.model,Ie=Te===void 0?{}:Te,tt=Q.view,pt=tt===void 0?{}:tt,Pt=this.config,Ct=this.getType(y);if(Ct)return new Ct.view($t({model:new Ct.model(Ie),config:Pt},pt))},render:function(){var y=this.config,Q=this.em,Te=pe&&pe.el;return(pe=new xt({el:Te,em:Q,config:y,collection:Fe,module:this})).render().el},_logNoSector:function(y){var Q=this.em;Q&&Q.logWarning("'".concat(y,"' sector not found"))},__upProps:function(y){var Q=this,Te=this.getSelected();if(Te){var Ie=this.model.get("component"),tt=this.getSelectedParents(),pt=Te.getStyle(),Pt=tt.map(function(Ct){return{target:Ct,style:Ct.getStyle()}});Fe.map(function(Ct){Ct.getProperties().map(function(Zt){Q.__upProp(Zt,pt,Pt,y)})}),Fe.forEach(function(Ct){var Zt=Ct.getProperties();Zt.forEach(function(Ut){var xn=Ut.__checkVisibility({target:Te,component:Ie,sectors:Fe});Ut.set("visible",xn)});var It=Zt.some(function(Ut){return Ut.isVisible()});Ct.set("visible",It)})}},__upProp:function(y,Q,Te,Ie){var tt=this,pt=y.getName(),Pt=Q[pt],Ct=Vr(Pt),Zt=y.getType()==="stack",It=y.getType()==="composite",Ut=$t($t({},Ie),{},{__up:!0}),xn=!It&&!Zt,hn=Zt?y.__getLayersFromStyle(Q):[],kn=It?y.__getPropsFromStyle(Q):{},Ce=Ct?Pt:null,Pe=null;if(Zt&&hn===null||It&&kn===null){var F=Zt?"__getLayersFromStyle":"__getPropsFromStyle",G=Te.filter(function(p){return y[F](p.style)!==null})[0];if(G){Ce=G.style[pt],Pe=G.target;var Ne=y[F](G.style);Zt?hn=Ne:kn=Ne}}else if(!Ct){Ce=null;var st=Te.filter(function(p){return Vr(p.style[pt])})[0];st&&(Ce=st.style[pt],Pe=st.target)}if(y.__setParentTarget(Pe),xn&&y.__getFullValue()!==Ce&&y.upValue(Ce,Ut),Zt&&y.__setLayers(hn||[]),It){var wt=y.getProperties();if(y.isDetached()){var zt=y.__getPropsFromStyle(Q,{byName:!0})||{},o=Te.map(function(p){return $t($t({},p),{},{style:y.__getPropsFromStyle(p.style,{byName:!0})||{}})});wt.map(function(p){return tt.__upProp(p,zt,o,Ie)})}else y.__setProperties(kn||{},Ut),y.getProperties().map(function(p){return p.__setParentTarget(Pe)})}},destroy:function(){[Me,Fe].forEach(function(y){y.reset(),y.stopListening()}),pe&&pe.remove(),this.model.stopListening(),this.upAll.cancel(),this.em={},this.config={},this.builtIn={},this.model={}}})}},6388:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>h,evAll:()=>C,evCustom:()=>f,evPfx:()=>l});var ve=_(4942),_e=_(9050),fe=_(9304),de=_(2316),ue=_.n(de);const ne={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]};var X=_(5671),ee=_(3144),j=_(7326),m=_(9340),b=_(2963),T=_(1120),V=_(6602),s=_(885),ae=_(1163);function $(u,d){var P=Object.keys(u);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(u);d&&(q=q.filter(function(K){return Object.getOwnPropertyDescriptor(u,K).enumerable})),P.push.apply(P,q)}return P}function R(u){for(var d=1;d<arguments.length;d++){var P=arguments[d]!=null?arguments[d]:{};d%2?$(Object(P),!0).forEach(function(q){(0,ve.Z)(u,q,P[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(P)):$(Object(P)).forEach(function(q){Object.defineProperty(u,q,Object.getOwnPropertyDescriptor(P,q))})}return u}function Z(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}var L=ue().$,te=function(u){(0,m.Z)(P,u);var d=Z(P);function P(){var q,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,X.Z)(this,P),q=d.call(this,K),(0,ve.Z)((0,j.Z)(q),"events",{}),(0,ve.Z)((0,j.Z)(q),"appendInput",!0);var H=K.config,w=H===void 0?{}:H,M=(0,j.Z)(q),J=M.model,Oe=M.eventCapture,Re=J.target,Ye=J.attributes.type;q.config=w,q.em=w.em,q.pfx=w.stylePrefix||"",q.ppfx=w.pStylePrefix||"",q.target=Re;var Ve=(0,j.Z)(q),Se=Ve.ppfx;return q.clsField="".concat(Se,"field ").concat(Se,"field-").concat(Ye),[["change:value",q.onValueChange],["remove",q.removeView]].forEach(function(je){var x=(0,s.Z)(je,2),re=x[0],we=x[1];J.off(re,we),q.listenTo(J,re,we)}),J.view=(0,j.Z)(q),q.listenTo(J,"change:label",q.render),q.listenTo(J,"change:placeholder",q.rerender),q.events={},Oe.forEach(function(je){return q.events[je]="onChange"}),q.delegateEvents(),q.init(),q}return(0,ee.Z)(P,[{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"templateLabel",value:function(){var q=this.ppfx,K=this.getLabel();return'<div class="'.concat(q,'label" title="').concat(K,'">').concat(K,"</div>")}},{key:"templateInput",value:function(){var q=this.clsField;return'<div class="'.concat(q,'" data-input></div>')}},{key:"getClbOpts",value:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}}},{key:"removeView",value:function(){this.remove(),this.removed()}},{key:"init",value:function(){}},{key:"removed",value:function(){}},{key:"onRender",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onEvent",value:function(){}},{key:"onChange",value:function(q){var K=this.getInputElem();K&&!(0,_e.isUndefined)(K.value)&&this.model.set("value",K.value),this.onEvent(R(R({},this.getClbOpts()),{},{event:q}))}},{key:"getValueForTarget",value:function(){return this.model.get("value")}},{key:"setInputValue",value:function(q){var K=this.getInputElem();K&&(K.value=q)}},{key:"onValueChange",value:function(q,K){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(H.fromTarget)this.setInputValue(q.get("value")),this.postUpdate();else{var w=this.getValueForTarget();q.setTargetValue(w,H)}}},{key:"renderLabel",value:function(){var q=this.$el,K=this.target,H=this.getLabel(),w=this.templateLabel(K);this.createLabel&&(w=this.createLabel({label:H,component:K,trait:this})||""),q.find("[data-label]").append(w)}},{key:"getLabel",value:function(){var q=this.em,K=this.model.attributes,H=K.label,w=K.name;return q.t("traitManager.traits.labels.".concat(w))||(0,ae.capitalize)(H||w).replace(/-/g," ")}},{key:"getComponent",value:function(){return this.target}},{key:"getInputEl",value:function(){if(!this.$input){var q=this.em,K=this.model,H=K,w=K.attributes.name,M=H.get("placeholder")||H.get("default")||"",J=H.get("type")||"text",Oe=H.get("min"),Re=H.get("max"),Ye=this.getModelValue(),Ve=L('<input type="'.concat(J,'" placeholder="').concat(M,'">')),Se=q.t("traitManager.traits.attributes.".concat(w))||{};Ve.attr(Se),(0,_e.isUndefined)(Ye)||(H.set({value:Ye},{silent:!0}),Ve.prop("value",Ye)),Oe&&Ve.prop("min",Oe),Re&&Ve.prop("max",Re),this.$input=Ve}return this.$input.get(0)}},{key:"getInputElem",value:function(){var q=this.input,K=this.$input;return q||K&&K.get&&K.get(0)||this.getElInput()}},{key:"getModelValue",value:function(){var q,K=this.model,H=this.target,w=K.get("name");if(K.get("changeProp"))q=H.get(w);else{var M=H.get("attributes");q=K.get("value")||M[w]}return(0,_e.isUndefined)(q)?"":q}},{key:"getElInput",value:function(){return this.elInput}},{key:"renderField",value:function(){var q=this.$el,K=this.appendInput,H=this.model,w=q.find("[data-input]"),M=w[w.length-1],J=H.el;J||(J=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,_e.isString)(J)?(M.innerHTML=J,this.elInput=M.firstChild):(K?M.appendChild(J):M.insertBefore(J,M.firstChild),this.elInput=J),H.el=this.elInput}},{key:"hasLabel",value:function(){var q=this.model.attributes.label;return!this.noLabel&&q!==!1}},{key:"rerender",value:function(){this.model.el=null,this.render()}},{key:"postUpdate",value:function(){this.onUpdate(this.getClbOpts())}},{key:"render",value:function(){var q=this.$el,K=this.pfx,H=this.ppfx,w=this.model.attributes,M=w.type,J=w.id,Oe=this.hasLabel&&this.hasLabel(),Re="".concat(K,"trait");this.$input=null;var Ye='<div class="'.concat(Re," ").concat(Re,"--").concat(M,`">
      `).concat(Oe?'<div class="'.concat(H,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(H,"field-wrp ").concat(H,"field-wrp--").concat(M,`" data-input>
        `).concat(this.templateInput?(0,_e.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return q.empty().append(Ye),Oe&&this.renderLabel(),this.renderField(),this.el.className="".concat(Re,"__wrp ").concat(Re,"__wrp-").concat(J),this.postUpdate(),this.onRender(this.getClbOpts()),this}}]),P}(ue().View);function xe(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}te.prototype.eventCapture=["change"];var he=function(u){(0,m.Z)(P,u);var d=xe(P);function P(){var q,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=arguments.length>1?arguments[1]:void 0;(0,X.Z)(this,P),q=d.call(this,K),(0,ve.Z)((0,j.Z)(q),"reuseView",!0),q.itemsView=H;var w=K.config||{},M=w.stylePrefix||"",J=K.editor;return q.config=w,q.em=J,q.pfx=M,q.ppfx=w.pStylePrefix||"",q.className="".concat(M,"traits"),q.listenTo(J,"component:toggled",q.updatedCollection),q.updatedCollection(),q}return(0,ee.Z)(P,[{key:"updatedCollection",value:function(){var q=this.ppfx,K=this.className,H=this.em.getSelected();this.el.className="".concat(K," ").concat(q,"one-bg ").concat(q,"two-color"),this.collection=H?H.get("traits"):[],this.render()}}]),P}(V.Z);function A(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}he.prototype.itemView=te;var z=ue().$,B=function(u){(0,m.Z)(P,u);var d=A(P);function P(){var q,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,X.Z)(this,P),(q=d.call(this,K)).listenTo(q.model,"change:options",q.rerender),q}return(0,ee.Z)(P,[{key:"templateInput",value:function(){var q=this.ppfx,K=this.clsField;return'<div class="'.concat(K,`">
      <div data-input></div>
      <div class="`).concat(q,`sel-arrow">
        <div class="`).concat(q,`d-s-arrow"></div>
      </div>
    </div>`)}},{key:"getInputEl",value:function(){if(!this.$input){var q=this.model,K=this.em,H=q.get("name"),w=q.get("options")||[],M=[],J="<select>";w.forEach(function(Ye){var Ve,Se,je,x="";(0,_e.isString)(Ye)?(Ve=Ye,Se=Ye):(Ve=Ye.name||Ye.label||Ye.value,Se="".concat((0,_e.isUndefined)(Ye.value)?Ye.id:Ye.value).replace(/"/g,"&quot;"),x+=(je=Ye.style?Ye.style.replace(/"/g,"&quot;"):"")?' style="'.concat(je,'"'):"");var re=K.t("traitManager.traits.options.".concat(H,".").concat(Se))||Ve;J+='<option value="'.concat(Se,'"').concat(x,">").concat(re,"</option>"),M.push(Se)}),J+="</select>",this.$input=z(J);var Oe=q.getTargetValue(),Re=M.indexOf(Oe)>=0?Oe:q.get("default");!(0,_e.isUndefined)(Re)&&this.$input.val(Re)}return this.$input.get(0)}}]),P}(te);function W(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}var ie=function(u){(0,m.Z)(P,u);var d=W(P);function P(){var q;(0,X.Z)(this,P);for(var K=arguments.length,H=new Array(K),w=0;w<K;w++)H[w]=arguments[w];return q=d.call.apply(d,[this].concat(H)),(0,ve.Z)((0,j.Z)(q),"appendInput",!1),q}return(0,ee.Z)(P,[{key:"templateInput",value:function(){var q=this.ppfx,K=this.clsField;return'<label class="'.concat(K,`" data-input>
    <i class="`).concat(q,`chk-icon"></i>
  </label>`)}},{key:"onChange",value:function(){var q=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(q))}},{key:"getCheckedValue",value:function(q){var K=q,H=this.model.attributes,w=H.valueTrue,M=H.valueFalse;return K&&!(0,_e.isUndefined)(w)&&(K=w),K||(0,_e.isUndefined)(M)||(K=M),K}},{key:"getInputEl",value:function(){for(var q=!this.$input,K=arguments.length,H=new Array(K),w=0;w<K;w++)H[w]=arguments[w];var M=te.prototype.getInputEl.apply(this,H);if(q){var J,Oe,Re=this.model,Ye=this.target,Ve=Re.attributes,Se=(Ve.valueTrue,Ve.valueFalse),je=Re.get("name");Re.get("changeProp")?Oe=J=Ye.get(je):J=!(!(Oe=Ye.get("attributes")[je])&&Oe!==""),(0,_e.isUndefined)(Se)||Oe!==Se||(J=!1),M.checked=J}return M}}]),P}(te),E=_(7610);function O(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}var a=function(u){(0,m.Z)(P,u);var d=O(P);function P(){return(0,X.Z)(this,P),d.apply(this,arguments)}return(0,ee.Z)(P,[{key:"getValueForTarget",value:function(){var q=this.model,K=q.attributes,H=K.value,w=K.unit;return(0,_e.isUndefined)(H)||H===""?q.get("default"):H+w}},{key:"getInputEl",value:function(){if(!this.input){var q=this.ppfx,K=this.model,H=this.getModelValue(),w=new E.Z({contClass:"".concat(q,"field-int"),type:"number",model:K,ppfx:q});this.input=w.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,K.set("value",H,{fromTarget:1}),this.$input.val(H),this.input=w.el}return this.input}}]),P}(te),c=_(1511);function g(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}var S=function(u){(0,m.Z)(P,u);var d=g(P);function P(){var q;(0,X.Z)(this,P);for(var K=arguments.length,H=new Array(K),w=0;w<K;w++)H[w]=arguments[w];return q=d.call.apply(d,[this].concat(H)),(0,ve.Z)((0,j.Z)(q),"templateInput",""),q}return(0,ee.Z)(P,[{key:"getInputEl",value:function(){if(!this.input){var q=this.model,K=this.getModelValue(),H=new c.Z({model:q,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();H.setValue(K,{fromTarget:1}),this.input=H.el}return this.input}}]),P}(te);function se(u){var d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var P,q=(0,T.Z)(u);if(d){var K=(0,T.Z)(this).constructor;P=Reflect.construct(q,arguments,K)}else P=q.apply(this,arguments);return(0,b.Z)(this,P)}}var le=function(u){(0,m.Z)(P,u);var d=se(P);function P(){var q;(0,X.Z)(this,P);for(var K=arguments.length,H=new Array(K),w=0;w<K;w++)H[w]=arguments[w];return q=d.call.apply(d,[this].concat(H)),(0,ve.Z)((0,j.Z)(q),"templateInput",""),q}return(0,ee.Z)(P,[{key:"onChange",value:function(){this.handleClick()}},{key:"handleClick",value:function(){var q=this.model,K=this.em,H=q.get("command");H&&((0,_e.isString)(H)?K.get("Commands").run(H):H(K.get("Editor"),q))}},{key:"renderLabel",value:function(){this.model.get("label")&&te.prototype.renderLabel.apply(this,arguments)}},{key:"getInputEl",value:function(){var q=this.model,K=this.ppfx,H=q.props(),w=H.labelButton,M=H.text,J=H.full,Oe=w||M,Re="".concat(K,"btn");return'<button type="button" class="'.concat(Re,"-prim").concat(J?" ".concat(Re,"--full"):"",'">').concat(Oe,"</button>")}}]),P}(te);function D(u,d){var P=Object.keys(u);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(u);d&&(q=q.filter(function(K){return Object.getOwnPropertyDescriptor(u,K).enumerable})),P.push.apply(P,q)}return P}function I(u){for(var d=1;d<arguments.length;d++){var P=arguments[d]!=null?arguments[d]:{};d%2?D(Object(P),!0).forEach(function(q){(0,ve.Z)(u,q,P[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(P)):D(Object(P)).forEach(function(q){Object.defineProperty(u,q,Object.getOwnPropertyDescriptor(P,q))})}return u}le.prototype.eventCapture=["click button"];var C="trait",l="".concat(C,":"),f="".concat(l,"custom");const h=function(){var u={text:te,number:a,select:B,checkbox:ie,color:S,button:le};return I(I({},fe.Z),{},{TraitsView:he,events:{all:C,custom:f},name:"TraitManager",init:function(){var d=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__initConfig(ne,P);var q=this.config,K=new de.Model;this.model=K;var H=this.em,w=q.pStylePrefix;this.types=I({},u),w&&(q.stylePrefix="".concat(w).concat(q.stylePrefix));var M=(0,_e.debounce)(function(){return d.__upSel()});K.listenTo(H,"component:toggled",M);var J=(0,_e.debounce)(function(){return d.__onUp()});return K.listenTo(H,"trait:update",J),this},__upSel:function(){this.select(this.em.getSelected())},__onUp:function(){this.select(this.getSelected())},select:function(d){var P=d?d.getTraits():[];this.model.set({component:d,traits:P}),this.__trgCustom()},getSelected:function(){return this.model.get("component")||null},getCurrent:function(){return this.model.get("traits")||[]},__trgCustom:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.__ctn=this.__ctn||d.container,this.em.trigger(this.events.custom,{container:this.__ctn})},postRender:function(){this.__appendTo()},getTraitsViewer:function(){return this.view},addType:function(d,P){var q=this.getType("text");this.types[d]=q.extend(P)},getType:function(d){return this.getTypes()[d]},getTypes:function(){return this.types},render:function(){var d=this.view,P=this.getConfig(),q=d&&d.el;return d=new he({el:q,collection:[],editor:P.em,config:P},this.getTypes()),this.view=d,d.el},destroy:function(){this.__destroy()}})}},8202:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ee});var ve=_(2982),_e=_(4942),fe=_(3410),de=_.n(fe),ue=_(9050);function ne(j,m){var b=Object.keys(j);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(j);m&&(T=T.filter(function(V){return Object.getOwnPropertyDescriptor(j,V).enumerable})),b.push.apply(b,T)}return b}function X(j){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?ne(Object(b),!0).forEach(function(T){(0,_e.Z)(j,T,b[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(b)):ne(Object(b)).forEach(function(T){Object.defineProperty(j,T,Object.getOwnPropertyDescriptor(b,T))})}return j}const ee=function(){var j,m,b,T,V={maximumStackLength:500,trackSelection:1},s=function($){return $.avoidStore||$.noUndo},ae=function($){return Object.keys($.changedAttributes())};return{name:"UndoManager",init:function(){var $=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b=X(X({},V),R),j=b.em,this.em=j,b._disable&&(b=X(X({},b),{},{maximumStackLength:0}));var Z=!0;return(m=new(de())(X({track:!0,register:[]},b))).changeUndoType("change",{condition:function(L){var te=L.get("_undo");if(te){var xe=L.get("_undoexc");if((0,ue.isArray)(xe)&&ae(L).some(function(he){return xe.indexOf(he)>=0}))return!1;if((0,ue.isBoolean)(te)||(0,ue.isArray)(te)&&ae(L).some(function(he){return te.indexOf(he)>=0}))return!0}return!1},on:function(L,te,xe){!T&&(T=L.previousAttributes());var he=xe||te||{};if(he.noUndo&&setTimeout(function(){T=null}),!s(he)){var A=L.toJSON({fromUndo:Z}),z={object:L,before:T,after:A};if(T=null,!(0,ue.isEmpty)(A))return z}}}),m.changeUndoType("add",{on:function(L,te){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!s(xe)&&$.isRegistered(te))return{object:te,before:void 0,after:L,options:X(X({},xe),{},{fromUndo:Z})}}}),m.changeUndoType("remove",{on:function(L,te){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!s(xe)&&$.isRegistered(te))return{object:te,before:L,after:void 0,options:X(X({},xe),{},{fromUndo:Z})}}}),m.changeUndoType("reset",{undo:function(L,te){L.reset(te,{fromUndo:Z})},redo:function(L,te,xe){L.reset(xe,{fromUndo:Z})},on:function(L){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!s(te)&&$.isRegistered(L))return{object:L,before:te.previousModels,after:(0,ve.Z)(L.models),options:X(X({},te),{},{fromUndo:Z})}}}),m.on("undo redo",function(){j.trigger("change:canvasOffset"),j.getSelectedAll().map(function(L){return L.trigger("rerender:layer")})}),["undo","redo"].forEach(function(L){return m.on(L,function(){return j.trigger(L)})}),this},postLoad:function(){b.trackSelection&&j&&this.add(j.get("selected"))},getConfig:function(){return b},add:function($){return m.register($),this},remove:function($){return m.unregister($),this},removeAll:function(){return m.unregisterAll(),this},start:function(){return m.startTracking(),this},stop:function(){return m.stopTracking(),this},undo:function(){var $=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!j.isEditing()&&m.undo($),this},undoAll:function(){return m.undoAll(),this},redo:function(){var $=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return!j.isEditing()&&m.redo($),this},redoAll:function(){return m.redoAll(),this},hasUndo:function(){return m.isAvailable("undo")},hasRedo:function(){return m.isAvailable("redo")},isRegistered:function($){return!!this.getInstance().objectRegistry.isRegistered($)},getStack:function(){return m.stack},getStackGroup:function(){var $=[],R=[];return this.getStack().forEach(function(Z){var L=Z.get("magicFusionIndex");R.indexOf(L)<0&&(R.push(L),$.push(Z))}),$},skip:function($){this.stop(),$(),this.start()},getGroupedStack:function(){var $={},R=this.getStack();return R.forEach(function(Z,L){var te=Z.get("magicFusionIndex"),xe=function(he,A){var z=he.attributes,B=z.type,W=z.after,ie=z.before,E=z.object,O=z.options;return{index:A,type:B,after:W,before:ie,object:E,options:O===void 0?{}:O}}(Z,L);$[te]?$[te].push(xe):$[te]=[xe]}),Object.keys($).map(function(Z){var L=$[Z];return{index:L[L.length-1].index,actions:L,labels:(0,ue.unique)(L.reduce(function(te,xe){var he,A=(he=xe.options)===null||he===void 0?void 0:he.action;return A&&te.push(A),te},[]))}})},goToGroup:function($){var R=this;if($){var Z=this.getPointer(),L=$.index-Z;(0,ue.times)(Math.abs(L),function(){R[L<0?"undo":"redo"](!1)})}},getPointer:function(){return this.getStack().pointer},clear:function(){return m.clear(),this},getInstance:function(){return m},destroy:function(){this.clear().removeAll(),this.em={}}}}},5610:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ee});var ve=_(4942),_e=_(5671),fe=_(3144),de=_(9050),ue=_(1163);function ne(j,m){var b=Object.keys(j);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(j);m&&(T=T.filter(function(V){return Object.getOwnPropertyDescriptor(j,V).enumerable})),b.push.apply(b,T)}return b}function X(j){for(var m=1;m<arguments.length;m++){var b=arguments[m]!=null?arguments[m]:{};m%2?ne(Object(b),!0).forEach(function(T){(0,ve.Z)(j,T,b[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(b)):ne(Object(b)).forEach(function(T){Object.defineProperty(j,T,Object.getOwnPropertyDescriptor(b,T))})}return j}var ee=function(){function j(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,_e.Z)(this,j),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},(0,de.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(m),this.delta={x:0,y:0},this}return(0,fe.Z)(j,[{key:"setOptions",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=X(X({},this.opts),m)}},{key:"toggleDrag",value:function(m){var b=this.getDocumentEl(),T=this.getContainerEl(),V=this.getWindowEl(),s=m?"on":"off",ae={on:ue.on,off:ue.off};ae[s](T,"mousemove dragover",this.drag),ae[s](b,"mouseup dragend touchend",this.stop),ae[s](b,"keydown",this.keyHandle),ae[s](V,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var m=this.lastScroll,b=this.delta,T=this.getScrollInfo(),V={x:T.x-m.x,y:T.y-m.y};this.move(b.x+V.x,b.y+V.y),this.lastScrollDiff=V}},{key:"start",value:function(m){var b=this.opts,T=b.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(m),this.guidesStatic=(0,de.result)(b,"guidesStatic")||[],this.guidesTarget=(0,de.result)(b,"guidesTarget")||[],(0,de.isFunction)(T)&&T(m,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(m)}},{key:"drag",value:function(m){var b=this,T=this.opts,V=this.lastScrollDiff,s=this.globScrollDiff,ae=T.onDrag,$=this.startPointer,R=this.getPointerPos(m),Z={x:s.x+V.x,y:s.y+V.y};this.globScrollDiff=Z;var L={x:R.x-$.x+Z.x,y:R.y-$.y+Z.y};this.lastScrollDiff={x:0,y:0};var te=this.lockedAxis;(te=m.shiftKey?!te&&this.detectAxisLock(L.x,L.y):null)==="x"?L.x=$.x:te==="y"&&(L.y=$.y);var xe=function(ie){["x","y"].forEach(function(E){return ie[E]=ie[E]*(0,de.result)(T,"scale")}),b.delta=ie,b.move(ie.x,ie.y),(0,de.isFunction)(ae)&&ae(m,b)},he=X({},L);if(this.currentPointer=R,this.lockedAxis=te,this.lastScroll=this.getScrollInfo(),xe(L),this.guidesTarget.length){var A=this.snapGuides(he),z=A.newDelta,B=A.trgX,W=A.trgY;(B||W)&&xe(z)}m.which===0&&this.stop(m)}},{key:"snapGuides",value:function(m){var b=this,T=m,V=this.trgX,s=this.trgY;return this.guidesTarget.forEach(function(ae){ae.x&&b.trgX||ae.y&&b.trgY||(ae.active=0,b.guidesStatic.forEach(function($){if(!(ae.y&&$.x||ae.x&&$.y)){var R=ae.y&&$.y,Z=R?"y":"x",L=ae[Z],te=$[Z],xe=m[Z],he=R?s:V;if(b.isPointIn(L,te)&&(0,de.isUndefined)(he)){var A=xe-(L-te);b.setGuideLock(ae,A)}}}))}),V=this.trgX,s=this.trgY,["x","y"].forEach(function(ae){var $=ae.toUpperCase(),R=b["trg".concat($)];R&&!b.isPointIn(m[ae],R.lock)&&(b.setGuideLock(R,null),R=null),R&&!(0,de.isUndefined)(R.lock)&&(T[ae]=R.lock)}),{newDelta:T,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(m,b){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},V=T.offset,s=V||this.opts.snapOffset;return m>=b&&m<=b+s||m<=b&&m>=b-s}},{key:"setGuideLock",value:function(m,b){var T=(0,de.isUndefined)(m.x)?"Y":"X",V="trg".concat(T);return b!==null?(m.active=1,m.lock=b,this[V]=m):(delete m.active,delete m.lock,delete this[V]),m}},{key:"stop",value:function(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=this.delta,V=b.cancel,s=V?0:T.x,ae=V?0:T.y;this.toggleDrag(),this.lockedAxis=null,this.move(s,ae,1);var $=this.opts.onEnd;(0,de.isFunction)($)&&$(m,this,{cancelled:V})}},{key:"keyHandle",value:function(m){(0,ue.isEscKey)(m)&&this.stop(m,{cancel:1})}},{key:"move",value:function(m,b,T){var V=this.el,s=this.opts,ae=this.startPosition;if(ae){var $=s.setPosition,R=ae.x+m,Z=ae.y+b;this.position={x:R,y:Z,end:T},(0,de.isFunction)($)&&$(this.position),V&&(V.style.left="".concat(R,"px"),V.style.top="".concat(Z,"px"))}}},{key:"getContainerEl",value:function(){var m=this.opts.container;return m?[m]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(m){var b=m.ownerDocument||m;return b.defaultView||b.parentWindow})}},{key:"getDocumentEl",value:function(m){var b=this.opts.doc;if(m=m||this.el,!this.docs){var T=[document];m&&T.push(m.ownerDocument),b&&T.push(b),this.docs=T}return this.docs}},{key:"getPointerPos",value:function(m){var b=this.opts.getPointerPosition,T=(0,ue.getPointerEvent)(m);return b?b(m):{x:T.clientX,y:T.clientY}}},{key:"getStartPosition",value:function(){var m=this.el,b=this.opts.getPosition,T={x:0,y:0};return(0,de.isFunction)(b)?T=b():m&&(T={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),T}},{key:"getScrollInfo",value:function(){var m=this.opts.doc,b=m&&m.body;return{y:b?b.scrollTop:0,x:b?b.scrollLeft:0}}},{key:"detectAxisLock",value:function(m,b){var T=m,V=b,s=Math.abs(T),ae=Math.abs(V);return V>=s||V<=-s?"x":T>ae||T<-ae?"y":void 0}}]),j}()},2579:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>kt});var ve=typeof document!="undefined"?document:null,_e=typeof window!="undefined"?window:null,fe=Array.prototype,de=fe.filter,ue=fe.indexOf,ne=fe.map,X=fe.push,ee=fe.reverse,j=fe.slice,m=fe.splice,b=/^#[\w-]*$/,T=/^\.[\w-]*$/,V=/<.+>/,s=/^\w+$/;function ae(Ae,We){return We===void 0&&(We=ve),T.test(Ae)?We.getElementsByClassName(Ae.slice(1)):s.test(Ae)?We.getElementsByTagName(Ae):We.querySelectorAll(Ae)}function $(Ae,We){if(We===void 0&&(We=ve),Ae){if(Ae.__cash)return Ae;var et=Ae;if(W(Ae)){if(We.__cash&&(We=We[0]),!(et=b.test(Ae)?We.getElementById(Ae.slice(1)):V.test(Ae)?Ft(Ae):ae(Ae,We)))return}else if(B(Ae))return this.ready(Ae);(et.nodeType||et===_e)&&(et=[et]),this.length=et.length;for(var rt=0,Lt=this.length;rt<Lt;rt++)this[rt]=et[rt]}}function R(Ae,We){return new $(Ae,We)}var Z=R.fn=R.prototype=$.prototype={constructor:R,__cash:!0,length:0,splice:m};Z.get=function(Ae){return Ae===void 0?j.call(this):this[Ae<0?Ae+this.length:Ae]},Z.eq=function(Ae){return R(this.get(Ae))},Z.first=function(){return this.eq(0)},Z.last=function(){return this.eq(-1)},Z.map=function(Ae){return R(ne.call(this,function(We,et){return Ae.call(We,et,We)}))},Z.slice=function(){return R(j.apply(this,arguments))};var L=/(?:^\w|[A-Z]|\b\w)/g,te=/[\s-_]+/g;function xe(Ae){return Ae.replace(L,function(We,et){return We[et?"toUpperCase":"toLowerCase"]()}).replace(te,"")}function he(Ae,We){for(var et=0,rt=Ae.length;et<rt&&We.call(Ae[et],Ae[et],et,Ae)!==!1;et++);}R.camelCase=xe,R.each=he,Z.each=function(Ae){return he(this,function(We,et){return Ae.call(We,et,We)}),this},Z.removeProp=function(Ae){return this.each(function(We,et){delete et[Ae]})},R.extend=Z.extend=function(Ae){Ae===void 0&&(Ae=this);for(var We=arguments,et=We.length,rt=et<2?0:1;rt<et;rt++)for(var Lt in We[rt])Ae[Lt]=We[rt][Lt];return Ae};var A=1;function z(Ae,We){var et=Ae&&(Ae.matches||Ae.webkitMatchesSelector||Ae.mozMatchesSelector||Ae.msMatchesSelector||Ae.oMatchesSelector);return!!et&&et.call(Ae,We)}function B(Ae){return typeof Ae=="function"}function W(Ae){return typeof Ae=="string"}function ie(Ae){return!isNaN(parseFloat(Ae))&&isFinite(Ae)}R.guid=A,R.matches=z,R.isFunction=B,R.isString=W,R.isNumeric=ie;var E=Array.isArray;function O(Ae){return W(Ae)?function(We,et){return z(et,Ae)}:Ae.__cash?function(We,et){return Ae.is(et)}:function(We,et,rt){return et===rt}}R.isArray=E,Z.prop=function(Ae,We){if(Ae){if(W(Ae))return arguments.length<2?this[0]&&this[0][Ae]:this.each(function(rt,Lt){Lt[Ae]=We});for(var et in Ae)this.prop(et,Ae[et]);return this}},Z.filter=function(Ae){if(!Ae)return R();var We=B(Ae)?Ae:O(Ae);return R(de.call(this,function(et,rt){return We.call(et,rt,et,Ae)}))};var a=/\S+/g;function c(Ae){return W(Ae)&&Ae.match(a)||[]}function g(Ae){return Ae.filter(function(We,et,rt){return rt.indexOf(We)===et})}function S(Ae,We,et){if(Ae.nodeType===1){var rt=_e.getComputedStyle(Ae,null);return We?et?rt.getPropertyValue(We):rt[We]:rt}}function se(Ae,We){return parseInt(S(Ae,We),10)||0}Z.hasClass=function(Ae){var We=c(Ae),et=!1;return We.length&&this.each(function(rt,Lt){return!(et=Lt.classList.contains(We[0]))}),et},Z.removeAttr=function(Ae){var We=c(Ae);return We.length?this.each(function(et,rt){he(We,function(Lt){rt.removeAttribute(Lt)})}):this},Z.attr=function(Ae,We){if(Ae){if(W(Ae)){if(arguments.length<2){if(!this[0])return;var et=this[0].getAttribute(Ae);return et===null?void 0:et}return We===null?this.removeAttr(Ae):this.each(function(Lt,Be){Be.setAttribute(Ae,We)})}for(var rt in Ae)this.attr(rt,Ae[rt]);return this}},Z.toggleClass=function(Ae,We){var et=c(Ae),rt=We!==void 0;return et.length?this.each(function(Lt,Be){he(et,function(nt){rt?We?Be.classList.add(nt):Be.classList.remove(nt):Be.classList.toggle(nt)})}):this},Z.addClass=function(Ae){return this.toggleClass(Ae,!0)},Z.removeClass=function(Ae){return arguments.length?this.toggleClass(Ae,!1):this.attr("class","")},R.unique=g,Z.add=function(Ae,We){return R(g(this.get().concat(R(Ae,We).get())))};var le=/^--/;function D(Ae){return le.test(Ae)}var I={},C=ve&&ve.createElement("div"),l=C?C.style:{},f=["webkit","moz","ms","o"];function h(Ae,We){if(We===void 0&&(We=D(Ae)),We)return Ae;if(!I[Ae]){var et=xe(Ae),rt=""+et.charAt(0).toUpperCase()+et.slice(1);he((et+" "+f.join(rt+" ")+rt).split(" "),function(Lt){if(Lt in l)return I[Ae]=Lt,!1})}return I[Ae]}R.prefixedProp=h;var u={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function d(Ae,We,et){return et===void 0&&(et=D(Ae)),et||u[Ae]||!ie(We)?We:We+"px"}Z.css=function(Ae,We){if(W(Ae)){var et=D(Ae);return Ae=h(Ae,et),arguments.length<2?this[0]&&S(this[0],Ae,et):Ae?(We=d(Ae,We,et),this.each(function(Lt,Be){Be.nodeType===1&&(et?Be.style.setProperty(Ae,We):Be.style[Ae]=We)})):this}for(var rt in Ae)this.css(rt,Ae[rt]);return this};var P="__cashData",q=/^data-(.*)/;function K(Ae){return Ae[P]=Ae[P]||{}}function H(Ae,We){var et=K(Ae);if(We){if(!(We in et)){var rt=Ae.dataset?Ae.dataset[We]||Ae.dataset[xe(We)]:R(Ae).attr("data-"+We);if(rt!==void 0){try{rt=JSON.parse(rt)}catch{}et[We]=rt}}return et[We]}return et}function w(Ae,We){return se(Ae,"border"+(We?"Left":"Top")+"Width")+se(Ae,"padding"+(We?"Left":"Top"))+se(Ae,"padding"+(We?"Right":"Bottom"))+se(Ae,"border"+(We?"Right":"Bottom")+"Width")}function M(Ae,We){for(var et=0,rt=We.length;et<rt;et++)if(Ae.indexOf(We[et])<0)return!1;return!0}function J(Ae,We,et){he(Ae[et],function(rt){rt[0];var Lt=rt[1];We.removeEventListener(et,Lt)}),delete Ae[et]}R.hasData=function(Ae){return P in Ae},Z.data=function(Ae,We){var et=this;if(!Ae)return this[0]?(he(this[0].attributes,function(Lt){var Be=Lt.name.match(q);Be&&et.data(Be[1])}),H(this[0])):void 0;if(W(Ae))return We===void 0?this[0]&&H(this[0],Ae):this.each(function(Lt,Be){return function(nt,lt,Rt){K(nt)[lt]=Rt}(Be,Ae,We)});for(var rt in Ae)this.data(rt,Ae[rt]);return this},Z.removeData=function(Ae){return this.each(function(We,et){return function(rt,Lt){Lt===void 0?delete rt[P]:delete K(rt)[Lt]}(et,Ae)})},he(["Width","Height"],function(Ae){Z["inner"+Ae]=function(){if(this[0])return this[0]===_e?_e["inner"+Ae]:this[0]["client"+Ae]}}),he(["width","height"],function(Ae,We){Z[Ae]=function(et){return this[0]?arguments.length?(et=parseInt(et,10),this.each(function(rt,Lt){if(Lt.nodeType===1){var Be=S(Lt,"boxSizing");Lt.style[Ae]=d(Ae,et+(Be==="border-box"?w(Lt,!We):0))}})):this[0]===_e?this[0][xe("outer-"+Ae)]:this[0].getBoundingClientRect()[Ae]-w(this[0],!We):et===void 0?void 0:this}}),he(["Width","Height"],function(Ae,We){Z["outer"+Ae]=function(et){if(this[0])return this[0]===_e?_e["outer"+Ae]:this[0]["offset"+Ae]+(et?se(this[0],"margin"+(We?"Top":"Left"))+se(this[0],"margin"+(We?"Bottom":"Right")):0)}});var Oe="__cashEvents",Re=".";function Ye(Ae){return Ae[Oe]=Ae[Oe]||{}}function Ve(Ae){var We=Ae.split(Re);return[We[0],We.slice(1).sort()]}function Se(Ae,We,et,rt){var Lt=Ye(Ae);if(We){var Be=Lt[We];if(!Be)return;rt&&(rt.guid=rt.guid||A++),Lt[We]=Be.filter(function(nt){var lt=nt[0],Rt=nt[1];if(rt&&Rt.guid!==rt.guid||!M(lt,et))return!0;Ae.removeEventListener(We,Rt)})}else if(et&&et.length)for(We in Lt)Se(Ae,We,et,rt);else for(We in Lt)J(Lt,Ae,We)}Z.off=function(Ae,We){var et=this;return Ae===void 0?this.each(function(rt,Lt){return Se(Lt)}):he(c(Ae),function(rt){var Lt=Ve(rt),Be=Lt[0],nt=Lt[1];et.each(function(lt,Rt){return Se(Rt,Be,nt,We)})}),this},Z.on=function(Ae,We,et,rt){var Lt=this;if(!W(Ae)){for(var Be in Ae)this.on(Be,We,Ae[Be]);return this}return B(We)&&(et=We,We=!1),he(c(Ae),function(nt){var lt=Ve(nt),Rt=lt[0],_t=lt[1];Lt.each(function(mt,fn){var wn=function pn(Rn){if(!Rn.namespace||M(_t,Rn.namespace.split(Re))){var Sn=fn;if(We){for(var Fn=Rn.target;!z(Fn,We);)if(Fn===fn||!(Fn=Fn.parentNode))return;Sn=Fn}Rn.namespace=Rn.namespace||"";var gn=et.call(Sn,Rn,Rn.data);rt&&Se(fn,Rt,_t,pn),gn===!1&&(Rn.preventDefault(),Rn.stopPropagation())}};wn.guid=et.guid=et.guid||A++,function(pn,Rn,Sn,Fn){Fn.guid=Fn.guid||A++;var gn=Ye(pn);gn[Rn]=gn[Rn]||[],gn[Rn].push([Sn,Fn]),pn.addEventListener(Rn,Fn)}(fn,Rt,_t,wn)})}),this},Z.one=function(Ae,We,et){return this.on(Ae,We,et,!0)},Z.ready=function(Ae){var We=function(){return Ae(R)};return ve.readyState!=="loading"?setTimeout(We):ve.addEventListener("DOMContentLoaded",We),this},Z.trigger=function(Ae,We){var et=Ae;if(W(Ae)){var rt=Ve(Ae),Lt=rt[0],Be=rt[1];(et=ve.createEvent("HTMLEvents")).initEvent(Lt,!0,!0),et.namespace=Be.join(Re)}return et.data=We,this.each(function(nt,lt){lt.dispatchEvent(et)})};var je=/select-one/i,x=/select-multiple/i;function re(Ae){var We=Ae.type;return je.test(We)?function(et){return et.selectedIndex<0?null:et.options[et.selectedIndex].value}(Ae):x.test(We)?function(et){var rt=[];return he(et.options,function(Lt){!Lt.selected||Lt.disabled||Lt.parentNode.disabled||rt.push(Lt.value)}),rt}(Ae):Ae.value}var we=/%20/g,De=/file|reset|submit|button|image/i,Ge=/radio|checkbox/i;Z.serialize=function(){var Ae="";return this.each(function(We,et){he(et.elements||[et],function(rt){if(!rt.disabled&&rt.name&&rt.tagName!=="FIELDSET"&&!De.test(rt.type)&&(!Ge.test(rt.type)||rt.checked)){var Lt=re(rt);Lt!==void 0&&he(E(Lt)?Lt:[Lt],function(Be){Ae+=function(nt,lt){return"&"+encodeURIComponent(nt)+"="+encodeURIComponent(lt).replace(we,"+")}(rt.name,Be)})}})}),Ae.substr(1)},Z.val=function(Ae){return Ae===void 0?this[0]&&re(this[0]):this.each(function(We,et){var rt=x.test(et.type),Lt=Ae===null?rt?[]:"":Ae;rt&&E(Lt)?he(et.options,function(Be){Be.selected=Lt.indexOf(Be.value)>=0}):et.value=Lt})},Z.clone=function(){return this.map(function(Ae,We){return We.cloneNode(!0)})},Z.detach=function(){return this.each(function(Ae,We){We.parentNode&&We.parentNode.removeChild(We)})};var Ke,bt=/^\s*<(\w+)[^>]*>/,At=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function Ft(Ae){if(function(){if(!Ke){var rt=ve.createElement("table"),Lt=ve.createElement("tr");Ke={"*":ve.createElement("div"),tr:ve.createElement("tbody"),td:Lt,th:Lt,thead:rt,tbody:rt,tfoot:rt}}}(),!W(Ae))return[];if(At.test(Ae))return[ve.createElement(RegExp.$1)];var We=bt.test(Ae)&&RegExp.$1,et=Ke[We]||Ke["*"];return et.innerHTML=Ae,R(et.childNodes).detach().get()}function rn(Ae,We,et){if(We!==void 0){var rt=W(We);!rt&&We.length?he(We,function(Lt){return rn(Ae,Lt,et)}):he(Ae,rt?function(Lt){Lt.insertAdjacentHTML(et?"afterbegin":"beforeend",We)}:function(Lt,Be){return function(nt,lt,Rt){Rt?nt.insertBefore(lt,nt.childNodes[0]):nt.appendChild(lt)}(Lt,Be?We.cloneNode(!0):We,et)})}}R.parseHTML=Ft,Z.empty=function(){var Ae=this[0];if(Ae)for(;Ae.firstChild;)Ae.removeChild(Ae.firstChild);return this},Z.append=function(){var Ae=this;return he(arguments,function(We){rn(Ae,We)}),this},Z.appendTo=function(Ae){return rn(R(Ae),this),this},Z.html=function(Ae){if(Ae===void 0)return this[0]&&this[0].innerHTML;var We=Ae.nodeType?Ae[0].outerHTML:Ae;return this.each(function(et,rt){rt.innerHTML=We})},Z.insertAfter=function(Ae){var We=this;return R(Ae).each(function(et,rt){var Lt=rt.parentNode;We.each(function(Be,nt){Lt.insertBefore(et?nt.cloneNode(!0):nt,rt.nextSibling)})}),this},Z.after=function(){var Ae=this;return he(ee.apply(arguments),function(We){ee.apply(R(We).slice()).insertAfter(Ae)}),this},Z.insertBefore=function(Ae){var We=this;return R(Ae).each(function(et,rt){var Lt=rt.parentNode;We.each(function(Be,nt){Lt.insertBefore(et?nt.cloneNode(!0):nt,rt)})}),this},Z.before=function(){var Ae=this;return he(arguments,function(We){R(We).insertBefore(Ae)}),this},Z.prepend=function(){var Ae=this;return he(arguments,function(We){rn(Ae,We,!0)}),this},Z.prependTo=function(Ae){return rn(R(Ae),ee.apply(this.slice()),!0),this},Z.remove=function(){return this.detach().off()},Z.replaceWith=function(Ae){var We=this;return this.each(function(et,rt){var Lt=rt.parentNode;if(Lt){var Be=et?R(Ae).clone():R(Ae);if(!Be[0])return We.remove(),!1;Lt.replaceChild(Be[0],rt),R(Be[0]).after(Be.slice(1))}})},Z.replaceAll=function(Ae){return R(Ae).replaceWith(this),this},Z.text=function(Ae){return Ae===void 0?this[0]?this[0].textContent:"":this.each(function(We,et){et.textContent=Ae})};var On=ve&&ve.documentElement;Z.offset=function(){var Ae=this[0];if(Ae){var We=Ae.getBoundingClientRect();return{top:We.top+_e.pageYOffset-On.clientTop,left:We.left+_e.pageXOffset-On.clientLeft}}},Z.offsetParent=function(){return R(this[0]&&this[0].offsetParent)},Z.position=function(){var Ae=this[0];if(Ae)return{left:Ae.offsetLeft,top:Ae.offsetTop}},Z.children=function(Ae){var We=[];return this.each(function(et,rt){X.apply(We,rt.children)}),We=R(g(We)),Ae?We.filter(function(et,rt){return z(rt,Ae)}):We},Z.contents=function(){var Ae=[];return this.each(function(We,et){X.apply(Ae,et.tagName==="IFRAME"?[et.contentDocument]:et.childNodes)}),R(Ae.length&&g(Ae))},Z.find=function(Ae){for(var We=[],et=0,rt=this.length;et<rt;et++){var Lt=ae(Ae,this[et]);Lt.length&&X.apply(We,Lt)}return R(We.length&&g(We))},Z.has=function(Ae){var We=W(Ae)?function(et,rt){return!!ae(Ae,rt).length}:function(et,rt){return rt.contains(Ae)};return this.filter(We)},Z.is=function(Ae){if(!Ae||!this[0])return!1;var We=O(Ae),et=!1;return this.each(function(rt,Lt){return!(et=We(rt,Lt,Ae))}),et},Z.next=function(){return R(this[0]&&this[0].nextElementSibling)},Z.not=function(Ae){if(!Ae||!this[0])return this;var We=O(Ae);return this.filter(function(et,rt){return!We(et,rt,Ae)})},Z.parent=function(){var Ae=[];return this.each(function(We,et){et&&et.parentNode&&Ae.push(et.parentNode)}),R(g(Ae))},Z.index=function(Ae){var We=Ae?R(Ae)[0]:this[0],et=Ae?this:R(We).parent().children();return ue.call(et,We)},Z.closest=function(Ae){return Ae&&this[0]?this.is(Ae)?this.filter(Ae):this.parent().closest(Ae):R()},Z.parents=function(Ae){var We,et=[];return this.each(function(rt,Lt){for(We=Lt;We&&We.parentNode&&We!==ve.body.parentNode;)We=We.parentNode,(!Ae||Ae&&z(We,Ae))&&et.push(We)}),R(g(et))},Z.prev=function(){return R(this[0]&&this[0].previousElementSibling)},Z.siblings=function(){var Ae=this[0];return this.parent().children().filter(function(We,et){return et!==Ae})};const kt=R},9283:(gt,Ze,_)=>{_.d(Ze,{$Q:()=>b,FW:()=>ee,G1:()=>de,L_:()=>ne,Mx:()=>ue,R3:()=>T,SJ:()=>$,dL:()=>m,pn:()=>j,rw:()=>s,sE:()=>X,t3:()=>ae,ut:()=>V});var ve=_(9050),_e="tag",fe="attributes",de="transitionend oTransitionEnd transitionend webkitTransitionEnd",ue=function(R){return R&&R.nodeType===9},ne=function(R){var Z=R&&R.parentNode;Z&&Z.removeChild(R)},X=function(R,Z){return R.querySelectorAll(Z)},ee=function(R){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R&&R.setAttribute&&(0,ve.each)(Z,function(L,te){return R.setAttribute(te,L)})},j=function(R){return R&&!!(R.offsetWidth||R.offsetHeight||R.getClientRects().length)},m=function(R,Z){R.parentNode.replaceChild(Z,R)},b=function(R,Z,L){var te=R.childNodes,xe=te.length,he=(0,ve.isUndefined)(L)?xe:L;(0,ve.isString)(Z)&&(R.insertAdjacentHTML("beforeEnd",Z),Z=R.lastChild,R.removeChild(Z)),he>=xe?R.appendChild(Z):R.insertBefore(Z,te[he])},T=function(R,Z){return b(R,Z)},V=function(R){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=arguments.length>2?arguments[2]:void 0,te=document.createElement(R);return Z&&(0,ve.each)(Z,function(xe,he){return te.setAttribute(he,xe)}),L&&((0,ve.isString)(L)?te.innerHTML=L:te.appendChild(L)),te},s=function(R){return document.createTextNode(R)},ae=function(R,Z){var L,te=R.type;try{L=new window[Z](te,R)}catch{(L=document.createEvent(Z)).initEvent(te,!0,!0)}return L._parentEvent=R,te.indexOf("key")===0&&(L.keyCodeVal=R.keyCode,["keyCode","which"].forEach(function(xe){Object.defineProperty(L,xe,{get:function(){return this.keyCodeVal}})})),L},$=function(R){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],L=Array.isArray(Z)?Z:[Z];L.forEach(function(te){var xe=te[_e]||"div",he=te[fe]||{},A=document.createElement(xe);(0,ve.each)(he,function(z,B){A.setAttribute(B,z)}),R.appendChild(A)})}},9661:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ae});var ve=_(1002);const _e=function($){var R=this.constructor;return this.then(function(Z){return R.resolve($()).then(function(){return Z})},function(Z){return R.resolve($()).then(function(){return R.reject(Z)})})},fe=function($){return new this(function(R,Z){if(!$||$.length===void 0)return Z(new TypeError((0,ve.Z)($)+" "+$+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var L=Array.prototype.slice.call($);if(L.length===0)return R([]);var te=L.length;function xe(A,z){if(z&&((0,ve.Z)(z)==="object"||typeof z=="function")){var B=z.then;if(typeof B=="function")return void B.call(z,function(W){xe(A,W)},function(W){L[A]={status:"rejected",reason:W},--te==0&&R(L)})}L[A]={status:"fulfilled",value:z},--te==0&&R(L)}for(var he=0;he<L.length;he++)xe(he,L[he])})};var de=setTimeout;function ue($){return Boolean($&&$.length!==void 0)}function ne(){}function X($){if(!(this instanceof X))throw new TypeError("Promises must be constructed via new");if(typeof $!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],V($,this)}function ee($,R){for(;$._state===3;)$=$._value;$._state!==0?($._handled=!0,X._immediateFn(function(){var Z=$._state===1?R.onFulfilled:R.onRejected;if(Z!==null){var L;try{L=Z($._value)}catch(te){return void m(R.promise,te)}j(R.promise,L)}else($._state===1?j:m)(R.promise,$._value)})):$._deferreds.push(R)}function j($,R){try{if(R===$)throw new TypeError("A promise cannot be resolved with itself.");if(R&&((0,ve.Z)(R)==="object"||typeof R=="function")){var Z=R.then;if(R instanceof X)return $._state=3,$._value=R,void b($);if(typeof Z=="function")return void V((L=Z,te=R,function(){L.apply(te,arguments)}),$)}$._state=1,$._value=R,b($)}catch(xe){m($,xe)}var L,te}function m($,R){$._state=2,$._value=R,b($)}function b($){$._state===2&&$._deferreds.length===0&&X._immediateFn(function(){$._handled||X._unhandledRejectionFn($._value)});for(var R=0,Z=$._deferreds.length;R<Z;R++)ee($,$._deferreds[R]);$._deferreds=null}function T($,R,Z){this.onFulfilled=typeof $=="function"?$:null,this.onRejected=typeof R=="function"?R:null,this.promise=Z}function V($,R){var Z=!1;try{$(function(L){Z||(Z=!0,j(R,L))},function(L){Z||(Z=!0,m(R,L))})}catch(L){if(Z)return;Z=!0,m(R,L)}}X.prototype.catch=function($){return this.then(null,$)},X.prototype.then=function($,R){var Z=new this.constructor(ne);return ee(this,new T($,R,Z)),Z},X.prototype.finally=_e,X.all=function($){return new X(function(R,Z){if(!ue($))return Z(new TypeError("Promise.all accepts an array"));var L=Array.prototype.slice.call($);if(L.length===0)return R([]);var te=L.length;function xe(A,z){try{if(z&&((0,ve.Z)(z)==="object"||typeof z=="function")){var B=z.then;if(typeof B=="function")return void B.call(z,function(W){xe(A,W)},Z)}L[A]=z,--te==0&&R(L)}catch(W){Z(W)}}for(var he=0;he<L.length;he++)xe(he,L[he])})},X.allSettled=fe,X.resolve=function($){return $&&(0,ve.Z)($)==="object"&&$.constructor===X?$:new X(function(R){R($)})},X.reject=function($){return new X(function(R,Z){Z($)})},X.race=function($){return new X(function(R,Z){if(!ue($))return Z(new TypeError("Promise.race accepts an array"));for(var L=0,te=$.length;L<te;L++)X.resolve($[L]).then(R,Z)})},X._immediateFn=typeof setImmediate=="function"&&function($){setImmediate($)}||function($){de($,0)},X._unhandledRejectionFn=function($){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",$)};const s=X;(0,_(1163).hasWin)()&&(window.Promise=window.Promise||s);const ae=typeof fetch=="function"?fetch.bind():function($,R){return new s(function(Z,L){var te=new XMLHttpRequest;for(var xe in te.open(R.method||"get",$),te.withCredentials=R.credentials=="include",R.headers||{})te.setRequestHeader(xe,R.headers[xe]);te.onload=function(he){return Z({status:te.status,statusText:te.statusText,text:function(){return s.resolve(te.responseText)}})},te.onerror=L,te.upload&&R.onProgress&&(te.upload.onprogress=R.onProgress),R.body?te.send(R.body):te.send()})}},6718:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>he});var ve=_(4942),_e=_(5610),fe=_(2316),de=_.n(fe),ue=_(9050),ne=_(1163);function X(A,z){var B=Object.keys(A);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(A);z&&(W=W.filter(function(ie){return Object.getOwnPropertyDescriptor(A,ie).enumerable})),B.push.apply(B,W)}return B}function ee(A){for(var z=1;z<arguments.length;z++){var B=arguments[z]!=null?arguments[z]:{};z%2?X(Object(B),!0).forEach(function(W){(0,ve.Z)(A,W,B[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(B)):X(Object(B)).forEach(function(W){Object.defineProperty(A,W,Object.getOwnPropertyDescriptor(B,W))})}return A}var j=de().$,m=function(){};const b=de().View.extend({initialize:function(A){this.opt=A||{},(0,ue.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var z=A||{};this.elT=0,this.elL=0,this.borderOffset=z.borderOffset||10;var B=z.container;this.el=typeof B=="string"?document.querySelector(B):B,this.$el=j(this.el),this.containerSel=z.containerSel||"div",this.itemSel=z.itemSel||"div",this.draggable=z.draggable||!0,this.nested=z.nested||0,this.pfx=z.pfx||"",this.ppfx=z.ppfx||"",this.freezeClass=z.freezeClass||this.pfx+"freezed",this.onStart=z.onStart||m,this.onEndMove=z.onEndMove||"",this.customTarget=z.customTarget,this.onEnd=z.onEnd,this.direction=z.direction||"v",this.onMoveClb=z.onMove||"",this.relative=z.relative||0,this.ignoreViewChildren=z.ignoreViewChildren||0,this.ignoreModels=z.ignoreModels||0,this.plh=z.placer||"",this.wmargin=z.wmargin||0,this.offTop=z.offsetTop||0,this.offLeft=z.offsetLeft||0,this.document=z.document||document,this.$document=j(this.document),this.dropContent=null,this.em=z.em||null,this.dragHelper=null,this.canvasRelative=z.canvasRelative||0,this.selectOnEnd=!z.avoidSelectOnEnd,this.scale=z.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return(0,ue.result)(this,scale)||1},getContainerEl:function(A){if(A&&(this.el=A),!this.el){var z=this.opt.container;this.el=typeof z=="string"?document.querySelector(z):z,this.$el=j(this.el)}return this.el},getDocuments:function(A){var z=this.em,B=A?A.ownerDocument:z&&z.get("Canvas").getBody().ownerDocument,W=[document];return B&&W.push(B),W},updateOffset:function(){var A,z=((A=this.em)===null||A===void 0?void 0:A.get("canvasOffset"))||{};this.offTop=z.top,this.offLeft=z.left},setDropContent:function(A){this.dropModel=null,this.dropContent=A},updateTextViewCursorPosition:function(A){var z=this.em;if(z){var B=z.get("Canvas"),W=B.getDocument(),ie=null;if(W.caretRangeFromPoint){var E=(0,ne.getPointerEvent)(A);ie=W.caretRangeFromPoint(E.clientX,E.clientY)}else A.rangeParent&&(ie=W.createRange()).setStart(A.rangeParent,A.rangeOffset);var O=B.getWindow().getSelection();B.getFrameEl().focus(),O.removeAllRanges(),ie&&O.addRange(ie),this.setContentEditable(this.activeTextModel,!0)}},setContentEditable:function(A,z){if(A){var B=A.getEl();B.contentEditable!=z&&(B.contentEditable=z)}},toggleSortCursor:function(A){var z=this.em,B=z&&z.get("Canvas");B&&(A?B.startAutoscroll():B.stopAutoscroll())},setDragHelper:function(A,z){for(var B=z||"",W=A.cloneNode(1),ie=A.getBoundingClientRect(),E=getComputedStyle(A),O="",a=0;a<E.length;a++){var c=E[a];O+="".concat(c,":").concat(E.getPropertyValue(c),";")}document.body.appendChild(W),W.className+=" ".concat(this.pfx,"bdrag"),W.setAttribute("style",O),this.dragHelper=W,W.style.width="".concat(ie.width,"px"),W.style.height="".concat(ie.height,"px"),B&&this.moveDragHelper(B),this.em&&j(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),j(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(A){var z=A.target.ownerDocument;if(this.dragHelper&&z){var B=A.pageY,W=A.pageX,ie=0,E=0,O=(z.defaultView||z.parentWindow).frameElement,a=this.dragHelper.style;if(O){var c=O.getBoundingClientRect();ie=c.top+document.documentElement.scrollTop,E=c.left+document.documentElement.scrollLeft,B=A.clientY,W=A.clientX}a.top=B+ie+"px",a.left=W+E+"px"}},matches:function(A,z,B){return ne.matches.call(A,z)},closest:function(A,z){if(A){for(var B=A.parentNode;B&&B.nodeType===1;){if(this.matches(B,z))return B;B=B.parentNode}return null}},offset:function(A){var z=A.getBoundingClientRect();return{top:z.top+document.body.scrollTop,left:z.left+document.body.scrollLeft}},createPlaceholder:function(){var A=this.pfx,z=document.createElement("div"),B=document.createElement("div");return z.className=A+"placeholder",z.style.display="none",z.style["pointer-events"]="none",B.className=A+"placeholder-int",z.appendChild(B),z},startSort:function(A){var z,B,W,ie,E,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.em,c=this.itemSel,g=this.containerSel,S=this.plh,se=this.getContainerEl(O.container),le=this.getDocuments(A);this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,A&&!this.matches(A,"".concat(c,", ").concat(g))&&(A=this.closest(A,c)),this.sourceEl=A,S||(this.plh=this.createPlaceholder(),se.appendChild(this.plh)),A&&((E=this.getSourceModel(A))&&E.set&&E.set("status","freezed"),this.srcModel=E),(0,ne.on)(se,"mousemove dragover",this.onMove),(0,ne.on)(le,"mouseup dragend touchend",this.endMove),(0,ne.on)(le,"keydown",this.rollback),this.onStart({sorter:this,target:E,parent:E&&((z=(B=E).parent)===null||z===void 0?void 0:z.call(B)),index:E&&((W=(ie=E).index)===null||W===void 0?void 0:W.call(ie))}),a==null||a.clearSelection(),this.toggleSortCursor(1),a==null||a.trigger("sorter:drag:start",A,E)},getTargetModel:function(A){var z=A||this.target;return j(z).data("model")},getSourceModel:function(A){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=B.target,ie=B.avoidChildren,E=ie===void 0?1:ie,O=this.em,a=this.sourceEl,c=A||a,g=this.dropModel,S=this.dropContent,se=function(C){return C&&W&&C.opt&&C.opt.avoidChildren&&z.isTextableActive(C,W)};if(S&&O){if(se(g)&&(g=null),!g){var le=O.get("DomComponents").getComponents(),D={avoidChildren:E,avoidStore:1,avoidUpdateStyle:1},I=le.add(S,ee(ee({},D),{},{temporary:1}));if(g=(g=le.remove(I,D))instanceof Array?g[0]:g,this.dropModel=g,se(g))return this.getSourceModel(c,{target:W,avoidChildren:0})}return g}return c&&j(c).data("model")},selectTargetModel:function(A,z){if(!(A instanceof de().Collection||z&&z===A)){var B=this.targetModel;B&&B!==this.srcModel&&B.set("status",""),A&&A.set&&(A.set("status","selected-parent"),this.targetModel=A)}},onMove:function(A){var z=A,B=this.em,W=this.onMoveClb,ie=this.plh,E=this.customTarget;this.moved=1;var O=ie.style.display;O&&O!=="none"||(ie.style.display="block");var a=this.offset(this.el);this.elT=this.wmargin?Math.abs(a.top):a.top,this.elL=this.wmargin?Math.abs(a.left):a.left;var c=A.pageY-this.elT+this.el.scrollTop,g=A.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&B){var S=B.get("Canvas").getMouseRelativeCanvas(A,{noScroll:1});g=S.x,c=S.y}this.rX=g,this.rY=c,this.eventMove=A;var se=this.getSourceModel(),le=E?E({sorter:this,event:A}):A.target,D=this.dimsFromTarget(le,g,c),I=this.target,C=I&&this.getTargetModel(I);if(this.selectTargetModel(C,se),C||(ie.style.display="none"),I){this.lastDims=D;var l=this.findPosition(D,g,c);this.isTextableActive(se,C)?(this.activeTextModel=C,ie.style.display="none",this.lastPos=l,this.updateTextViewCursorPosition(z)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==l.index&&this.lastPos.method==l.method||(this.movePlaceholder(this.plh,D,l,this.prevTargetDim),this.$plh||(this.$plh=j(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=l)),(0,ue.isFunction)(W)&&W({event:A,target:se,parent:C,index:l.index+(l.method=="after"?1:0)}),B&&B.trigger("sorter:drag",{target:I,targetModel:C,sourceModel:se,dims:D,pos:l,x:g,y:c})}},isTextableActive:function(A,z){var B;return(A==null||(B=A.get)===null||B===void 0?void 0:B.call(A,"textable"))&&(z==null?void 0:z.isInstanceOf("text"))},disableTextable:function(){var A=this.activeTextModel;A&&A.getView().disableEditing(),this.setContentEditable(A,!1)},isInFlow:function(A,z){if(!A)return!1;z=z||document.body;var B=A;return B.offsetHeight,!!this.styleInFlow(B,z)},styleInFlow:function(A,z){if(!(0,ne.isTextNode)(A)){var B=A.style||{},W=j(A),ie=z&&j(z);if(!B.overflow||B.overflow==="visible"){var E=W.css("float");if(!(E&&E!=="none"||ie&&ie.css("display")=="flex"&&ie.css("flex-direction")!=="column")){switch(B.position){case"static":case"relative":case"":break;default:return}switch(A.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(W.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(A,z){var B=this.getTargetModel(A),W=this.getSourceModel(z,{target:B}),ie={valid:!0,src:z=W&&W.view&&W.view.el,srcModel:W,trg:A=B&&B.view&&B.view.el,trgModel:B};if(!z||!A)return ie.valid=!1,ie;var E=W.get("draggable");if((0,ue.isFunction)(E)){var O=E(W,B);ie.dragInfo=O,ie.draggable=O,E=O}else E=E instanceof Array?E.join(", "):E,ie.dragInfo=E,E=(0,ue.isString)(E)?this.matches(A,E):E,ie.draggable=E;var a=B.get("droppable");if((0,ue.isFunction)(a)){var c=a(W,B);ie.droppable=c,ie.dropInfo=c,a=c}else a=(a=a instanceof de().Collection?1:a)instanceof Array?a.join(", "):a,ie.dropInfo=a,a=(0,ue.isString)(a)?this.matches(z,a):a,a=E&&this.isTextableActive(W,B)?1:a,ie.droppable=a;return a&&E||(ie.valid=!1),ie},dimsFromTarget:function(A,z,B){var W=this.em,ie=[];if(!A||(this.matches(A,"".concat(this.itemSel,", ").concat(this.containerSel))||(A=this.closest(A,this.itemSel)),this.draggable instanceof Array&&(A=this.closest(A,this.draggable.join(","))),!A))return ie;if(this.prevTarget&&this.prevTarget!=A&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(A,this.containerSel);var E=this.validTarget(A);if(W&&W.trigger("sorter:drag:validation",E),!E.valid&&this.targetP)return this.dimsFromTarget(this.targetP,z,B);this.prevTarget=A,this.prevTargetDim=this.getDim(A),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(A)}if(this.prevTarget==A&&(ie=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,z,B)||!this.nested&&!this.cacheDims.length){var O=this.targetP;O&&this.validTarget(O).valid&&(ie=this.cacheDimsP,this.target=O)}return this.lastPos=null,ie},getTargetFromEl:function(A){var z,B=A,W=this.targetPrev,ie=this.em,E=this.containerSel,O=this.itemSel;if(this.matches(B,"".concat(O,", ").concat(E))||(B=this.closest(B,O)),this.draggable instanceof Array&&(B=this.closest(B,this.draggable.join(","))),W&&W!=B&&(this.targetPrev=""),!this.targetPrev){z=this.closest(B,E);var a=this.validTarget(B);if(ie&&ie.trigger("sorter:drag:validation",a),!a.valid&&z)return this.getTargetFromEl(z);this.targetPrev=B}return this.nearElBorders(B)&&(z=this.closest(B,E))&&this.validTarget(z).valid&&(B=z),B},nearElBorders:function(A){var z=10,B=A.getBoundingClientRect(),W=A.ownerDocument.body,ie=this.getCurrentPos(),E=ie.x,O=ie.y,a=B.top+W.scrollTop,c=B.left+W.scrollLeft,g=B.width,S=B.height;if(O<a+z||O>a+S-z||E<c+z||E>c+g-z)return 1},getCurrentPos:function(){var A=this.eventMove;return{x:A.pageX||0,y:A.pageY||0}},getDim:function(A){var z,B,W,ie,E=this.em,O=this.canvasRelative,a=E&&E.get("Canvas"),c=a?a.getElementOffsets(A):{};if(O&&E){var g=a.getElementPos(A,{noScroll:1});z=g.top,B=g.left,W=g.height,ie=g.width}else{var S=this.offset(A);z=this.relative?A.offsetTop:S.top-(this.wmargin?-1:1)*this.elT,B=this.relative?A.offsetLeft:S.left-(this.wmargin?-1:1)*this.elL,W=A.offsetHeight,ie=A.offsetWidth}return{top:z,left:B,height:W,width:ie,offsets:c}},getChildrenDim:function(A){var z=this,B=[];if(!A)return B;var W=this.getTargetModel(A);if(W&&W.view&&!this.ignoreViewChildren){var ie=W.getCurrentView?W.getCurrentView():W.view;A=ie.getChildrenContainer()}return(0,ue.each)(A.children,function(E,O){var a=(0,ne.getModel)(E,j),c=a&&a.index?a.index():O;if((0,ne.isTextNode)(E)||z.matches(E,z.itemSel)){var g=z.getDim(E),S=z.direction;S=S=="v"||S!="h"&&z.isInFlow(E,A),g.dir=S,g.el=E,g.indexEl=c,B.push(g)}}),B},nearBorders:function(A,z,B){var W=0,ie=this.borderOffset,E=z||0,O=B||0,a=A.top,c=A.left,g=A.height,S=A.width;return(a+ie>O||O>a+g-ie||c+ie>E||E>c+S-ie)&&(W=1),!!W},findPosition:function(A,z,B){for(var W={index:0,indexEl:0,method:"before"},ie=0,E=0,O=0,a=0,c=0,g=0,S=0,se=0,le=A.length;se<le;se++){var D=S=A[se],I=D.top,C=D.left,l=D.height,f=D.width;if(g=I+l,a=C+f/2,c=I+l/2,!(E&&C>E||O&&c>=O||ie&&C+f<ie))if(W.index=se,W.indexEl=S.indexEl,S.dir){if(B<c){W.method="before";break}W.method="after"}else B<g&&(O=g),z<a?(E=a,W.method="before"):(ie=a,W.method="after")}return W},movePlaceholder:function(A,z,B,W){var ie=0,E=0,O=0,a=0,c=0,g="px",S=5,se=B.method,le=z[B.index];if(A.classList.remove("vertical"),A.classList.add("horizontal"),le){var D=le.top,I=le.left,C=le.height,l=le.width;le.dir?(a=l+g,c="auto",E=se=="before"?D-ie:D+C-ie,O=I):(a="auto",c=C-2*ie+g,E=D+ie,O=se=="before"?I-ie:I+l-ie,A.classList.remove("horizontal"),A.classList.add("vertical"))}else{if(!this.nested)return void(A.style.display="none");if(W){var f=W.offsets||{},h=f.paddingTop||S,u=f.paddingLeft||S;E=W.top+h,O=W.left+u,a=parseInt(W.width)-2*u+g,c="auto"}}A.style.top=E+g,A.style.left=O+g,a&&(A.style.width=a),c&&(A.style.height=c)},parents:function(A){return A?[A].concat(this.parents(A.parent())):[]},sort:function(A,z){var B=A.parents.filter(function(ie){return z.parents.includes(ie)})[0];if(!B)return z.model.index()-A.model.index();var W=A.parents[A.parents.indexOf(B)-1];return z.parents[z.parents.indexOf(B)-1].index()-W.index()},endMove:function(A){var z,B=this,W=this.sourceEl,ie=[],E=this.getDocuments(),O=this.getContainerEl(),a=this.onEndMove,c=this.onEnd,g=this.target,S=this.lastPos;if((0,ne.off)(O,"mousemove dragover",this.onMove),(0,ne.off)(E,"mouseup dragend touchend",this.endMove),(0,ne.off)(E,"keydown",this.rollback),this.plh.style.display="none",W&&(z=this.getSourceModel(),this.selectOnEnd&&z&&z.set&&(z.set("status",""),z.set("status","selected"))),this.moved&&g){var se=this.toMove,le=(0,ue.isArray)(se)?se:se?[se]:[W],D=0;le.length===1?ie.push(this.move(g,le[0],S)):le.map(function(l){return{model:l,parents:B.parents(l)}}).sort(this.sort).forEach(function(l){var f=l.model,h=f.index(),u=f.parent().getEl();ie.push(B.move(g,f,ee(ee({},S),{},{indexEl:S.indexEl-D,index:S.index-D}))),u===g&&h<=S.index&&D++})}this.plh&&(this.plh.style.display="none");var I=this.dragHelper;if(I&&(I.parentNode.removeChild(I),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,(0,ue.isFunction)(a)){var C={target:z,parent:z&&z.parent(),index:z&&z.index()};ie.length?ie.forEach(function(l){return a(l,B,C)}):a(null,this,ee(ee({},C),{},{cancelled:1}))}(0,ue.isFunction)(c)&&c({sorter:this})},move:function(A,z,B){var W,ie,E=this.em,O=this.dropContent,a=(0,ne.getElement)(z),c=[],g=B.method==="after"?B.indexEl+1:B.indexEl,S=this.validTarget(A,a),se=j(A).data("collection"),le=S.trgModel,D=S.srcModel,I=S.draggable,C=le instanceof de().Collection?1:S.droppable;if(se&&C&&I){var l={at:g,action:"move-component"},f=this.isTextableActive(D,le);if(O)W=(0,ue.isFunction)(O)?O():O,l.avoidUpdateStyle=!0,l.action="add-component";else{var h=D.collection.indexOf(D),u=se===D.collection;(!u||!(h===g||h===g-1)||f)&&(W=D.collection.remove(D,{temporary:!0}),u&&g>h&&(l.at=g-1))}W&&(f?(delete l.at,ie=le.getView().insertComponent(W,l)):ie=se.add(W,l)),this.dropContent=null,this.prevTarget=null}else if(E){var d=S.dropInfo||(le==null?void 0:le.get("droppable")),P=S.dragInfo||(D==null?void 0:D.get("draggable"));!se&&c.push("Target collection not found"),!C&&d&&c.push("Target is not droppable, accepts [".concat(d,"]")),!I&&P&&c.push("Component not draggable, acceptable by [".concat(P,"]")),E.logWarning("Invalid target position",{errors:c,model:D,context:"sorter",target:le})}return E==null||E.trigger("sorter:drag:end",{targetCollection:se,modelToDrop:W,warns:c,validResult:S,dst:A,srcEl:a}),ie},rollback:function(A){(0,ne.off)(this.getDocuments(),"keydown",this.rollback),(A.which||A.keyCode)==27&&(this.moved=0,this.endMove())}});var T=_(5671),V=_(3144);function s(A,z){var B=Object.keys(A);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(A);z&&(W=W.filter(function(ie){return Object.getOwnPropertyDescriptor(A,ie).enumerable})),B.push.apply(B,W)}return B}function ae(A){for(var z=1;z<arguments.length;z++){var B=arguments[z]!=null?arguments[z]:{};z%2?s(Object(B),!0).forEach(function(W){(0,ve.Z)(A,W,B[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(B)):s(Object(B)).forEach(function(W){Object.defineProperty(A,W,Object.getOwnPropertyDescriptor(B,W))})}return A}var $={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},R=function(A,z){var B=z||window,W=A.getBoundingClientRect();return{left:W.left+B.pageXOffset,top:W.top+B.pageYOffset,width:W.width,height:W.height}},Z=function(){function A(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,T.Z)(this,A),this.setOptions(z),(0,ue.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return(0,V.Z)(A,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.opts=(0,ue.defaults)(z,$),this.setup()}},{key:"setup",value:function(){var z=this.opts,B=z.prefix||"",W=z.appendTo||document.body,ie=this.container;for(ie||((ie=document.createElement("div")).className="".concat(B,"resizer-c"),W.appendChild(ie),this.container=ie);ie.firstChild;)ie.removeChild(ie.firstChild);var E={};for(var O in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(c){return E[c]=z[c]?function(g,S){var se=S.prefix||"",le=document.createElement("i");return le.className=se+"resizer-h "+se+"resizer-h-"+g,le.setAttribute("data-"+se+"handler",g),le}(c,z):""}),E){var a=E[O];a&&ie.appendChild(a)}this.handlers=E,this.mousePosFetcher=z.mousePosFetcher,this.updateTarget=z.updateTarget,this.posFetcher=z.posFetcher,this.onStart=z.onStart,this.onMove=z.onMove,this.onEnd=z.onEnd,this.onUpdateContainer=z.onUpdateContainer}},{key:"toggleFrames",value:function(z){if(this.opts.silentFrames){var B=document.querySelectorAll("iframe");(0,ue.each)(B,function(W){return W.style.pointerEvents=z?"none":""})}}},{key:"isHandler",value:function(z){var B=this.handlers;for(var W in B)if(B[W]===z)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=this.posFetcher||"";return W?W(z,B):R(z)}},{key:"focus",value:function(z){z&&z===this.el||(this.el=z,this.updateContainer({forceShow:1}),(0,ne.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&((0,ne.off)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(z){if(z.button===0){z.preventDefault(),z.stopPropagation();var B=this.el,W=this.getParentEl(),ie=this.opts||{},E=this.mousePosFetcher,O="data-"+ie.prefix+"handler",a=this.getElementPos(B,{target:"el"}),c=this.getElementPos(W);this.handlerAttr=z.target.getAttribute(O),this.clickedHandler=z.target,this.startDim={t:a.top,l:a.left,w:a.width,h:a.height},this.rectDim={t:a.top,l:a.left,w:a.width,h:a.height},this.startPos=E?E(z):{x:z.clientX,y:z.clientY},this.parentDim={t:c.top,l:c.left,w:c.width,h:c.height};var g=this.getDocumentEl();this.docs=g,(0,ne.on)(g,"pointermove",this.move),(0,ne.on)(g,"keydown",this.handleKeyDown),(0,ne.on)(g,"pointerup",this.stop),(0,ue.isFunction)(this.onStart)&&this.onStart(z,{docs:g,config:ie,el:B,resizer:this}),this.toggleFrames(1),this.move(z)}}},{key:"move",value:function(z){var B=this.onMove,W=this.mousePosFetcher,ie=W?W(z):{x:z.clientX,y:z.clientY};this.currentPos=ie,this.delta={x:ie.x-this.startPos.x,y:ie.y-this.startPos.y},this.keys={shift:z.shiftKey,ctrl:z.ctrlKey,alt:z.altKey},this.rectDim=this.calc(this),this.updateRect(0),B&&B(z)}},{key:"stop",value:function(z){var B=this.el,W=this.opts,ie=this.docs||this.getDocumentEl();(0,ne.off)(ie,"pointermove",this.move),(0,ne.off)(ie,"keydown",this.handleKeyDown),(0,ne.off)(ie,"pointerup",this.stop),this.updateRect(1),this.toggleFrames(),(0,ue.isFunction)(this.onEnd)&&this.onEnd(z,{docs:ie,config:W,el:B,resizer:this}),delete this.docs}},{key:"updateRect",value:function(z){var B=this.el,W=this.opts,ie=this.rectDim,E=this.updateTarget,O=this.getSelectedHandler(),a=W.unitHeight,c=W.unitWidth,g=W.keyWidth,S=W.keyHeight;if((0,ue.isFunction)(E))E(B,ie,{store:z,selectedHandler:O,resizer:this,config:W});else{var se=B.style;se[g]=ie.w+c,se[S]=ie.h+a}this.updateContainer()}},{key:"updateContainer",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=this.opts,W=this.container,ie=this.el,E=W.style;!B.avoidContainerUpdate&&ie&&z.forceShow&&(E.display="block"),this.onUpdateContainer({el:W,resizer:this,opts:ae(ae({},B),z)})}},{key:"getSelectedHandler",value:function(){var z=this.handlers;if(this.selectedHandler){for(var B in z)if(z[B]===this.selectedHandler)return B}}},{key:"handleKeyDown",value:function(z){z.keyCode===27&&(this.rectDim=this.startDim,this.stop(z))}},{key:"handleMouseDown",value:function(z){var B=z.target;this.isHandler(B)?(this.selectedHandler=B,this.start(z)):B!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(z){var B,W=this.opts||{},ie=W.step,E=this.startDim,O=W.minDim,a=W.maxDim,c=z.delta.x,g=z.delta.y,S=this.parentDim.w,se=this.parentDim.h,le=this.opts.unitWidth,D=this.opts.unitHeight,I=le==="%"?E.w/100*S:E.w,C=D==="%"?E.h/100*se:E.h,l={t:0,l:0,w:I,h:C};if(z){var f=z.handlerAttr;~f.indexOf("r")&&(B=le==="%"?(0,ne.normalizeFloat)((I+c*ie)/S*100,.01):(0,ne.normalizeFloat)(I+c*ie,ie),B=Math.max(O,B),a&&(B=Math.min(a,B)),l.w=B),~f.indexOf("b")&&(B=D==="%"?(0,ne.normalizeFloat)((C+g*ie)/se*100,.01):(0,ne.normalizeFloat)(C+g*ie,ie),B=Math.max(O,B),a&&(B=Math.min(a,B)),l.h=B),~f.indexOf("l")&&(B=le==="%"?(0,ne.normalizeFloat)((I-c*ie)/S*100,.01):(0,ne.normalizeFloat)(I-c*ie,ie),B=Math.max(O,B),a&&(B=Math.min(a,B)),l.w=B),~f.indexOf("t")&&(B=D==="%"?(0,ne.normalizeFloat)((C-g*ie)/se*100,.01):(0,ne.normalizeFloat)(C-g*ie,ie),B=Math.max(O,B),a&&(B=Math.min(a,B)),l.h=B);var h=W.ratioDefault?!z.keys.shift:z.keys.shift;if(f.indexOf("c")<0&&h){var u=E.w/E.h;l.w/l.h>u?l.h=Math.round(l.w/u):l.w=Math.round(l.h*u)}return~f.indexOf("l")&&(l.l=E.w-l.w),~f.indexOf("t")&&(l.t=E.h-l.h),l}}}]),A}();const L={init:function(A){return new Z(A)}};function te(A,z){var B=Object.keys(A);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(A);z&&(W=W.filter(function(ie){return Object.getOwnPropertyDescriptor(A,ie).enumerable})),B.push.apply(B,W)}return B}function xe(A){for(var z=1;z<arguments.length;z++){var B=arguments[z]!=null?arguments[z]:{};z%2?te(Object(B),!0).forEach(function(W){(0,ve.Z)(A,W,B[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(B)):te(Object(B)).forEach(function(W){Object.defineProperty(A,W,Object.getOwnPropertyDescriptor(B,W))})}return A}const he=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:b,Resizer:L,Dragger:_e.Z,helpers:xe({},ne)}}},7116:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ne});var ve,_e=_(2316),fe=_.n(_e),de=_(9050),ue=(ve=function(X,ee){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,m){j.__proto__=m}||function(j,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(j[b]=m[b])},ve(X,ee)},function(X,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function j(){this.constructor=X}ve(X,ee),X.prototype=ee===null?Object.create(ee):(j.prototype=ee.prototype,new j)});const ne=function(X){function ee(j,m,b){return X.call(this,m,{module:j,modelConstructor:b})||this}return ue(ee,X),ee.prototype.add=function(j,m){var b,T=this,V=(0,de.isArray)(j)?j:(0,de.isUndefined)(j)?void 0:[j];return V=(b=V==null?void 0:V.map(function(s){return s instanceof T.newModel?s:new T.newModel(T.module,s)}))!==null&&b!==void 0?b:[void 0],X.prototype.add.call(this,(0,de.isArray)(j)?V:V[0],m)},ee.prototype.preinitialize=function(j,m){this.newModel=m.modelConstructor,this.module=m.module},ee}(fe().Collection)},7904:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ue});var ve,_e=_(2316),fe=_.n(_e),de=(ve=function(ne,X){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,j){ee.__proto__=j}||function(ee,j){for(var m in j)Object.prototype.hasOwnProperty.call(j,m)&&(ee[m]=j[m])},ve(ne,X)},function(ne,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function ee(){this.constructor=ne}ve(ne,X),ne.prototype=X===null?Object.create(X):(ee.prototype=X.prototype,new ee)});const ue=function(ne){function X(ee,j,m){var b=ne.call(this,j,m)||this;return b._module=ee,b}return de(X,ne),Object.defineProperty(X.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),X}(fe().Model)},6434:(gt,Ze,_)=>{_.d(Ze,{O:()=>j,Z:()=>ee});var ve,_e=_(9050),fe=_(1163),de=(ve=function(m,b){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,V){T.__proto__=V}||function(T,V){for(var s in V)Object.prototype.hasOwnProperty.call(V,s)&&(T[s]=V[s])},ve(m,b)},function(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function T(){this.constructor=m}ve(m,b),m.prototype=b===null?Object.create(b):(T.prototype=b.prototype,new T)}),ue=function(){return ue=Object.assign||function(m){for(var b,T=1,V=arguments.length;T<V;T++)for(var s in b=arguments[T])Object.prototype.hasOwnProperty.call(b,s)&&(m[s]=b[s]);return m},ue.apply(this,arguments)},ne=function(m,b,T){if(T||arguments.length===2)for(var V,s=0,ae=b.length;s<ae;s++)!V&&s in b||(V||(V=Array.prototype.slice.call(b,0,s)),V[s]=b[s]);return m.concat(V||Array.prototype.slice.call(b))},X=function(){function m(b,T,V){this.cls=[],this.isPrivate=!1,this._em=b,this._name=T;var s=this.name.charAt(0).toLowerCase()+this.name.slice(1),ae=(0,_e.isUndefined)(b.config[s])?b.config[this.name]:b.config[s],$=ae===!0?{}:ae||{};$.pStylePrefix=b.config.pStylePrefix||"",(0,_e.isUndefined)(ae)||ae||($._disable=1),$.em=b,this._config=(0,fe.deepMerge)(V||{},$)}return Object.defineProperty(m.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),m.prototype.init=function(b){},m.prototype.postLoad=function(b){},Object.defineProperty(m.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),m.prototype.getConfig=function(b){return b?this.config[b]:this.config},m.prototype.__logWarn=function(b,T){T===void 0&&(T={}),this.em.logWarning("[".concat(this.name,"]: ").concat(b),T)},m.prototype.__appendTo=function(){var b=this.getConfig().appendTo;if(b){var T=(0,_e.isElement)(b)?b:document.querySelector(b);if(!T)return this.__logWarn('"appendTo" element not found');T.appendChild(this.render())}},m}();const ee=X;var j=function(m){function b(T,V,s,ae){var $=m.call(this,T,V)||this;return $.cls=[],$.private=!1,$.all=s,$.events=ae,$.__initListen(),$}return de(b,m),b.prototype.postLoad=function(T){},b.prototype.render=function(){},b.prototype.getProjectData=function(T){var V={},s=this.storageKey;return s&&(V[s]=T||this.getAll()),V},b.prototype.loadProjectData=function(T,V){T===void 0&&(T={}),V===void 0&&(V={});var s=V.all,ae=V.onResult,$=V.reset,R=this.storageKey,Z={action:"load"},L=s||this.all,te=T[R];if(typeof te=="string")try{te=JSON.parse(te)}catch{this.__logWarn("Data parsing failed",{input:te})}return $&&te&&L.reset(void 0,Z),ae?te&&ae(te,Z):te&&(0,fe.isDef)(te.length)&&L.reset(te,Z),te},b.prototype.clear=function(T){T===void 0&&(T={});var V=this.all;return V&&V.reset(void 0,T),this},b.prototype.getAll=function(){return ne([],this.all.models,!0)},b.prototype.getAllMap=function(){return this.getAll().reduce(function(T,V){return T[V.get(V.idAttribute)]=V,T},{})},b.prototype.__initListen=function(T){T===void 0&&(T={});var V=this,s=V.all,ae=V.em,$=V.events;s&&ae&&s.on("add",function(R,Z,L){return ae.trigger($.add,R,L)}).on("remove",function(R,Z,L){return ae.trigger($.remove,R,L)}).on("change",function(R,Z){return ae.trigger($.update,R,R.changedAttributes(),Z)}).on("all",this.__catchAllEvent,this),this.cls=[s].concat(T.collections||[]),(T.propagate||[]).forEach(function(R){var Z=R.entity,L=R.event;Z.on("all",function(te,xe,he,A){var z=ue({event:te},A||he);[ae,s].map(function(B){return B.trigger(L,xe,z)})})})},b.prototype.__remove=function(T,V){var s=this;V===void 0&&(V={});var ae=this.em,$=isString(T)?this.get(T):T,R=function(){return $&&s.all.remove($,V),$};return!V.silent&&(ae==null||ae.trigger(this.events.removeBefore,$,R,V)),!V.abort&&R()},b.prototype.__catchAllEvent=function(T,V,s,ae){var $=this.em,R=this.events,Z=ae||s;$&&R.all&&$.trigger(R.all,{event:T,model:V,options:Z}),this.__onAllEvent()},b.prototype.__appendTo=function(){var T=this.config.appendTo;if(T){var V=(0,_e.isElement)(T)?T:document.querySelector(T);if(!V)return this.__logWarn('"appendTo" element not found');V.appendChild(this.render())}},b.prototype.__onAllEvent=function(){},b.prototype._createId=function(T){T===void 0&&(T=16);var V,s=this.getAll().length+T,ae=this.getAllMap();do V=(0,fe.createId)(s);while(ae[V]);return V},b.prototype.__listenAdd=function(T,V){var s=this;T.on("add",function(ae,$,R){return s.em.trigger(V,ae,R)})},b.prototype.__listenRemove=function(T,V){var s=this;T.on("remove",function(ae,$,R){return s.em.trigger(V,ae,R)})},b.prototype.__listenUpdate=function(T,V){var s=this;T.on("change",function(ae,$){return s.em.trigger(V,ae,ae.changedAttributes(),$)})},b.prototype.__destroy=function(){var T;this.cls.forEach(function(V){V.stopListening(),V.reset()}),(T=this.view)===null||T===void 0||T.remove(),this.view=void 0},b}(X)},3059:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ue});var ve,_e=_(2316),fe=_.n(_e),de=(ve=function(ne,X){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,j){ee.__proto__=j}||function(ee,j){for(var m in j)Object.prototype.hasOwnProperty.call(j,m)&&(ee[m]=j[m])},ve(ne,X)},function(ne,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function ee(){this.constructor=ne}ve(ne,X),ne.prototype=X===null?Object.create(X):(ee.prototype=X.prototype,new ee)});const ue=function(ne){function X(){return ne!==null&&ne.apply(this,arguments)||this}return de(X,ne),Object.defineProperty(X.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"module",{get:function(){var ee,j;return(j=(ee=this.model)===null||ee===void 0?void 0:ee.module)!==null&&j!==void 0?j:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),X.prototype.preinitialize=function(ee){this.className=""},X}(fe().View)},7287:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>q});var ve=_(9050),_e=_(6434),fe=_(1163);const de={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]};var ue,ne=_(7904),X=_(7948),ee=_(2004),j=_(3560),m=(ue=function(K,H){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,M){w.__proto__=M}||function(w,M){for(var J in M)Object.prototype.hasOwnProperty.call(M,J)&&(w[J]=M[J])},ue(K,H)},function(K,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function w(){this.constructor=K}ue(K,H),K.prototype=H===null?Object.create(H):(w.prototype=H.prototype,new w)}),b=function(K){function H(w){var M=this,J=w.em,Oe=w.config,Re=Oe.scripts,Ye=Oe.styles;return(M=K.call(this,w,{scripts:Re,styles:Ye})||this).set("frames",new j.Z(w)),M.listenTo(M,"change:zoom",M.onZoomChange),M.listenTo(J,"change:device ".concat(ee.evUpdate),M.updateDevice),M.listenTo(J,X.evPageSelect,M._pageUpdated),M}return m(H,K),H.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(H.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),H.prototype.init=function(){var w=this.em.get("PageManager").getMain();this.set("frames",w.getFrames()),this.updateDevice({frame:w.getMainFrame()})},H.prototype._pageUpdated=function(w,M){var J=this.em;J.setSelected(),J.get("readyCanvas")&&J.stopDefault(),M==null||M.getFrames().map(function(Oe){return Oe.disable()}),this.set("frames",w.getFrames()),this.updateDevice({frame:w.getMainFrame()})},H.prototype.updateDevice=function(w){w===void 0&&(w={});var M=this.em,J=M.getDeviceModel(),Oe=w.frame||M.getCurrentFrameModel();if(Oe&&J){var Re=J.attributes,Ye=Re.width,Ve=Re.height;Oe.set({width:Ye,height:Ve},{noUndo:1})}},H.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},H}(ne.Z);const T=b;var V=_(6840),s=_(3059),ae=_(9283),$=_(2316),R=_.n($),Z=function(){var K=function(H,w){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,J){M.__proto__=J}||function(M,J){for(var Oe in J)Object.prototype.hasOwnProperty.call(J,Oe)&&(M[Oe]=J[Oe])},K(H,w)};return function(H,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=H}K(H,w),H.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}();const L=function(K){function H(w,M){w===void 0&&(w={}),M===void 0&&(M=!1);var J=K.call(this,w)||this;return J.itemsView="",J.itemType="type",J.reuseView=!1,J.viewCollection=[],M&&J.listenTo(J.collection,"add",J.addTo),J}return Z(H,K),H.prototype.addTo=function(w){this.add(w)},H.prototype.itemViewNotFound=function(w){},H.prototype.add=function(w,M){var J,Oe=this,Re=Oe.reuseView,Ye=Oe.viewCollection,Ve=(Oe.itemsView,M||null),Se=w.get(this.itemType);J=w.view&&Re?w.view:this.renderView(w,Se),Ye.push(J);var je=J.render().el;Ve?Ve.appendChild(je):this.$el.append(je)},H.prototype.render=function(){var w=this,M=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(J){return w.add(J,M)}),this.$el.append(M),this.onRender(),this},H.prototype.onRender=function(){},H.prototype.onRemoveBefore=function(w,M){},H.prototype.onRemove=function(w,M){},H.prototype.remove=function(w){w===void 0&&(w={});var M=this.viewCollection;return this.onRemoveBefore(M,w),this.clearItems(),R().View.prototype.remove.apply(this,w),this.onRemove(M,w),this},H.prototype.clearItems=function(){this.viewCollection},H}(s.Z);var te=_(4868),xe=_(4942),he=_(5671),A=_(3144);function z(K,H){var w=Object.keys(K);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(K);H&&(M=M.filter(function(J){return Object.getOwnPropertyDescriptor(K,J).enumerable})),w.push.apply(w,M)}return w}var B=function(){function K(H,w){var M=this;(0,he.Z)(this,K),this.em=H;var J=w||H.get("Canvas").getFrames().map(function(Re){return Re.getComponent().getEl()}),Oe=Array.isArray(J)?J:[J];return this.el=J,this.counter=0,(0,ve.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),Oe.forEach(function(Re){return M.toggleEffects(Re,1)}),this}return(0,A.Z)(K,[{key:"toggleEffects",value:function(H,w){var M={on:fe.on,off:fe.off},J=w?"on":"off";M[J](H,"dragenter",this.handleDragEnter),M[J](H,"dragover",this.handleDragOver),M[J](H,"drop",this.handleDrop),M[J](H,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(H){var w=H?fe.on:fe.off,M=this.el.ownerDocument,J=M.defaultView.frameElement;this.sortOpts=H?{onStart:function(Oe){var Re=Oe.sorter;(0,fe.on)(J,"pointermove",Re.onMove)},onEnd:function(Oe){var Re=Oe.sorter;(0,fe.off)(J,"pointermove",Re.onMove)},customTarget:function(Oe){var Re=Oe.event;return M.elementFromPoint(Re.clientX,Re.clientY)}}:null,w(J,"pointerenter",this.handleDragEnter),w(J,"pointermove",this.handleDragOver),w(document,"pointerup",this.handleDrop),w(J,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(H){this.over?this.endDrop(H):this.__customTglEff(!1)}},{key:"endDrop",value:function(H,w){var M=this.em,J=this.dragStop;this.counter=0,J&&J(H),this.__customTglEff(!1),M.trigger("canvas:dragend",w)}},{key:"handleDragLeave",value:function(H){this.updateCounter(-1,H)}},{key:"updateCounter",value:function(H,w){this.counter+=H,this.counter===0&&this.endDrop(1,w)}},{key:"handleDragEnter",value:function(H){var w=this,M=this.em,J=H.dataTransfer;if(this.updateCounter(1,H),!this.over){this.over=1;var Oe,Re,Ye=M.get("Utils"),Ve=M.get("Canvas"),Se=M.get("dragContent")||"<br>";if(M.stopDefault(),M.inAbsoluteMode()){var je=M.get("DomComponents").getWrapper(),x=je.append({})[0],re=M.get("Commands").run("core:component-drag",{event:H,guidesInfo:1,center:1,target:x,onEnd:function(De,Ge,Ke){var bt;if(!Ke.cancelled){bt=je.append(Se)[0];var At=Ve.getOffset(),Ft=x.getStyle(),rn=Ft.top,On=Ft.left,kt=Ft.position;bt.addStyle({left:parseFloat(On)-At.left+"px",top:parseFloat(rn)-At.top+"px",position:kt})}w.handleDragEnd(bt,J),x.remove()}});Oe=function(De){return re.stop(H,{cancel:De})},Re=function(De){return Se=De}}else{var we=new Ye.Sorter(function(De){for(var Ge=1;Ge<arguments.length;Ge++){var Ke=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?z(Object(Ke),!0).forEach(function(bt){(0,xe.Z)(De,bt,Ke[bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(Ke)):z(Object(Ke)).forEach(function(bt){Object.defineProperty(De,bt,Object.getOwnPropertyDescriptor(Ke,bt))})}return De}({em:M,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:Ve.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(De){return w.handleDragEnd(De,J)},document:this.el.ownerDocument},this.sortOpts||{}));we.setDropContent(Se),we.startSort(),this.sorter=we,Oe=function(De){De&&(we.moved=0),we.endMove()},Re=function(De){return we.setDropContent(De)}}this.dragStop=Oe,this.dragContent=Re,M.trigger("canvas:dragenter",J,Se)}}},{key:"handleDragEnd",value:function(H,w){var M=this.em;this.over=0,H&&(M.set("dragResult",H),M.trigger("canvas:drop",w,H)),M.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(H){H.preventDefault(),this.em.trigger("canvas:dragover",H)}},{key:"handleDrop",value:function(H){H.preventDefault();var w=this.dragContent,M=H.dataTransfer,J=this.getContentByData(M).content;H.target.style.border="",J&&w&&w(J),this.endDrop(!J,H)}},{key:"getContentByData",value:function(H){var w=this.em,M=H&&H.types,J=H&&H.files||[],Oe=w.get("dragContent"),Re=H&&H.getData("text");if(J.length){Re=[];for(var Ye=0;Ye<J.length;Ye++){var Ve=J[Ye],Se=Ve.type.split("/")[0];Se=="image"&&Re.push({type:Se,file:Ve,attributes:{alt:Ve.name}})}}else if(Oe)Re=Oe;else if((0,ve.indexOf)(M,"text/html")>=0)Re=H&&H.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,ve.indexOf)(M,"text/uri-list")>=0)Re={type:"link",attributes:{href:Re},content:Re};else if((0,ve.indexOf)(M,"text/json")>=0){var je=H&&H.getData("text/json");je&&(Re=JSON.parse(je))}else M.length===1&&M[0]==="text/plain"&&(Re="<div>".concat(Re,"</div>"));var x={content:Re};return w.trigger("canvas:dragdata",H,x),x}}]),K}(),W=function(){var K=function(H,w){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,J){M.__proto__=J}||function(M,J){for(var Oe in J)Object.prototype.hasOwnProperty.call(J,Oe)&&(M[Oe]=J[Oe])},K(H,w)};return function(H,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=H}K(H,w),H.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}(),ie=function(){return ie=Object.assign||function(K){for(var H,w=1,M=arguments.length;w<M;w++)for(var J in H=arguments[w])Object.prototype.hasOwnProperty.call(H,J)&&(K[J]=H[J]);return K},ie.apply(this,arguments)},E=function(K,H,w){if(w||arguments.length===2)for(var M,J=0,Oe=H.length;J<Oe;J++)!M&&J in H||(M||(M=Array.prototype.slice.call(H,0,J)),M[J]=H[J]);return K.concat(M||Array.prototype.slice.call(H))},O=function(K){function H(w,M){var J=K.call(this,{model:w})||this;J.dragging=!1,J.lastMaxHeight=0,J.tools={},(0,ve.bindAll)(J,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var Oe=J,Re=Oe.el;Oe.em,J.module._config=ie(ie({},J.config||{}),{frameView:J}),J.frameWrapView=M,J.showGlobalTools=(0,ve.debounce)(J.showGlobalTools.bind(J),50);var Ye=J.getCanvasModel();return J.listenTo(w,"change:head",J.updateHead),J.listenTo(Ye,"change:styles",J.renderStyles),w.view=J,(0,fe.setViewEl)(Re,J),J}return W(H,K),Object.defineProperty(H.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),H.prototype.updateHead=function(){var w=this.model,M=this.getHead(),J=[],Oe=[],Re=w.head,Ye=w.previous("head"),Ve=function(je){return je===void 0&&(je={}),Object.keys(je).sort().map(function(x){return"[".concat(x,'="').concat(je[x],'"]')}).join("")},Se=function(je,x,re){je.forEach(function(we){var De=we.tag,Ge=we.attributes;!x.some(function(Ke){return Ke.tag===De&&Ve(Ke.attributes)===Ve(Ge)})&&re.push(we)})};Se(Re,Ye,Oe),Se(Ye,Re,J),J.forEach(function(je){var x,re=M.querySelector("".concat(je.tag).concat(Ve(je.attributes)));(x=re==null?void 0:re.parentNode)===null||x===void 0||x.removeChild(re)}),(0,ae.SJ)(M,Oe)},H.prototype.getEl=function(){return this.el},H.prototype.getCanvasModel=function(){return this.em.get("Canvas").getModel()},H.prototype.getWindow=function(){return this.getEl().contentWindow},H.prototype.getDoc=function(){return this.getEl().contentDocument},H.prototype.getHead=function(){return this.getDoc().querySelector("head")},H.prototype.getBody=function(){return this.getDoc().querySelector("body")},H.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},H.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,ae.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},H.prototype.getToolsEl=function(){var w;return(w=this.frameWrapView)===null||w===void 0?void 0:w.elTools},H.prototype.getGlobalToolsEl=function(){return this.em.get("Canvas").getGlobalToolsEl()},H.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},H.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},H.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},H.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},H.prototype.getOffsetRect=function(){var w=this.el,M=this.getBody(),J=M.scrollTop,Oe=M.scrollLeft,Re=w.offsetHeight,Ye=w.offsetWidth;return{top:w.offsetTop,left:w.offsetLeft,height:Re,width:Ye,scrollTop:J,scrollLeft:Oe,scrollBottom:J+Re,scrollRight:Oe+Ye}},H.prototype._getTool=function(w){var M=this.tools,J=this.getToolsEl();return M[w]||(M[w]=J.querySelector(w)),M[w]},H.prototype.remove=function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];var J=this.wrapper;return this._toggleEffects(!1),this.tools={},J&&J.remove(),s.Z.prototype.remove.apply(this,w),this},H.prototype.startAutoscroll=function(){var w=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){w._toggleAutoscrollFx(!0),requestAnimationFrame(w.autoscroll)},0)},H.prototype.autoscroll=function(){if(this.dragging){var w=this.lastClientY,M=this.em.get("Canvas"),J=this.getWindow(),Oe=J.pageYOffset,Re=w||0,Ye=M.getConfig().autoscrollLimit,Ve=this.getRect().height-Ye,Se=Oe;Re<Ye&&(Se-=Ye-Re),Re>Ve&&(Se+=Re-Ve),!(0,ve.isUndefined)(w)&&Se!==Oe&&Se>0&&Se<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),J.scrollTo(0,Se)),requestAnimationFrame(this.autoscroll)}},H.prototype.updateClientY=function(w){w.preventDefault(),this.lastClientY=(0,fe.getPointerEvent)(w).clientY*this.em.getZoomDecimal()},H.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},H.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},H.prototype._toggleAutoscrollFx=function(w){this.dragging=w;var M=this.getWindow(),J=w?"on":"off",Oe={on:fe.on,off:fe.off};Oe[J](M,"mousemove dragover",this.updateClientY),Oe[J](M,"mouseup",this.stopAutoscroll)},H.prototype.render=function(){var w=this.$el,M=this.ppfx;return w.attr({class:"".concat(M,"frame")}),this.renderScripts(),this},H.prototype.renderScripts=function(){var w=this,M=this,J=M.el,Oe=M.model,Re=M.em,Ye="frame:load",Ve={el:J,model:Oe,view:this},Se=this.getCanvasModel(),je=function(x){var re;if(x.length>0){var we=x.shift(),De=(0,ae.ut)("script",ie({type:"text/javascript"},(0,ve.isString)(we)?{src:we}:we));De.onerror=De.onload=je.bind(null,x),(re=J.contentDocument)===null||re===void 0||re.head.appendChild(De)}else w.renderBody(),Re&&Re.trigger(Ye,Ve)};J.onload=function(){var x=w.config.frameContent;if(x){var re=w.getDoc();re.open(),re.write(x),re.close()}Re&&Re.trigger("".concat(Ye,":before"),Ve),je(E([],Se.get("scripts"),!0))}},H.prototype.renderStyles=function(w){w===void 0&&(w={});var M=this.getHead(),J=this.getCanvasModel(),Oe=function(x){return x.map(function(re){return{tag:"link",attributes:ie({rel:"stylesheet"},(0,ve.isString)(re)?{href:re}:re)}})},Re=Oe(w.prev||J.previous("styles")),Ye=Oe(J.get("styles")),Ve=[],Se=[],je=function(x,re,we){x.forEach(function(De){var Ge=De.attributes.href;!re.some(function(Ke){return Ke.attributes.href===Ge})&&we.push(De)})};je(Ye,Re,Se),je(Re,Ye,Ve),Ve.forEach(function(x){var re,we=M.querySelector('link[href="'.concat(x.attributes.href,'"]'));(re=we==null?void 0:we.parentNode)===null||re===void 0||re.removeChild(we)}),(0,ae.SJ)(M,Se)},H.prototype.renderBody=function(){var w,M,J=this,Oe=this,Re=Oe.config,Ye=Oe.em,Ve=Oe.model,Se=Oe.ppfx,je=this.getDoc(),x=this.getBody(),re=this.getWindow(),we=Ye.config;re._isEditor=!0,this.renderStyles({prev:[]}),(0,ae.R3)(x,`<style>
      `.concat(we.baseCss||Re.frameStyle||"",`

      [data-gjs-type="wrapper"] {
        min-height: 100vh;
        padding-top: 0.001em;
      }

      .`).concat(Se,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(Se,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(Se,`selected-parent {
        outline: 2px solid `).concat("#ffca6f",` !important
      }

      .`).concat(Se,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(Se,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(Se,`no-pointer {
        pointer-events: none;
      }

      .`).concat(Se,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(Se,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(Se,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(Se,`is__grabbing,
      .`).concat(Se,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(we.canvasCss||"",`
      `).concat(we.protectedCss||"",`
    </style>`));var De=Ve.getComponent(),Ge=Ye.get("DomComponents").getType("wrapper").view;this.wrapper=new Ge({model:De,config:ie(ie({},De.config),{em:Ye,frameView:this})}).render(),(0,ae.R3)(x,(w=this.wrapper)===null||w===void 0?void 0:w.el),(0,ae.R3)(x,new te.Z({collection:Ve.getStyles(),config:ie(ie({},Ye.get("CssComposer").getConfig()),{frameView:this})}).render().el),(0,ae.R3)(x,this.getJsContainer()),(0,fe.on)(x,"click",function(Ke){var bt;return Ke&&((bt=Ke.target)===null||bt===void 0?void 0:bt.tagName)=="A"&&Ke.preventDefault()}),(0,fe.on)(x,"submit",function(Ke){return Ke&&Ke.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(Ke){return Ke.event.split(" ").forEach(function(bt){je.addEventListener(bt,function(At){return J.el.dispatchEvent((0,ae.t3)(At,Ke.class))})})}),this._toggleEffects(!0),this.droppable=(0,fe.hasDnd)(Ye)&&new B(Ye,(M=this.wrapper)===null||M===void 0?void 0:M.el),Ve.trigger("loaded")},H.prototype._toggleEffects=function(w){var M=w?fe.on:fe.off,J=this.getWindow();J&&M(J,"".concat(ae.G1," resize"),this._emitUpdate)},H.prototype._emitUpdate=function(){this.model._emitUpdated()},H}(s.Z);const a=O;var c=_(5610),g=function(){var K=function(H,w){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,J){M.__proto__=J}||function(M,J){for(var Oe in J)Object.prototype.hasOwnProperty.call(J,Oe)&&(M[Oe]=J[Oe])},K(H,w)};return function(H,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=H}K(H,w),H.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}(),S=function(){return S=Object.assign||function(K){for(var H,w=1,M=arguments.length;w<M;w++)for(var J in H=arguments[w])Object.prototype.hasOwnProperty.call(H,J)&&(K[J]=H[J]);return K},S.apply(this,arguments)};const se=function(K){function H(w,M){var J=K.call(this,{model:w})||this;return(0,ve.bindAll)(J,"onScroll","frameLoaded","updateOffset","remove","startDrag"),S(S({},w.config),{frameWrapView:J}),J.cv=M,J.frame=new a(w,J),J.classAnim="".concat(J.ppfx,"frame-wrapper--anim"),J.updateOffset=(0,ve.debounce)(J.updateOffset.bind(J),0),J.updateSize=(0,ve.debounce)(J.updateSize.bind(J),0),J.listenTo(w,"loaded",J.frameLoaded),J.listenTo(w,"change:x change:y",J.updatePos),J.listenTo(w,"change:width change:height",J.updateSize),J.listenTo(w,"destroy remove",J.remove),J.updatePos(),J.setupDragger(),J}return g(H,K),H.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},H.prototype.setupDragger=function(){var w,M,J,Oe=this,Re=this.module,Ye=this.model,Ve=function(Se){Re.toggleFramesEvents(Se)};this.dragger=new c.Z({onStart:function(){var Se=Ye.attributes,je=Se.x,x=Se.y;J=Oe.em.getZoomMultiplier(),w=je,M=x,Ve(!1)},onEnd:function(){return Ve(!0)},setPosition:function(Se){Ye.set({x:w+Se.x*J,y:M+Se.y*J})}})},H.prototype.startDrag=function(w){var M;w&&((M=this.dragger)===null||M===void 0||M.start(w))},H.prototype.__clear=function(w){var M=this.frame;M&&M.remove(w),(0,ae.L_)(this.elTools)},H.prototype.remove=function(w){var M=this;return this.__clear(w),s.Z.prototype.remove.apply(this,w),["frame","dragger","cv","elTools"].forEach(function(J){return M[J]=0}),this},H.prototype.updateOffset=function(){var w,M=this,J=M.em,Oe=M.$el,Re=M.frame;J&&(J.runDefault({preserveSelected:1}),Oe.removeClass(this.classAnim),(w=Re==null?void 0:Re.model)===null||w===void 0||w._emitUpdated())},H.prototype.updatePos=function(w){var M=this.model,J=this.el,Oe=M.attributes,Re=Oe.x,Ye=Oe.y,Ve=J.style;this.frame.rect=void 0,Ve.left=isNaN(Re)?Re:"".concat(Re,"px"),Ve.top=isNaN(Ye)?Ye:"".concat(Ye,"px"),w&&this.updateOffset()},H.prototype.updateSize=function(){this.updateDim()},H.prototype.updateDim=function(){var w=this,M=w.em,J=w.el,Oe=w.$el,Re=w.model,Ye=w.classAnim,Ve=w.frame;if(Ve){Ve.rect=void 0,Oe.addClass(Ye);var Se=this.__handleSize(),je=Se.noChanges,x=Se.width,re=Se.height;((0,ve.isNull)(x)||(0,ve.isNull)(re))&&Re.set(S(S({},x?{}:{width:J.offsetWidth}),re?{}:{height:J.offsetHeight}),{silent:1}),M.stopDefault({preserveSelected:1}),je?this.updateOffset():setTimeout(this.updateOffset,350)}},H.prototype.onScroll=function(){var w=this.frame;this.em.trigger("frame:scroll",{frame:w,body:w.getBody(),target:w.getWindow()})},H.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},H.prototype.__handleSize=function(){var w="px",M=this.model,J=this.el.style,Oe=M.attributes,Re=Oe.width,Ye=Oe.height,Ve=J.width||"",Se=J.height||"",je=Re||"",x=Ye||"",re=Ve==je&&Se==x;return J.width=(0,ve.isNumber)(je)?"".concat(je).concat(w):je,J.height=(0,ve.isNumber)(x)?"".concat(x).concat(w):x,{noChanges:re,width:Re,height:Ye,newW:je,newH:x}},H.prototype.render=function(){var w=this,M=w.frame,J=w.$el,Oe=w.ppfx,Re=w.cv,Ye=w.model,Ve=w.el,Se=Ye.attributes.onRender;this.__clear(),this.__handleSize(),M.render(),J.empty().attr({class:"".concat(Oe,"frame-wrapper")}).append(`
      <div class="`.concat(Oe,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(Oe,`frame-wrapper__name" data-action-move>
          `).concat(Ye.get("name")||"",`
        </div>
        <div class="`).concat(Oe,`frame-wrapper__top-r">
          <div class="`).concat(Oe,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(Oe,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(Oe,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(Oe,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(M.el);var je=(0,ae.ut)("div",{class:"".concat(Oe,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(Oe,`highlighter" data-hl></div>
      <div class="`).concat(Oe,`badge" data-badge></div>
      <div class="`).concat(Oe,`placeholder">
        <div class="`).concat(Oe,`placeholder-int"></div>
      </div>
      <div class="`).concat(Oe,`ghost"></div>
      <div class="`).concat(Oe,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(Oe,`resizer"></div>
      <div class="`).concat(Oe,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(Oe,`offset-fixed-v"></div>
    `));this.elTools=je;var x=Re==null?void 0:Re.toolsWrapper;return x&&x.appendChild(je),Se&&Se({el:Ve,elTop:Ve.querySelector("[data-frame-top]"),elRight:Ve.querySelector("[data-frame-right]"),elBottom:Ve.querySelector("[data-frame-bottom]"),elLeft:Ve.querySelector("[data-frame-left]"),frame:Ye,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},H}(s.Z);var le=function(){var K=function(H,w){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,J){M.__proto__=J}||function(M,J){for(var Oe in J)Object.prototype.hasOwnProperty.call(J,Oe)&&(M[Oe]=J[Oe])},K(H,w)};return function(H,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=H}K(H,w),H.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}(),D=function(K){function H(w,M){w===void 0&&(w={});var J=K.call(this,w,!0)||this;return J.listenTo(J.collection,"reset",J.render),J.canvasView=M.canvasView,J._module=M.module,J}return le(H,K),H.prototype.onRemoveBefore=function(w,M){M===void 0&&(M={}),w.forEach(function(J){return J.remove(M)})},H.prototype.onRender=function(){var w=this.$el,M=this.ppfx;w.attr({class:"".concat(M,"frames")})},H.prototype.renderView=function(w,M){return new se(w,this.canvasView)},H}(L);const I=D;var C=function(){var K=function(H,w){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,J){M.__proto__=J}||function(M,J){for(var Oe in J)Object.prototype.hasOwnProperty.call(J,Oe)&&(M[Oe]=J[Oe])},K(H,w)};return function(H,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=H}K(H,w),H.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}(),l=function(){return l=Object.assign||function(K){for(var H,w=1,M=arguments.length;w<M;w++)for(var J in H=arguments[w])Object.prototype.hasOwnProperty.call(H,J)&&(K[J]=H[J]);return K},l.apply(this,arguments)},f=function(K){function H(w){var M=K.call(this,{model:w})||this;M.ready=!1,(0,ve.bindAll)(M,"clearOff","onKeyPress","onCanvasMove"),M.className=M.pfx+"canvas";var J=M.em;return M._initFrames(),M.listenTo(J,"change:canvasOffset",M.clearOff),M.listenTo(J,"component:selected",M.checkSelected),M.listenTo(w,"change:zoom change:x change:y",M.updateFrames),M.listenTo(w,"change:frames",M._onFramesUpdate),M.toggleListeners(!0),M}return C(H,K),H.prototype.events=function(){return{wheel:"onWheel"}},H.prototype.template=function(){var w=this.pfx;return`
      <div class="`.concat(w,`canvas__frames" data-frames></div>
      <div id="`).concat(w,'tools" class="').concat(w,`canvas__tools" data-tools></div>
    `)},H.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},H.prototype._initFrames=function(){var w=this,M=w.frames,J=w.model,Oe=w.config,Re=w.em,Ye=J.frames;Re.set("readyCanvas",0),Ye.once("loaded:all",function(){return Re.set("readyCanvas",1)}),M==null||M.remove(),this.frames=new I({collection:Ye},l(l({},Oe),{canvasView:this}))},H.prototype.checkSelected=function(w,M){var J;M===void 0&&(M={});var Oe=M.scroll,Re=this.em.get("currentFrame");Oe&&((J=w.views)===null||J===void 0||J.forEach(function(Ye){Ye._getFrame()===Re&&Ye.scrollIntoView(Oe)}))},H.prototype.remove=function(){for(var w,M=[],J=0;J<arguments.length;J++)M[J]=arguments[J];return(w=this.frames)===null||w===void 0||w.remove(),this.frames=void 0,s.Z.prototype.remove.apply(this,M),this.toggleListeners(!1),this},H.prototype.preventDefault=function(w){var M;w&&(w.preventDefault(),(M=w._parentEvent)===null||M===void 0||M.preventDefault())},H.prototype.onCanvasMove=function(w){},H.prototype.toggleListeners=function(w){this.el;var M=w?fe.on:fe.off;M(document,"keypress",this.onKeyPress),M(window,"scroll resize",this.clearOff)},H.prototype.onKeyPress=function(w){var M=this.em;(0,fe.getKeyChar)(w)!==" "||M.getZoomDecimal()===1||M.get("Canvas").isInputFocused()||(this.preventDefault(w),M.get("Editor").runCommand("core:canvas-move"))},H.prototype.onWheel=function(w){if((w.ctrlKey||w.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(w);var M=this.model,J=Math.max(-1,Math.min(1,w.wheelDelta||-w.detail)),Oe=M.get("zoom");M.set("zoom",Oe+2*J)}},H.prototype.updateFrames=function(w){var M=this.em,J=this.model.attributes,Oe=J.x,Re=J.y,Ye=this.getZoom(),Ve={preserveSelected:1},Se=Ye?1/Ye:1;this.framesArea.style.transform="scale(".concat(Ye,") translate(").concat(Oe*Se,"px, ").concat(Re*Se,"px)"),this.clearOff(),M.stopDefault(Ve),M.trigger("canvas:update",w),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){return M.runDefault(Ve)},300)},H.prototype.getZoom=function(){return this.em.getZoomDecimal()},H.prototype.isElInViewport=function(w){var M=(0,fe.getElement)(w),J=(0,fe.getElRect)(M),Oe=this.getFrameOffset(M),Re=J.top,Ye=J.left;return Re>=0&&Ye>=0&&Re<=Oe.height&&Ye<=Oe.width},H.prototype.offset=function(w,M){var J,Oe;M===void 0&&(M={});var Re=(0,fe.getElRect)(w),Ye=w==null?void 0:w.ownerDocument.body,Ve=M.noScroll;return{top:Re.top+(Ve?0:(J=Ye==null?void 0:Ye.scrollTop)!==null&&J!==void 0?J:0),left:Re.left+(Ve?0:(Oe=Ye==null?void 0:Ye.scrollLeft)!==null&&Oe!==void 0?Oe:0),width:Re.width,height:Re.height}},H.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},H.prototype.getFrameOffset=function(w){var M;if(!this.frmOff||w){var J=(M=this.frame)===null||M===void 0?void 0:M.el,Oe=w==null?void 0:w.ownerDocument.defaultView,Re=Oe?Oe.frameElement:J;this.frmOff=this.offset(Re||J)}return this.frmOff},H.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},H.prototype.getElementPos=function(w,M){M===void 0&&(M={});var J=this.getZoom(),Oe=M||{},Re=this.getFrameOffset(w),Ye=this.el,Ve=this.getCanvasOffset(),Se=this.offset(w,M),je=Oe.avoidFrameOffset?0:Re.top,x=Oe.avoidFrameOffset?0:Re.left;return{top:Se.top*J+je-Ve.top+Ye.scrollTop,left:Se.left*J+x-Ve.left+Ye.scrollLeft,height:Se.height*J,width:Se.width*J,zoom:J,rect:Se}},H.prototype.getElementOffsets=function(w){var M=this;if(!w||(0,fe.isTextNode)(w))return{};var J={},Oe=window.getComputedStyle(w);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(Re){J[Re]=parseFloat(Oe[Re])*M.getZoom()}),J},H.prototype.getPosition=function(w){var M;w===void 0&&(w={});var J=(M=this.frame)===null||M===void 0?void 0:M.el.contentDocument;if(J){var Oe=J.body,Re=this.getZoom(),Ye=this.getFrameOffset(),Ve=this.getCanvasOffset(),Se=w.noScroll;return{top:Ye.top+(Se?0:Oe.scrollTop)*Re-Ve.top,left:Ye.left+(Se?0:Oe.scrollLeft)*Re-Ve.left,width:Ve.width,height:Ve.height}}},H.prototype.updateScript=function(w){var M=w.model,J=M.getId();w.scriptContainer||(w.scriptContainer=(0,ae.ut)("div",{"data-id":J}),this.getJsContainer().appendChild(w.scriptContainer)),w.el.id=J,w.scriptContainer.innerHTML="";var Oe=document.createElement("script"),Re=M.getScriptString(),Ye=M.get("script-props")?Re:`function(){
`.concat(Re,`
;}`),Ve=JSON.stringify(M.__getScriptProps());Oe.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(J,`');
        if (!item) return;
        (`).concat(Ye,".bind(item))(").concat(Ve,`)
      }, 1);`),setTimeout(function(){var Se=w.scriptContainer;Se==null||Se.appendChild(Oe)},0)},H.prototype.getJsContainer=function(w){var M=this.getFrameView(w);return M&&M.getJsContainer()},H.prototype.getFrameView=function(w){return(w==null?void 0:w._getFrame())||this.em.get("currentFrame")},H.prototype._renderFrames=function(){if(this.ready){var w=this,M=w.model,J=w.frames,Oe=w.em,Re=w.framesArea,Ye=M.frames;Ye.listenToLoad(),J.render();var Ve=Ye.at(0),Se=Ve==null?void 0:Ve.view;Oe.setCurrentFrame(Se),Re==null||Re.appendChild(J.el),this.frame=Se}},H.prototype.render=function(){var w=this,M=w.el,J=w.$el,Oe=w.ppfx,Re=w.config,Ye=w.em;J.html(this.template());var Ve=J.find("[data-frames]");this.framesArea=Ve.get(0);var Se=J.find("[data-tools]");this.toolsWrapper=Se.get(0),Se.append(`
      <div class="`.concat(Oe,"tools ").concat(Oe,`tools-gl" style="pointer-events:none">
        <div class="`).concat(Oe,`placeholder">
          <div class="`).concat(Oe,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(Oe,`tools" style="pointer-events:none">
        `).concat(Re.extHl?'<div class="'.concat(Oe,'highlighter-sel"></div>'):"",`
        <div class="`).concat(Oe,`badge"></div>
        <div class="`).concat(Oe,`ghost"></div>
        <div class="`).concat(Oe,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(Oe,`resizer"></div>
        <div class="`).concat(Oe,`offset-v"></div>
        <div class="`).concat(Oe,`offset-fixed-v"></div>
      </div>
    `));var je=M.querySelector("#".concat(Oe,"tools"));return this.hlEl=M.querySelector(".".concat(Oe,"highlighter")),this.badgeEl=M.querySelector(".".concat(Oe,"badge")),this.placerEl=M.querySelector(".".concat(Oe,"placeholder")),this.ghostEl=M.querySelector(".".concat(Oe,"ghost")),this.toolbarEl=M.querySelector(".".concat(Oe,"toolbar")),this.resizerEl=M.querySelector(".".concat(Oe,"resizer")),this.offsetEl=M.querySelector(".".concat(Oe,"offset-v")),this.fixedOffsetEl=M.querySelector(".".concat(Oe,"offset-fixed-v")),this.toolsGlobEl=M.querySelector(".".concat(Oe,"tools-gl")),this.toolsEl=je,this.el.className=(0,fe.getUiClass)(Ye,this.className),this.ready=!0,this._renderFrames(),this},H}(s.Z);const h=f;var u=function(){var K=function(H,w){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,J){M.__proto__=J}||function(M,J){for(var Oe in J)Object.prototype.hasOwnProperty.call(J,Oe)&&(M[Oe]=J[Oe])},K(H,w)};return function(H,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=H}K(H,w),H.prototype=w===null?Object.create(w):(M.prototype=w.prototype,new M)}}(),d=function(){return d=Object.assign||function(K){for(var H,w=1,M=arguments.length;w<M;w++)for(var J in H=arguments[w])Object.prototype.hasOwnProperty.call(H,J)&&(K[J]=H[J]);return K},d.apply(this,arguments)},P=function(K,H,w){if(w||arguments.length===2)for(var M,J=0,Oe=H.length;J<Oe;J++)!M&&J in H||(M||(M=Array.prototype.slice.call(H,0,J)),M[J]=H[J]);return K.concat(M||Array.prototype.slice.call(H))};const q=function(K){function H(w){var M=K.call(this,w,"Canvas",de)||this;return M.canvas=new T(M),M.model=M.canvas,M.startAutoscroll=M.startAutoscroll.bind(M),M.stopAutoscroll=M.stopAutoscroll.bind(M),M}return u(H,K),H.prototype.getCanvasView=function(){return this.canvasView},H.prototype.init=function(){},H.prototype.onLoad=function(){this.model.init()},H.prototype.getModel=function(){return this.canvas},H.prototype.getElement=function(){return this.getCanvasView().el},H.prototype.getFrame=function(w){return this.getFrames()[w||0]},H.prototype.getFrameEl=function(){var w=(this.canvasView||{}).frame;return w==null?void 0:w.el},H.prototype.getFramesEl=function(){var w;return(w=this.canvasView)===null||w===void 0?void 0:w.framesArea},H.prototype.getWindow=function(){var w=(this.canvasView||{}).frame;return w==null?void 0:w.getWindow()},H.prototype.getDocument=function(){var w=this.getFrameEl();return w==null?void 0:w.contentDocument},H.prototype.getBody=function(){var w=this.getDocument();return w==null?void 0:w.body},H.prototype._getLocalEl=function(w,M,J){var Oe=w,Re=M==null?void 0:M._getFrame();return Oe=Re?Re[J]():Oe},H.prototype.getGlobalToolsEl=function(){var w;return(w=this.canvasView)===null||w===void 0?void 0:w.toolsGlobEl},H.prototype.getToolsEl=function(w){return this._getLocalEl(this.getCanvasView().toolsEl,w,"getToolsEl")},H.prototype.getHighlighter=function(w){return this._getLocalEl(this.getCanvasView().hlEl,w,"getHighlighter")},H.prototype.getBadgeEl=function(w){return this._getLocalEl(this.getCanvasView().badgeEl,w,"getBadgeEl")},H.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},H.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},H.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},H.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},H.prototype.getOffsetViewerEl=function(w){return this._getLocalEl(this.getCanvasView().offsetEl,w,"getOffsetViewerEl")},H.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},H.prototype.render=function(){var w;return(w=this.canvasView)===null||w===void 0||w.remove(),this.canvasView=new h(this.canvas),this.canvasView.render().el},H.prototype.getOffset=function(){var w=this.offset(this.getFrameEl()),M=this.offset(this.getElement());return{top:w.top-M.top,left:w.left-M.left}},H.prototype.offset=function(w){return this.getCanvasView().offset(w)},H.prototype.setCustomBadgeLabel=function(w){this.config.customBadgeLabel=w},H.prototype.getElementPos=function(w,M){return this.getCanvasView().getElementPos(w,M)},H.prototype.getElementOffsets=function(w){return this.getCanvasView().getElementOffsets(w)},H.prototype.getRect=function(){var w,M=(w=this.getCanvasView().getPosition())!==null&&w!==void 0?w:{},J=M.top,Oe=J===void 0?0:J,Re=M.left,Ye=Re===void 0?0:Re;return d(d({},this.getCanvasView().getCanvasOffset()),{topScroll:Oe,leftScroll:Ye})},H.prototype.getTargetToElementDim=function(w,M,J){J===void 0&&(J={});var Oe=J||{},Re=this.getCanvasView().getPosition();if(Re){var Ye=Oe.elPos||this.getCanvasView().getElementPos(M),Ve=J.toRight||0,Se=Oe.targetHeight||w.offsetHeight,je=Oe.targetWidth||w.offsetWidth,x=Oe.event||null,re=Ye.top-Se,we=Ye.left;we+=Ve?Ye.width:0;var De=(we=Ve?we-je:we)<Re.left?Re.left:we,Ge=re<Re.top?Re.top:re,Ke={top:Ge=Ge>Ye.top+Ye.height?Ye.top+Ye.height:Ge,left:De,elementTop:Ye.top,elementLeft:Ye.left,elementWidth:Ye.width,elementHeight:Ye.height,targetWidth:w.offsetWidth,targetHeight:w.offsetHeight,canvasTop:Re.top,canvasLeft:Re.left,canvasWidth:Re.width,canvasHeight:Re.height};return x&&this.em&&this.em.trigger(x,Ke),Ke}},H.prototype.canvasRectOffset=function(w,M,J){var Oe=this;J===void 0&&(J={});var Re=function(Ye,Ve,Se){Ve===void 0&&(Ve=1);var je=Oe.em.getZoomDecimal(),x=Ve?"top":"left",re=Ye.ownerDocument,we=J.offset?function(We){var et=We.defaultView;return et==null?void 0:et.frameElement}(re):{},De=we.offsetTop,Ge=De===void 0?0:De,Ke=we.offsetLeft,bt=Ke===void 0?0:Ke,At=re.body||{},Ft=At.scrollTop,rn=Ft===void 0?0:Ft,On=At.scrollLeft,kt=Ve?rn:On===void 0?0:On,Ae=Ve?Ge:bt;return Se[x]-(kt-Ae)*je};return{top:Re(w,1,M),left:Re(w,0,M)}},H.prototype.getTargetToElementFixed=function(w,M,J){var Oe;J===void 0&&(J={});var Re=J.pos||this.getElementPos(w),Ye=J.canvasOff||this.canvasRectOffset(w,Re),Ve=M.offsetHeight||0,Se=M.offsetWidth||0,je=Re.left+Re.width,x=this.getCanvasView(),re=x.getPosition(),we=x.getFrameOffset(w),De=J.event,Ge=-Ve,Ke=(0,ve.isUndefined)(J.left)?Re.width-Se:J.left;Ke=Re.left<-Ke?-Re.left:Ke;var bt=(Oe=re==null?void 0:re.width)!==null&&Oe!==void 0?Oe:0;Ke=je>bt?Ke-(je-bt):Ke;var At=Re.height+Ve,Ft=At<we.height;Ye.top<Ve&&(Ft?Ge+=At:Ge=-Ye.top<Re.height?-Ye.top:Re.height);var rn={top:Ge,left:Ke,canvasOffsetTop:Ye.top,canvasOffsetLeft:Ye.left};return De&&this.em.trigger(De,rn),rn},H.prototype.getMouseRelativePos=function(w,M){M===void 0&&(M={});var J=0,Oe=0,Re=M.subWinOffset,Ye=w.target.ownerDocument,Ve=Ye.defaultView||Ye.parentWindow,Se=Ve.frameElement,je=Re?Ve.pageYOffset:0,x=Re?Ve.pageXOffset:0;if(Se){var re=Se.getBoundingClientRect();J=re.top||0,Oe=re.left||0}return{y:w.clientY+J-je,x:w.clientX+Oe-x}},H.prototype.getMouseRelativeCanvas=function(w,M){var J,Oe=this.getZoomDecimal(),Re=(J=this.getCanvasView().getPosition(M))!==null&&J!==void 0?J:{},Ye=Re.top,Ve=Ye===void 0?0:Ye,Se=Re.left,je=Se===void 0?0:Se;return{y:w.clientY*Oe+Ve,x:w.clientX*Oe+je}},H.prototype.hasFocus=function(){return this.getDocument().hasFocus()},H.prototype.isInputFocused=function(){var w=this.getDocument(),M=this.getFrameEl(),J=P(["body"],this.config.notTextable,!0),Oe=M&&document.activeElement===M?w&&w.activeElement:document.activeElement;return Oe&&!J.some(function(Re){return Oe.matches(Re)})},H.prototype.scrollTo=function(w,M){M===void 0&&(M={});var J=(0,fe.getElement)(w),Oe=J&&(0,fe.getViewEl)(J);Oe&&Oe.scrollIntoView(M)},H.prototype.startAutoscroll=function(w){var M=w&&w.view||this.em.getCurrentFrame();M&&M.startAutoscroll()},H.prototype.stopAutoscroll=function(w){var M=w&&w.view||this.em.getCurrentFrame();M&&M.stopAutoscroll()},H.prototype.setZoom=function(w){return this.canvas.set("zoom",parseFloat(w)),this},H.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},H.prototype.setCoords=function(w,M){return this.canvas.set({x:parseFloat(w),y:parseFloat(M)}),this},H.prototype.getCoords=function(){var w=this.canvas.attributes;return{x:w.x,y:w.y}},H.prototype.getZoomDecimal=function(){return this.getZoom()/100},H.prototype.getZoomMultiplier=function(){var w=this.getZoomDecimal();return w?1/w:1},H.prototype.toggleFramesEvents=function(w){this.getFramesEl().style.pointerEvents=w?"":"none"},H.prototype.getFrames=function(){return this.canvas.frames.map(function(w){return w})},H.prototype.addFrame=function(w,M){return w===void 0&&(w={}),M===void 0&&(M={}),this.canvas.frames.add(new V.Z(this,d({},w)),M)},H.prototype.destroy=function(){var w,M=this;this.canvas.stopListening(),(w=this.canvasView)===null||w===void 0||w.remove(),["model","droppable"].forEach(function(J){return M[J]={}})},H}(_e.Z)},6840:(gt,Ze,_)=>{_.d(Ze,{Z:()=>m});var ve,_e=_(9050),fe=_(7904),de=_(1163),ue=(ve=function(b,T){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,s){V.__proto__=s}||function(V,s){for(var ae in s)Object.prototype.hasOwnProperty.call(s,ae)&&(V[ae]=s[ae])},ve(b,T)},function(b,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function V(){this.constructor=b}ve(b,T),b.prototype=T===null?Object.create(T):(V.prototype=T.prototype,new V)}),ne=function(){return ne=Object.assign||function(b){for(var T,V=1,s=arguments.length;V<s;V++)for(var ae in T=arguments[V])Object.prototype.hasOwnProperty.call(T,ae)&&(b[ae]=T[ae]);return b},ne.apply(this,arguments)},X=function(b,T,V){if(V||arguments.length===2)for(var s,ae=0,$=T.length;ae<$;ae++)!s&&ae in T||(s||(s=Array.prototype.slice.call(T,0,ae)),s[ae]=T[ae]);return b.concat(s||Array.prototype.slice.call(T))},ee="__aw",j="__ah";const m=function(b){function T(V,s){var ae=b.call(this,V,s)||this,$=ae.em,R=ae.attributes,Z=R.styles,L=R.component,te=$.get("DomComponents"),xe=te.getConfig(),he=$.get("CssComposer").getAll(),A={},z={em:$,config:xe,frame:ae,idMap:A};if(!(0,de.isComponent)(L)){var B=(0,de.isObject)(L)?L:{components:L};!B.type&&(B.type="wrapper");var W=te.getType("wrapper").model;ae.set("component",new W(B,z))}return Z?(0,de.isObject)(Z)||(Object.keys(A).length&&Array.isArray(Z)&&Z.forEach(function(ie){var E=ie.selectors;if(E&&E.length==1){var O=E[0],a=O.name&&O.type===2&&O;if(a&&A[a.name])a.name=A[a.name];else if((0,_e.isString)(O)&&O[0]==="#"){var c=O.substring(1);c&&A[c]&&(E[0]="#".concat(A[c]))}}}),he.add(Z),ae.set("styles",he)):ae.set("styles",he),!s.width&&ae.set(ee,1),!s.height&&ae.set(j,1),ae}return ue(T,b),T.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(T.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),T.prototype.onRemove=function(){this.getComponent().remove({root:1})},T.prototype.changesUp=function(V){V===void 0&&(V={}),V.temporary||V.noCount||V.avoidStore||this.set("changesCount",this.get("changesCount")+1)},T.prototype.getComponent=function(){return this.get("component")},T.prototype.getStyles=function(){return this.get("styles")},T.prototype.disable=function(){this.trigger("disable")},T.prototype.remove=function(){this.view=void 0;var V=this.collection;return V&&V.remove(this)},T.prototype.getHead=function(){return X([],this.head,!0)},T.prototype.setHead=function(V){return this.set("head",X([],V,!0))},T.prototype.addHeadItem=function(V){this.head.push(V)},T.prototype.getHeadByAttr=function(V,s,ae){return this.head.filter(function($){return $.attributes&&$.attributes[V]==s&&(!ae||ae===$.tag)})[0]},T.prototype.removeHeadByAttr=function(V,s,ae){var $=this.getHeadByAttr(V,s,ae),R=this.head.indexOf($);R>=0&&this.head.splice(R,1)},T.prototype.addLink=function(V){var s="link";!this.getHeadByAttr("href",V,s)&&this.addHeadItem({tag:s,attributes:{href:V,rel:"stylesheet"}})},T.prototype.removeLink=function(V){this.removeHeadByAttr("href",V,"link")},T.prototype.addScript=function(V){var s="script";!this.getHeadByAttr("src",V,s)&&this.addHeadItem({tag:s,attributes:{src:V}})},T.prototype.removeScript=function(V){this.removeHeadByAttr("src",V,"script")},T.prototype.getPage=function(){var V;return(V=this.collection)===null||V===void 0?void 0:V.page},T.prototype._emitUpdated=function(V){V===void 0&&(V={}),this.em.trigger("frame:updated",ne({frame:this},V))},T.prototype.toJSON=function(V){V===void 0&&(V={});var s=fe.Z.prototype.toJSON.call(this,V),ae=(0,_e.result)(this,"defaults");return V.fromUndo&&delete s.component,delete s.styles,delete s.changesCount,s[ee]&&delete s.width,s[j]&&delete s.height,(0,_e.forEach)(s,function($,R){R.indexOf("_")===0&&delete s[R]}),(0,_e.forEach)(ae,function($,R){s[R]===$&&delete s[R]}),(0,_e.forEach)(["attributes","head"],function($){(0,_e.isEmpty)(s[$])&&delete s[$]}),s},T}(fe.Z)},3560:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ne});var ve,_e=_(9050),fe=_(7116),de=_(6840),ue=(ve=function(X,ee){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,m){j.__proto__=m}||function(j,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(j[b]=m[b])},ve(X,ee)},function(X,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function j(){this.constructor=X}ve(X,ee),X.prototype=ee===null?Object.create(ee):(j.prototype=ee.prototype,new j)});const ne=function(X){function ee(j,m){m===void 0&&(m=[]);var b=X.call(this,j,m,de.Z)||this;return b.loadedItems=0,b.itemsToLoad=0,(0,_e.bindAll)(b,"itemLoaded"),b.on("reset",b.onReset),b.on("remove",b.onRemove),b}return ue(ee,X),ee.prototype.onReset=function(j,m){var b=this;((m==null?void 0:m.previousModels)||[]).map(function(T){return b.onRemove(T)})},ee.prototype.onRemove=function(j){j==null||j.onRemove()},ee.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},ee.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},ee.prototype.listenToLoadItems=function(j){var m=this;this.forEach(function(b){return b[j?"on":"off"]("loaded",m.itemLoaded)})},ee}(fe.Z)},5819:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>kn});var ve=_(9050);const _e={stylePrefix:"comp-",components:[],draggableComponents:1,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var fe=_(9138),de=_(8431),ue=_(2169),ne=_(5671),X=_(3144),ee=_(9340),j=_(2963),m=_(1120);function b(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var T=function(Ce){(0,ee.Z)(F,Ce);var Pe=b(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"div"}}]),F}(ue.Z),V=_(3505),s=_(4942),ae=_(1752),$=_(1163);function R(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Z(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?R(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):R(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function L(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var te=function(Ce){(0,ee.Z)(F,Ce);var Pe=L(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return Z(Z({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:"cell",tagName:"td",draggable:["tr"]})}}]),F}(fe.ZP);te.isComponent=function(Ce){return["td","th"].indexOf((0,$.toLowerCase)(Ce.tagName))>=0};const xe=ue.Z.extend({});function he(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function A(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?he(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):he(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function z(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var B="tr",W=function(Ce){(0,ee.Z)(F,Ce);var Pe=z(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return A(A({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{tagName:B,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})}}]),F}(fe.ZP);W.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===B};const ie=ue.Z.extend({});function E(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function O(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?E(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):E(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function a(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var c="table",g=function(Ce){(0,ee.Z)(F,Ce);var Pe=a(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return O(O({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:c,tagName:c,droppable:["tbody","thead","tfoot"]})}},{key:"initialize",value:function(G,Ne){fe.ZP.prototype.initialize.apply(this,arguments);var st=this.get("components");!st.length&&st.add({type:"tbody"})}}]),F}(fe.ZP);g.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===c};const S=ue.Z.extend({events:{}});function se(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function le(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?se(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):se(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function D(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var I="tbody",C=function(Ce){(0,ee.Z)(F,Ce);var Pe=D(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return le(le({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:I,tagName:I,draggable:["table"],droppable:["tr"],columns:1,rows:1})}},{key:"initialize",value:function(G,Ne){fe.ZP.prototype.initialize.apply(this,arguments);var st=this.get("components"),wt=this.get("columns"),zt=this.get("rows");if(!st.length){for(var o=[];zt--;){for(var p=[],k=wt;k--;)p.push({type:"cell",classes:["cell"]});o.push({type:"row",classes:["row"],components:p})}st.add(o)}}}]),F}(fe.ZP);function l(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function f(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?l(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):l(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function h(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}C.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===I};var u="thead",d=function(Ce){(0,ee.Z)(F,Ce);var Pe=h(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return f(f({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:u,tagName:u})}}]),F}(C);d.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===u};const P=ue.Z.extend({});function q(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var K=function(Ce){(0,ee.Z)(F,Ce);var Pe=q(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F)}(ue.Z);function H(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function w(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?H(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):H(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function M(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var J="tfoot",Oe=function(Ce){(0,ee.Z)(F,Ce);var Pe=M(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return w(w({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:J,tagName:J})}}]),F}(C);Oe.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===J};const Re=ue.Z.extend({});function Ye(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Ve(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Ye(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):Ye(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Se(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var je='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',x=function(Ce){(0,ee.Z)(F,Ce);var Pe=Se(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return Ve(Ve({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(je,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(je,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})}},{key:"initialize",value:function(G,Ne){fe.ZP.prototype.initialize.apply(this,arguments);var st=this.get("attributes"),wt=st.src;wt&&(0,$.buildBase64UrlFromSvg)((0,ve.result)(this,"defaults").src)!==wt&&this.set("src",wt,{silent:1})}},{key:"initToolbar",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];fe.ZP.prototype.initToolbar.apply(this,Ne);var wt=this.em;if(wt){var zt=wt.get("Commands"),o="image-editor";if(zt.has(o)){for(var p=!1,k=this.get("toolbar"),N=0;N<k.length;N++)if(k[N].command==="image-editor"){p=!0;break}p||(k.push({attributes:{class:"fa fa-pencil"},command:o}),this.set("toolbar",k))}}}},{key:"getAttrToHTML",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];var wt=fe.ZP.prototype.getAttrToHTML.apply(this,Ne),zt=this.getSrcResult();return zt&&(wt.src=zt),wt}},{key:"getSrcResult",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=this.get(G.fallback?"fallback":"src")||"",st=Ne;return Ne&&Ne.substr(0,4)==="<svg"&&(st=(0,$.buildBase64UrlFromSvg)(Ne)),st}},{key:"isDefaultSrc",value:function(){var G=this.get("src"),Ne=(0,ve.result)(this,"defaults").src;return G===Ne||G===(0,$.buildBase64UrlFromSvg)(Ne)}},{key:"toJSON",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];var wt=fe.ZP.prototype.toJSON.apply(this,Ne);return wt.attributes&&wt.src===wt.attributes.src&&delete wt.src,wt}},{key:"parseUri",value:function(G){var Ne={};if((0,$.hasWin)())(Ne=document.createElement("a")).href=G;else if(typeof URL!="undefined")try{Ne=new URL(G)}catch{}return{hostname:Ne.hostname||"",pathname:Ne.pathname||"",protocol:Ne.protocol||"",search:Ne.search||"",hash:Ne.hash||"",port:Ne.port||"",query:function(){for(var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",wt={},zt=st.substring(1).split("&"),o=0;o<zt.length;o++){var p=zt[o].split("="),k=decodeURIComponent(p[0]);k&&(wt[k]=decodeURIComponent(p[1]||""))}return wt}(Ne.search)}}}]),F}(fe.ZP);function re(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function we(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?re(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):re(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function De(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}x.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)==="img"};var Ge=function(Ce){(0,ee.Z)(F,Ce);var Pe=De(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return we(we({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this).toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})}},{key:"initialize",value:function(G,Ne){this.get("src")?this.parseFromSrc():this.updateSrc(),x.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)}},{key:"updateSrc",value:function(){this.set("src",this.getMapUrl())}},{key:"getMapUrl",value:function(){var G=this,Ne=G.get("address"),st=G.get("zoom"),wt=G.get("mapType");Ne=Ne?"&q="+Ne:"",st=st?"&z="+st:"",wt=wt?"&t="+wt:"";var zt=G.get("mapUrl")+"?"+Ne+st+wt;return zt+="&output=embed"}},{key:"parseFromSrc",value:function(){var G=this.parseUri(this.get("src")).query;G.q&&this.set("address",G.q),G.z&&this.set("zoom",G.z),G.t&&this.set("mapType",G.t)}}]),F}(x);function Ke(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}Ge.isComponent=function(Ce){var Pe="";return(0,$.toLowerCase)(Ce.tagName)=="iframe"&&/maps\.google\.com/.test(Ce.src)&&(Pe={type:"map",src:Ce.src}),Pe};var bt=function(Ce){(0,ee.Z)(F,Ce);var Pe=Ke(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"img"}},{key:"events",value:function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}}},{key:"initialize",value:function(G){ue.Z.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()}},{key:"fetchFile",value:function(){if(!this.modelOpt.temporary){var G=this.model,Ne=this.em,st=G.get("file");if(st&&Ne){var wt=Ne.get("AssetManager").FileUploader();wt==null||wt.uploadFile({dataTransfer:{files:[st]}},function(zt){var o=zt&&zt.data&&zt.data[0],p=o&&((0,ve.isString)(o)?o:o.src);p&&G.set({src:p})}),G.set("file","")}}}},{key:"updateSrc",value:function(){var G=this.model,Ne=this.classEmpty,st=this.$el,wt=G.getSrcResult(),zt=wt&&!G.isDefaultSrc();G.addAttributes({src:wt}),st[zt?"removeClass":"addClass"](Ne)}},{key:"onActive",value:function(G){G&&G.stopPropagation();var Ne=this.em,st=this.model,wt=Ne&&Ne.get("AssetManager");wt&&st.get("editable")&&wt.open({select:function(zt,o){st.set({src:zt.getSrc()}),o&&wt.close()},target:st,types:["image"],accept:"image/*"})}},{key:"onError",value:function(){var G=this.model.getSrcResult({fallback:1});G&&(this.el.src=G)}},{key:"onLoad",value:function(){this.em.trigger("change:canvasOffset")}},{key:"noDrag",value:function(G){return G.preventDefault(),!1}},{key:"render",value:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var G=this.$el,Ne=this.model,st=G.attr("class")||"";return!Ne.get("src")&&G.attr("class","".concat(st," ").concat(this.classEmpty).trim()),this.postRender(),this}}]),F}(ue.Z);function At(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Ft=function(Ce){(0,ee.Z)(F,Ce);var Pe=At(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(G){bt.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"}},{key:"updateSrc",value:function(){this.getIframe().src=this.model.get("src")}},{key:"getIframe",value:function(){if(!this.iframe){var G=document.createElement("iframe");G.src=this.model.get("src"),G.frameBorder=0,G.style.height="100%",G.style.width="100%",G.className=this.ppfx+"no-pointer",this.iframe=G}return this.iframe}},{key:"render",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];return bt.prototype.render.apply(this,Ne),this.updateClasses(),this.el.appendChild(this.getIframe()),this}}]),F}(bt);function rn(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function On(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?rn(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):rn(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function kt(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Ae=function(Ce){(0,ee.Z)(F,Ce);var Pe=kt(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return On(On({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:"text",droppable:!1,editable:!0})}}]),F}(fe.ZP);function We(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function et(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?We(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):We(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function rt(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Lt="link",Be=function(Ce){(0,ee.Z)(F,Ce);var Pe=rt(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return et(et({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:Lt,tagName:"a",traits:["title","href","target"]})}}]),F}(Ae);Be.isComponent=function(Ce){var Pe,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,$.toLowerCase)(Ce.tagName)==="a"){var G=F.textTags||[];Pe={type:Lt,editable:!1};var Ne=Ce.childNodes,st=Ne.length;st||delete Pe.editable,(0,ve.forEach)(Ne,function(wt){var zt=wt.tagName;(wt.nodeType==3&&wt.textContent.trim()!==""||zt&&G.indexOf((0,$.toLowerCase)(zt))>=0)&&delete Pe.editable})}return Pe};var nt=_(5861),lt=_(4687),Rt=_.n(lt);function _t(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function mt(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?_t(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):_t(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function fn(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var wn=ue.Z.prototype,pn=function(Ce){(0,ee.Z)(Ne,Ce);var Pe,F,G=fn(Ne);function Ne(){return(0,ne.Z)(this,Ne),G.apply(this,arguments)}return(0,X.Z)(Ne,[{key:"events",value:function(){return{dblclick:"onActive",input:"onInput"}}},{key:"initialize",value:function(st){wn.initialize.apply(this,arguments),(0,ve.bindAll)(this,"disableEditing","onDisable");var wt=this.model,zt=this.em;this.listenTo(wt,"focus",this.onActive),this.listenTo(wt,"change:content",this.updateContentText),this.listenTo(wt,"sync:content",this.syncContent),this.rte=zt&&zt.get("RichTextEditor")}},{key:"updateContentText",value:function(st,wt){var zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!zt.fromDisable&&this.disableEditing()}},{key:"canActivate",value:function(){var st,wt=this.model,zt=this.rteEnabled,o=this.em,p=(o==null?void 0:o.getEditing())===wt,k=!0,N=!1;if((zt||!wt.get("editable")||p||(N=wt.isChildOf("text")))&&(k=!1,N&&!wt.get("textable"))){for(var oe=wt.parent();oe&&!oe.isInstanceOf("text");)oe=oe.parent();oe&&oe.get("editable")?st=oe:k=!0}return{result:k,delegate:st}}},{key:"onActive",value:(F=(0,nt.Z)(Rt().mark(function st(wt){var zt,o,p,k,N,oe,ce;return Rt().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(o=this.rte,p=this.em,k=this.canActivate(),N=k.result,oe=k.delegate,N){ke.next=5;break}return oe&&(wt==null||(ce=wt.stopPropagation)===null||ce===void 0||ce.call(wt),p.setSelected(oe),oe.trigger("active",wt)),ke.abrupt("return");case 5:if(wt==null||(zt=wt.stopPropagation)===null||zt===void 0||zt.call(wt),this.lastContent=this.getContent(),!o){ke.next=17;break}return ke.prev=8,ke.next=11,o.enable(this,this.activeRte,{event:wt});case 11:this.activeRte=ke.sent,ke.next=17;break;case 14:ke.prev=14,ke.t0=ke.catch(8),p.logError(ke.t0);case 17:this.toggleEvents(1);case 18:case"end":return ke.stop()}},st,this,[[8,14]])})),function(st){return F.apply(this,arguments)})},{key:"onDisable",value:function(){this.disableEditing()}},{key:"disableEditing",value:(Pe=(0,nt.Z)(Rt().mark(function st(){var wt,zt,o,p,k,N,oe=arguments;return Rt().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(wt=oe.length>0&&oe[0]!==void 0?oe[0]:{},zt=this.model,o=this.rte,p=this.activeRte,k=this.em,N=zt&&zt.get("editable"),!o){ce.next=13;break}return ce.prev=4,ce.next=7,o.disable(this,p);case 7:ce.next=12;break;case 9:ce.prev=9,ce.t0=ce.catch(4),k.logError(ce.t0);case 12:N&&this.getContent()!==this.lastContent&&(this.syncContent(wt),this.lastContent="");case 13:this.toggleEvents();case 14:case"end":return ce.stop()}},st,this,[[4,9]])})),function(){return Pe.apply(this,arguments)})},{key:"getContent",value:function(){var st=this.activeRte;return st&&typeof st.getContent=="function"?st.getContent():this.getChildrenContainer().innerHTML}},{key:"syncContent",value:function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},wt=this.model,zt=this.rte,o=this.rteEnabled;if(o||st.force){var p=this.getContent(),k=wt.components(),N=mt({fromDisable:1},st);wt.set("content","",N),zt.customRte?(k.length&&k.reset(null,st),wt.set("content",p,N)):k.resetFromString(p,st)}}},{key:"insertComponent",value:function(st){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},zt=this.model,o=this.el,p=o.ownerDocument,k=p.getSelection();if(k!=null&&k.rangeCount){var N,oe=k.getRangeAt(0),ce=oe.startContainer,ke=oe.startOffset,Xe=(0,$.getModel)(ce),He=[];if(Xe&&(N=Xe.is)!==null&&N!==void 0&&N.call(Xe,"textnode")){var at=Xe.collection;at.forEach(function(dt){if(dt===Xe){var Ot="textnode",tn=dt.get("content");He.push({type:Ot,content:tn.slice(0,ke)}),He.push(st),He.push({type:Ot,content:tn.slice(ke)})}else He.push(dt)});var vt=He.filter(Boolean),jt=vt.indexOf(st);return at.reset(vt,wt),at.at(jt)}}return zt.append(st,wt)}},{key:"onInput",value:function(){var st=this.em,wt="component",zt=["".concat(wt,":update"),"".concat(wt,":input")].join(" ");st&&st.trigger(zt,this.model)}},{key:"disablePropagation",value:function(st){st.stopPropagation()}},{key:"toggleEvents",value:function(st){var wt=this.em,zt=this.model,o=this.$el,p={on:$.on,off:$.off},k=st?"on":"off";wt.setEditing(st?this:0),this.rteEnabled=!!st;var N=[this.el.ownerDocument,document];if(p.off(N,"mousedown",this.onDisable),p[k](N,"mousedown",this.onDisable),wt[k]("toolbar:run:before",this.onDisable),zt&&(zt[k]("removed",this.onDisable),zt.trigger("rte:".concat(st?"enable":"disable"))),o&&o.off("mousedown",this.disablePropagation),o&&o[k]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var oe=this.el;oe;)oe.draggable=!st,(oe=oe.parentNode)&&oe.tagName=="BODY"&&(oe=0)}}]),Ne}(ue.Z);function Rn(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Sn=function(Ce){(0,ee.Z)(F,Ce);var Pe=Rn(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"render",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];return pn.prototype.render.apply(this,Ne),this.el.addEventListener("click",this.prevDef,!0),this}}]),F}(pn);function Fn(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function gn(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Fn(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):Fn(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Wt(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var nn="label",$n=function(Ce){(0,ee.Z)(F,Ce);var Pe=Wt(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return gn(gn({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:nn,tagName:nn,traits:["id","title","for"]})}}]),F}(Ae);function tr(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}$n.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===nn};var Wn=function(Ce){(0,ee.Z)(F,Ce);var Pe=tr(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"span"}}]),F}(Sn);function nr(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function In(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?nr(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):nr(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Hn(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var br="video",qn="yt",Un="vi",gr="ytnc",Bn=function(Ce){return Ce&&Ce!=="0"},fr=function(Ce){(0,ee.Z)(F,Ce);var Pe=Hn(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return In(In({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:br,tagName:br,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})}},{key:"initialize",value:function(G,Ne){this.em=Ne.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),x.prototype.initialize.apply(this,arguments)}},{key:"updateTraits",value:function(){var G,Ne=this.em,st="iframe";switch(this.get("provider")){case qn:case gr:G=this.getYoutubeTraits();break;case Un:G=this.getVimeoTraits();break;default:st="video",G=this.getSourceTraits()}this.set({tagName:st},{silent:1}),this.set({traits:G}),Ne.get("ready")&&Ne.trigger("component:toggled")}},{key:"parseFromSrc",value:function(){var G=this.get("provider"),Ne=this.parseUri(this.get("src")),st=Ne.query;switch(G){case qn:case gr:case Un:this.set("videoId",Ne.pathname.split("/").pop()),st.list&&this.set("list",st.list),Bn(st.autoplay)&&this.set("autoplay",1),Bn(st.loop)&&this.set("loop",1),parseInt(st.controls)===0&&this.set("controls",0),Bn(st.color)&&this.set("color",st.color),st.rel==="0"&&this.set("rel",0),st.modestbranding==="1"&&this.set("modestbranding",1)}}},{key:"updateSrc",value:function(){var G="";switch(this.get("provider")){case qn:G=this.getYoutubeSrc();break;case gr:G=this.getYoutubeNoCookieSrc();break;case Un:G=this.getVimeoSrc()}this.set({src:G})}},{key:"getAttrToHTML",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];var wt=x.prototype.getAttrToHTML.apply(this,Ne),zt=this.get("provider");switch(zt){case qn:case gr:case Un:break;default:this.get("loop")&&(wt.loop="loop"),this.get("autoplay")&&(wt.autoplay="autoplay"),this.get("controls")&&(wt.controls="controls")}return wt}},{key:"getProviderTrait",value:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:qn,name:"Youtube"},{value:gr,name:"Youtube (no cookie)"},{value:Un,name:"Vimeo"}]}}},{key:"getSourceTraits",value:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]}},{key:"getYoutubeTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]}},{key:"getVimeoTraits",value:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]}},{key:"getAutoplayTrait",value:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}}},{key:"getLoopTrait",value:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}}},{key:"getControlsTrait",value:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}}},{key:"getYoutubeSrc",value:function(){var G=this.get("videoId"),Ne=this.get("ytUrl"),st=this.get("list");return Ne+=G+(G.indexOf("?")<0?"?":""),Ne+=st?"&list=".concat(st):"",Ne+=this.get("autoplay")?"&autoplay=1":"",Ne+=this.get("controls")?"":"&controls=0&showinfo=0",Ne+=this.get("loop")?"&loop=1&playlist=".concat(G):"",Ne+=this.get("rel")?"":"&rel=0",Ne+=this.get("modestbranding")?"&modestbranding=1":""}},{key:"getYoutubeNoCookieSrc",value:function(){var G=this.getYoutubeSrc();return G=G.replace(this.get("ytUrl"),this.get("ytncUrl"))}},{key:"getVimeoSrc",value:function(){var G=this.get("viUrl");return G+=this.get("videoId")+"?",G+=this.get("autoplay")?"&autoplay=1":"",G+=this.get("loop")?"&loop=1":"",G+=this.get("controls")?"":"&title=0&portrait=0&badge=0",G+=this.get("color")?"&color="+this.get("color"):""}}]),F}(x);function ir(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}fr.isComponent=function(Ce){var Pe="",F=Ce.tagName,G=Ce.src,Ne=/youtube\.com\/embed/.test(G),st=/youtube-nocookie\.com\/embed/.test(G),wt=/player\.vimeo\.com\/video/.test(G),zt=Ne||st||wt;return((0,$.toLowerCase)(F)==br||(0,$.toLowerCase)(F)=="iframe"&&zt)&&(Pe={type:"video"},G&&(Pe.src=G),zt&&(Ne?Pe.provider=qn:st?Pe.provider=gr:wt&&(Pe.provider=Un))),Pe};var Ir=function(Ce){(0,ee.Z)(F,Ce);var Pe=ir(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"div"}},{key:"events",value:function(){return{}}},{key:"initialize",value:function(G){ue.Z.prototype.initialize.apply(this,arguments);var Ne=this.model,st=["loop","autoplay","controls","color","rel","modestbranding","poster"],wt=st.map(function(zt){return"change:".concat(zt)}).join(" ");this.listenTo(Ne,"change:provider",this.updateProvider),this.listenTo(Ne,"change:src",this.updateSrc),this.listenTo(Ne,wt,this.updateVideo)}},{key:"updateProvider",value:function(){var G=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(G))}},{key:"updateSrc",value:function(){var G=this.model,Ne=this.videoEl;if(Ne){var st=G.get("provider"),wt=G.get("src");switch(st){case"yt":wt=G.getYoutubeSrc();break;case"ytnc":wt=G.getYoutubeNoCookieSrc();break;case"vi":wt=G.getVimeoSrc()}Ne.src=wt}}},{key:"updateVideo",value:function(){var G=this.model.get("provider"),Ne=this.videoEl,st=this.model;switch(G){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:Ne.loop=st.get("loop"),Ne.autoplay=st.get("autoplay"),Ne.controls=st.get("controls"),Ne.poster=st.get("poster")}}},{key:"renderByProvider",value:function(G){var Ne;switch(G){case"yt":Ne=this.renderYoutube();break;case"ytnc":Ne=this.renderYoutubeNoCookie();break;case"vi":Ne=this.renderVimeo();break;default:Ne=this.renderSource()}return this.videoEl=Ne,Ne}},{key:"renderSource",value:function(){var G=document.createElement("video");return G.src=this.model.get("src"),this.initVideoEl(G),G}},{key:"renderYoutube",value:function(){var G=document.createElement("iframe");return G.src=this.model.getYoutubeSrc(),G.frameBorder=0,G.setAttribute("allowfullscreen",!0),this.initVideoEl(G),G}},{key:"renderYoutubeNoCookie",value:function(){var G=document.createElement("iframe");return G.src=this.model.getYoutubeNoCookieSrc(),G.frameBorder=0,G.setAttribute("allowfullscreen",!0),this.initVideoEl(G),G}},{key:"renderVimeo",value:function(){var G=document.createElement("iframe");return G.src=this.model.getVimeoSrc(),G.frameBorder=0,G.setAttribute("allowfullscreen",!0),this.initVideoEl(G),G}},{key:"initVideoEl",value:function(G){G.className=this.ppfx+"no-pointer",G.style.height="100%",G.style.width="100%"}},{key:"render",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];bt.prototype.render.apply(this,Ne),this.updateClasses();var wt=this.model.get("provider");return this.el.appendChild(this.renderByProvider(wt)),this.updateVideo(),this}}]),F}(bt);function hr(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Mn(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?hr(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):hr(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Yt(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Nn="script",sr=function(Ce){(0,ee.Z)(F,Ce);var Pe=Yt(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return Mn(Mn({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:Nn,tagName:Nn,droppable:!1,draggable:!1,layerable:!1})}}]),F}(fe.ZP);function Ln(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}sr.isComponent=function(Ce){if((0,$.toLowerCase)(Ce.tagName)==Nn){var Pe={type:Nn};return Ce.src&&(Pe.src=Ce.src,Pe.onload=Ce.onload),Pe}};var un=function(Ce){(0,ee.Z)(F,Ce);var Pe=Ln(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"script"}},{key:"events",value:function(){return{}}},{key:"render",value:function(){var G=this.model,Ne=this.em,st=G.get("src"),wt=Ne&&Ne.get("scriptCount"),zt=wt||0,o="";if(st){var p=G.get("onload"),k="script".concat(zt),N="script".concat(zt+1),oe="".concat(k,"Start"),ce="".concat(N,"Start");o=`
        var `.concat(k,` = document.createElement('script');
        `).concat(k,`.onload = function() {
          `).concat(p?"".concat(p,`();
`):"",`
          typeof `).concat(ce," == 'function' && ").concat(ce,`();
        };
        `).concat(k,".src = '").concat(st,`';
        function `).concat(oe,"() { document.body.appendChild(").concat(k,`); };
        `).concat(zt?"":"".concat(oe,"();"),`
      `),Ne&&Ne.set("scriptCount",zt+1)}else o=G.__innerHTML();return this.el.innerHTML=o,this.postRender(),this}}]),F}(bt);function cn(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Mr(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?cn(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):cn(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Fr(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Tt="svg",ye=function(Ce){(0,ee.Z)(F,Ce);var Pe=Fr(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return Mr(Mr({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:Tt,tagName:Tt,highlightable:0,resizable:{ratioDefault:1}})}},{key:"getName",value:function(){var G=this.get("tagName"),Ne=this.get("custom-name");return G=G.charAt(0).toUpperCase()+G.slice(1),Ne||G}}]),F}(fe.ZP);function ze(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function xt(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?ze(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):ze(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Vt(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}ye.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===Tt};var $t=function(Ce){(0,ee.Z)(F,Ce);var Pe=Vt(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return xt(xt({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{selectable:!1,hoverable:!1,layerable:!1})}}]),F}(ye);function vn(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}$t.isComponent=function(Ce){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return!!Pe.inSvg};var qt=function(Ce){(0,ee.Z)(F,Ce);var Pe=vn(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"_createElement",value:function(G){return document.createElementNS("http://www.w3.org/2000/svg",G)}}]),F}(ue.Z);function rr(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Jn(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?rr(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):rr(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function kr(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var vr=function(Ce){(0,ee.Z)(F,Ce);var Pe=kr(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return Jn(Jn({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})}},{key:"toHTML",value:function(){var G=this.parent(),Ne=this.get("content");return G&&G.is("script")?Ne:(0,$.escape)(Ne)}}]),F}(fe.ZP);function Ur(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Kr(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}vr.isComponent=function(Ce){var Pe="";return Ce.nodeType===3&&(Pe={type:"textnode",content:Ce.textContent}),Pe};var Br=function(Ce){(0,ee.Z)(F,Ce);var Pe=Kr(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return function(G){for(var Ne=1;Ne<arguments.length;Ne++){var st=arguments[Ne]!=null?arguments[Ne]:{};Ne%2?Ur(Object(st),!0).forEach(function(wt){(0,s.Z)(G,wt,st[wt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(st)):Ur(Object(st)).forEach(function(wt){Object.defineProperty(G,wt,Object.getOwnPropertyDescriptor(st,wt))})}return G}({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this))}},{key:"toHTML",value:function(){return"<!--".concat(this.get("content"),"-->")}}]),F}(vr);function Cr(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}Br.isComponent=function(Ce){if(Ce.nodeType==8)return{tagName:"NULL",type:"comment",content:Ce.textContent}};var Tr=function(Ce){(0,ee.Z)(F,Ce);var Pe=Cr(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"initialize",value:function(){ue.Z.prototype.initialize.apply(this,arguments)}},{key:"_setAttributes",value:function(){}},{key:"renderAttributes",value:function(){}},{key:"updateStatus",value:function(){}},{key:"updateClasses",value:function(){}},{key:"setAttribute",value:function(){}},{key:"updateAttributes",value:function(){}},{key:"initClasses",value:function(){}},{key:"initComponents",value:function(){}},{key:"delegateEvents",value:function(){}},{key:"_createElement",value:function(){return document.createTextNode("")}},{key:"render",value:function(){var G=this.model,Ne=this.el;return G.opt.temporary||(Ne.textContent=G.get("content")),this}}]),F}(ue.Z);function Qn(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Or=function(Ce){(0,ee.Z)(F,Ce);var Pe=Qn(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"_createElement",value:function(){return document.createComment(this.model.get("content"))}}]),F}(Tr);function Vr(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function Wr(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Vr(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):Vr(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Me(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Fe=function(Ce){(0,ee.Z)(F,Ce);var Pe=Me(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",value:function(){return Wr(Wr({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})}},{key:"__postAdd",value:function(){var G=this.em&&this.em.get("UndoManager");return G&&!this.__hasUm&&G.add(this),fe.ZP.prototype.__postAdd.call(this,arguments)}},{key:"__postRemove",value:function(){var G=this.em&&this.em.get("UndoManager");return G&&G.remove(this),fe.ZP.prototype.__postRemove.call(this,arguments)}}]),F}(fe.ZP);function pe(Ce,Pe){var F=Object.keys(Ce);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Ce);Pe&&(G=G.filter(function(Ne){return Object.getOwnPropertyDescriptor(Ce,Ne).enumerable})),F.push.apply(F,G)}return F}function y(Ce){for(var Pe=1;Pe<arguments.length;Pe++){var F=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?pe(Object(F),!0).forEach(function(G){(0,s.Z)(Ce,G,F[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(F)):pe(Object(F)).forEach(function(G){Object.defineProperty(Ce,G,Object.getOwnPropertyDescriptor(F,G))})}return Ce}function Q(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}Fe.isComponent=function(){return!1};var Te="iframe",Ie=function(Ce){(0,ee.Z)(F,Ce);var Pe=Q(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"defaults",get:function(){return y(y({},(0,ae.Z)((0,m.Z)(F.prototype),"defaults",this)),{},{type:Te,tagName:Te,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}}]),F}(fe.ZP);Ie.isComponent=function(Ce){return(0,$.toLowerCase)(Ce.tagName)===Te};var tt=_(9283);function pt(Ce){var Pe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,G=(0,m.Z)(Ce);if(Pe){var Ne=(0,m.Z)(this).constructor;F=Reflect.construct(G,arguments,Ne)}else F=G.apply(this,arguments);return(0,j.Z)(this,F)}}var Pt,Ct=function(Ce){(0,ee.Z)(F,Ce);var Pe=pt(F);function F(){return(0,ne.Z)(this,F),Pe.apply(this,arguments)}return(0,X.Z)(F,[{key:"tagName",value:function(){return"div"}},{key:"initialize",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];ue.Z.prototype.initialize.apply(this,Ne),this.listenTo(this.model,"change:attributes:src",this.updateSrc)}},{key:"updateSrc",value:function(){var G=(0,tt.sE)(this.el,"iframe")[0];G&&(0,tt.FW)(G,{src:this.__getSrc()})}},{key:"render",value:function(){for(var G=arguments.length,Ne=new Array(G),st=0;st<G;st++)Ne[st]=arguments[st];ue.Z.prototype.render.apply(this,Ne);var wt=(0,tt.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(wt),this}},{key:"__getSrc",value:function(){return this.model.getAttributes().src||""}}]),F}(ue.Z),Zt=_(6434),It=(Pt=function(Ce,Pe){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,G){F.__proto__=G}||function(F,G){for(var Ne in G)Object.prototype.hasOwnProperty.call(G,Ne)&&(F[Ne]=G[Ne])},Pt(Ce,Pe)},function(Ce,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function F(){this.constructor=Ce}Pt(Ce,Pe),Ce.prototype=Pe===null?Object.create(Pe):(F.prototype=Pe.prototype,new F)}),Ut=function(){return Ut=Object.assign||function(Ce){for(var Pe,F=1,G=arguments.length;F<G;F++)for(var Ne in Pe=arguments[F])Object.prototype.hasOwnProperty.call(Pe,Ne)&&(Ce[Ne]=Pe[Ne]);return Ce},Ut.apply(this,arguments)},xn=function(Ce,Pe){var F={};for(var G in Ce)Object.prototype.hasOwnProperty.call(Ce,G)&&Pe.indexOf(G)<0&&(F[G]=Ce[G]);if(Ce!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ne=0;for(G=Object.getOwnPropertySymbols(Ce);Ne<G.length;Ne++)Pe.indexOf(G[Ne])<0&&Object.prototype.propertyIsEnumerable.call(Ce,G[Ne])&&(F[G[Ne]]=Ce[G[Ne]])}return F},hn=function(Ce){function Pe(F){var G=Ce.call(this,F,"DomComponents",new de.Z(void 0,{em:F}))||this;for(var Ne in G.componentTypes=[{id:"cell",model:te,view:xe},{id:"row",model:W,view:ie},{id:"table",model:g,view:S},{id:"thead",model:d,view:P},{id:"tbody",model:C,view:K},{id:"tfoot",model:Oe,view:Re},{id:"map",model:Ge,view:Ft},{id:"link",model:Be,view:Sn},{id:"label",model:$n,view:Wn},{id:"video",model:fr,view:Ir},{id:"image",model:x,view:bt},{id:"script",model:sr,view:un},{id:"svg-in",model:$t,view:qt},{id:"svg",model:ye,view:qt},{id:"iframe",model:Ie,view:Ct},{id:"comment",model:Br,view:Or},{id:"textnode",model:vr,view:Tr},{id:"text",model:Ae,view:pn},{id:"wrapper",model:Fe,view:T},{id:"default",model:fe.ZP,view:ue.Z}],G.componentsById={},G.Component=fe.ZP,G.Components=de.Z,G.ComponentsView=V.Z,G.storageKey="components",F&&(G.config.components=F.config.components||G.config.components),_e)Ne in G.config||(G.config[Ne]=_e[Ne]);var st=G.config.pStylePrefix;if(st&&(G.config.stylePrefix=st+G.config.stylePrefix),F){G.config.modal=F.get("Modal")||"",G.config.am=F.get("AssetManager")||"",F.get("Parser").compTypes=G.componentTypes,F.on("change:componentHovered",G.componentHovered,G);var wt=F.get("selected");F.listenTo(wt,"add",function(zt,o,p){return G.selectAdd(wt.getComponent(zt),p)}),F.listenTo(wt,"remove",function(zt,o,p){return G.selectRemove(wt.getComponent(zt),p)})}return G}return It(Pe,Ce),Pe.prototype.load=function(F){var G=this;return this.loadProjectData(F,{onResult:function(Ne){var st=G.getWrapper();if(st||(G.em.get("PageManager").add({},{select:!0}),st=G.getWrapper()),(0,ve.isArray)(Ne))Ne.length&&st.components(Ne);else{var wt=Ne.components,zt=wt===void 0?[]:wt,o=xn(Ne,["components"]);st.set(o),st.components(zt)}}})},Pe.prototype.store=function(){return{}},Pe.prototype.getComponent=function(){var F=this.em.get("PageManager").getSelected(),G=F&&F.getMainFrame();return G&&G.getComponent()},Pe.prototype.getWrapper=function(){return this.getComponent()},Pe.prototype.getComponents=function(){var F=this.getWrapper();return F&&F.get("components")},Pe.prototype.addComponent=function(F,G){return G===void 0&&(G={}),this.getComponents().add(F,G)},Pe.prototype.render=function(){var F;return(F=this.componentView)===null||F===void 0?void 0:F.render().el},Pe.prototype.clear=function(F){F===void 0&&(F={});var G=this.getComponents();return G==null||G.filter(Boolean).forEach(function(Ne){return Ne.remove(F)}),this},Pe.prototype.setComponents=function(F,G){G===void 0&&(G={}),this.clear(G).addComponent(F,G)},Pe.prototype.addType=function(F,G){var Ne=this.em,st=G.model,wt=st===void 0?{}:st,zt=G.view,o=zt===void 0?{}:zt,p=G.isComponent,k=G.extend,N=G.extendView,oe=G.extendFn,ce=oe===void 0?[]:oe,ke=G.extendFnView,Xe=ke===void 0?[]:ke,He=this.getType(F),at=this.getType(k),vt=this.getType(N),jt=at||He||this.getType("default"),dt=jt.model,Ot=vt?vt.view:jt.view,tn=function(mr,yr,Hr){return mr.reduce(function(Gn,An){var Sr=yr[An],Vn=Hr.prototype[An];return Sr&&Vn&&(Gn[An]=function(){for(var er=[],Ar=0;Ar<arguments.length;Ar++)er[Ar]=arguments[Ar];Vn.bind(this).apply(void 0,er),Sr.bind(this).apply(void 0,er)}),Gn},{})};if(typeof wt=="object"){var _n=(0,ve.result)(wt,"defaults");delete wt.defaults,G.model=dt.extend(Ut(Ut({},wt),tn(ce,wt,dt)),{isComponent:!He||at||p?p||function(){return 0}:dt.isComponent}),Object.defineProperty(G.model.prototype,"defaults",{value:Ut(Ut({},(0,ve.result)(dt.prototype,"defaults")||{}),_n||{})})}typeof o=="object"&&(G.view=Ot.extend(Ut(Ut({},o),tn(Xe,o,Ot)))),He?(He.model=G.model,He.view=G.view):(G.id=F,this.componentTypes.unshift(G));var Qt="component:type:".concat(He?"update":"add");return Ne==null||Ne.trigger(Qt,He||G),this},Pe.prototype.getType=function(F){for(var G=this.componentTypes,Ne=0;Ne<G.length;Ne++)if(G[Ne].id==F)return G[Ne]},Pe.prototype.removeType=function(F){var G=this.componentTypes,Ne=this.getType(F);if(Ne){var st=G.indexOf(Ne);return G.splice(st,1),Ne}},Pe.prototype.getTypes=function(){return this.componentTypes},Pe.prototype.selectAdd=function(F,G){var Ne=this;G===void 0&&(G={}),F&&(F.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(st){return Ne.em.trigger(st,F,G)}))},Pe.prototype.selectRemove=function(F,G){var Ne=this;G===void 0&&(G={}),F&&(this.em,F.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(st){return Ne.em.trigger(st,F,G)}))},Pe.prototype.componentHovered=function(){var F=this.em,G=F.get("componentHovered"),Ne=F.previous("componentHovered"),st="hovered";Ne&&Ne.get("status")==st&&Ne.set({status:"",state:""}),G&&(0,ve.isEmpty)(G.get("status"))&&G.set("status",st)},Pe.prototype.getShallowWrapper=function(){var F=this.shallow,G=this.em;if(!F&&G){var Ne=G.shallow;if(!Ne)return;var st=Ne.get("DomComponents");if(st.componentTypes=this.componentTypes,F=st.getWrapper()){var wt=[fe.GN,fe.xH].join(" ");F.on(wt,(0,ve.debounce)(function(){return F==null?void 0:F.components("")},100))}this.shallow=F}return F},Pe.prototype.canMove=function(F,G,Ne){var st=Ne||Ne===0?Ne:null,wt={result:!1,reason:0,target:F,source:null};if(!G||!F)return wt;var zt=G.toHTML?G:null;if(!zt){var o=this.getShallowWrapper();zt=o==null?void 0:o.append(G)[0]}if(wt.source=zt,!zt)return wt;var p=zt.get("draggable");if((0,ve.isFunction)(p))p=!!p(zt,F,st);else{var k=F.getEl();p=(0,ve.isArray)(p)?p.join(","):p,p=(0,ve.isString)(p)?k==null?void 0:k.matches(p):p}if(!p)return Ut(Ut({},wt),{reason:1});var N=F.get("droppable");(0,ve.isFunction)(N)?N=!!N(zt,F,st):N===!1&&F.isInstanceOf("text")&&zt.get("textable")?N=!0:(k=zt.getEl(),N=(0,ve.isArray)(N)?N.join(","):N,N=(0,ve.isString)(N)?k==null?void 0:k.matches(N):N);var oe=[F].concat(F.parents()).indexOf(zt)>-1;return Ut(Ut({},wt),!N||oe?{reason:2}:{result:!0})},Pe.prototype.allById=function(){return this.componentsById},Pe.prototype.getById=function(F){return this.componentsById[F]||null},Pe.prototype.destroy=function(){var F,G=this.allById();Object.keys(G).forEach(function(Ne){return G[Ne]&&G[Ne].remove()}),(F=this.componentView)===null||F===void 0||F.remove(),[this.em,this.componentsById,this.componentView].forEach(function(Ne){return{}})},Pe}(Zt.O);const kn=hn},8588:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ae});var ve=_(9050),_e=_(6434),fe=_(9283);const de={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var ue,ne=_(7904),X=(ue=function($,R){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,L){Z.__proto__=L}||function(Z,L){for(var te in L)Object.prototype.hasOwnProperty.call(L,te)&&(Z[te]=L[te])},ue($,R)},function($,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");function Z(){this.constructor=$}ue($,R),$.prototype=R===null?Object.create(R):(Z.prototype=R.prototype,new Z)});const ee=function($){function R(){return $!==null&&$.apply(this,arguments)||this}return X(R,$),R.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},R.prototype.open=function(){this.set("open",!0)},R.prototype.close=function(){this.set("open",!1)},R}(ne.Z);var j=_(3059),m=function(){var $=function(R,Z){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,te){L.__proto__=te}||function(L,te){for(var xe in te)Object.prototype.hasOwnProperty.call(te,xe)&&(L[xe]=te[xe])},$(R,Z)};return function(R,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function L(){this.constructor=R}$(R,Z),R.prototype=Z===null?Object.create(Z):(L.prototype=Z.prototype,new L)}}(),b=function(){return b=Object.assign||function($){for(var R,Z=1,L=arguments.length;Z<L;Z++)for(var te in R=arguments[Z])Object.prototype.hasOwnProperty.call(R,te)&&($[te]=R[te]);return $},b.apply(this,arguments)};const T=function($){function R(Z){var L=$.call(this,Z)||this,te=L.model;return L.listenTo(te,"change:open",L.updateOpen),L.listenTo(te,"change:title",L.updateTitle),L.listenTo(te,"change:content",L.updateContent),L}return m(R,$),R.prototype.template=function(Z){var L=Z.pfx,te=Z.ppfx,xe=Z.content,he=Z.title;return'<div class="'.concat(L,"dialog ").concat(te,"one-bg ").concat(te,`two-color">
      <div class="`).concat(L,`header">
        <div class="`).concat(L,'title">').concat(he,`</div>
        <div class="`).concat(L,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(L,`content">
        <div id="`).concat(L,'c">').concat(xe,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(L,'collector" style="display: none"></div>')},R.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},R.prototype.onClick=function(Z){this.config.backdrop&&Z.target===this.el&&this.hide()},R.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},R.prototype.getContent=function(){var Z=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(Z,"content #").concat(Z,"c"))),this.$content},R.prototype.getTitle=function(Z){return Z===void 0&&(Z={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),Z.$?this.$title:this.$title.get(0)},R.prototype.updateContent=function(){var Z=this.getContent(),L=Z.children(),te=this.getCollector(),xe=this.model.get("content");L.length&&te.append(L),Z.empty().append(xe)},R.prototype.updateTitle=function(){var Z=this.getTitle({$:!0});Z&&Z.empty().append(this.model.get("title"))},R.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},R.prototype.hide=function(){this.model.close()},R.prototype.show=function(){this.model.open()},R.prototype.updateAttr=function(Z){var L=this,te=L.pfx,xe=L.$el,he=L.el,A=[].slice.call(he.attributes).map(function(z){return z.name});xe.removeAttr(A.join(" ")),xe.attr(b(b({},Z||{}),{class:"".concat(te,"container ").concat(Z&&Z.class||"").trim()}))},R.prototype.render=function(){var Z=this.$el,L=this.model.toJSON();return L.pfx=this.pfx,L.ppfx=this.ppfx,Z.html(this.template(L)),this.updateAttr(),this.updateOpen(),this},R}(j.Z);var V=function(){var $=function(R,Z){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,te){L.__proto__=te}||function(L,te){for(var xe in te)Object.prototype.hasOwnProperty.call(te,xe)&&(L[xe]=te[xe])},$(R,Z)};return function(R,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function L(){this.constructor=R}$(R,Z),R.prototype=Z===null?Object.create(Z):(L.prototype=Z.prototype,new L)}}(),s=function($){function R(Z){var L=$.call(this,Z,"Modal",de)||this;return L.model=new ee(L),L.model.on("change:open",function(te,xe){Z.trigger("modal:".concat(xe?"open":"close"))}),L.model.on("change",(0,ve.debounce)(function(){var te=L._evData(),xe=L.config.custom;(0,ve.isFunction)(xe)&&xe(te),Z.trigger("modal",te)},0)),L}return V(R,$),R.prototype._evData=function(){var Z=this,L=this.getTitle(),te=this.getContent(),xe=this.model.attributes;return{open:xe.open,attributes:xe.attributes,title:(0,ve.isString)(L)?(0,fe.rw)(L):L,content:(0,ve.isString)(te)?(0,fe.rw)(te):te.get?te.get(0):te,close:function(){return Z.close()}}},R.prototype.postRender=function(Z){var L=Z.model.config.el||Z.el,te=this.render();te&&(L==null||L.appendChild(te))},R.prototype.open=function(Z){Z===void 0&&(Z={});var L=Z.attributes||{};return Z.title&&this.setTitle(Z.title),Z.content&&this.setContent(Z.content),this.model.set("attributes",L),this.model.open(),this.modal&&this.modal.updateAttr(L),this},R.prototype.close=function(){return this.model.close(),this},R.prototype.onceClose=function(Z){return this.em.once("modal:close",Z),this},R.prototype.onceOpen=function(Z){return this.em.once("modal:open",Z),this},R.prototype.isOpen=function(){return!!this.model.get("open")},R.prototype.setTitle=function(Z){return this.model.set("title",Z),this},R.prototype.getTitle=function(){return this.model.get("title")},R.prototype.setContent=function(Z){return this.model.set("content"," "),this.model.set("content",Z),this},R.prototype.getContent=function(){return this.model.get("content")},R.prototype.getContentEl=function(){var Z;return(Z=this.modal)===null||Z===void 0?void 0:Z.getContent().get(0)},R.prototype.getModel=function(){return this.model},R.prototype.render=function(){var Z;if(!this.config.custom){var L=T.extend(this.config.extend),te=this.modal&&this.modal.el;return this.modal=new L({el:te,model:this.model,config:this.config}),(Z=this.modal)===null||Z===void 0?void 0:Z.render().el}},R.prototype.destroy=function(){var Z;(Z=this.modal)===null||Z===void 0||Z.remove()},R}(_e.Z);const ae=s},7892:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>E,evAll:()=>L,evComponent:()=>he,evCustom:()=>A,evPfx:()=>te,evRoot:()=>xe});var ve=_(9050),_e=_(7904),fe=_(6434),de=_(1163);const ue={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};var ne,X=_(2316),ee=_(2169),j=_(9138),m=(ne=function(O,a){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(c[S]=g[S])},ne(O,a)},function(O,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=O}ne(O,a),O.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}),b=function(O){function a(c){c===void 0&&(c={});var g=O.call(this,c)||this;g.items=[],g.opt=c;var S=c.config||{};g.config=S,g.parentView=c.parentView;var se=S.stylePrefix||"",le=S.pStylePrefix||"",D=g.collection;g.listenTo(D,"add",g.addTo),g.listenTo(D,"reset resetNavigator",g.render),g.listenTo(D,"remove",g.removeChildren),g.className="".concat(se,"layers");var I=S.em;if(S.sortable&&!g.opt.sorter){var C=I.get("Utils");g.opt.sorter=new C.Sorter({container:S.sortContainer||g.el,containerSel:".".concat(g.className),itemSel:".".concat(se,"layer"),ignoreViewChildren:1,onEndMove:function(l,f,h){var u=f.getSourceModel();I.setSelected(u,{forceChange:1}),I.trigger("".concat(j.OA,":end"),h)},avoidSelectOnEnd:1,nested:1,ppfx:le,pfx:se})}return g.$el.data("collection",D),c.parent&&g.$el.data("model",c.parent),g}return m(a,O),a.prototype.removeChildren=function(c){var g=c.viewLayer;g&&(g.remove(),delete c.viewLayer)},a.prototype.addTo=function(c){var g=this.collection.indexOf(c);this.addToCollection(c,null,g)},a.prototype.addToCollection=function(c,g,S){var se=this,le=se.parentView,D=se.opt,I=se.config,C=D.ItemView,l=D.opened,f=D.module,h=g||null,u=new C({ItemView:C,level:D.level,model:c,parentView:le,config:I,sorter:D.sorter,opened:l,module:f}),d=u.render().el;if(h)h.appendChild(d);else if(S!==void 0){var P="before";this.$el.children().length==S&&(S--,P="after"),S<0?this.$el.append(d):this.$el.children().eq(S)[P](d)}else this.$el.append(d);return this.items.push(u),d},a.prototype.remove=function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return X.View.prototype.remove.apply(this,c),this.items.map(function(S){return S.remove()}),this},a.prototype.render=function(){var c=this,g=document.createDocumentFragment(),S=this.el;return S.innerHTML="",this.collection.each(function(se){return c.addToCollection(se,g)}),S.appendChild(g),S.className=this.className,this},a}(X.View);const T=b;var V=function(){var O=function(a,c){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var se in S)Object.prototype.hasOwnProperty.call(S,se)&&(g[se]=S[se])},O(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function g(){this.constructor=a}O(a,c),a.prototype=c===null?Object.create(c):(g.prototype=c.prototype,new g)}}(),s="contentEditable",ae=function(O){function a(c){var g=O.call(this,c)||this;(0,ve.bindAll)(g,"__render"),g.opt=c,g.module=c.module,g.config=c.config||{},g.sorter=c.sorter||"",g.parentView=c.parentView;var S=g,se=S.model,le=S.pfx,D=S.ppfx,I=se.get("type")||"default";return g.className="".concat(le,"layer ").concat(le,"layer__t-").concat(I," no-select ").concat(D,"two-color"),g.inputNameCls="".concat(D,"layer-name"),g.clsTitleC="".concat(le,"layer-title-c"),g.clsTitle="".concat(le,"layer-title"),g.clsCaret="".concat(le,"layer-caret"),g.clsCount="".concat(le,"layer-count"),g.clsMove="".concat(le,"layer-move"),g.clsChildren="".concat(le,"layer-children"),g.clsNoChild="".concat(le,"layer-no-chld"),g.clsEdit="".concat(g.inputNameCls,"--edit"),g.clsNoEdit="".concat(g.inputNameCls,"--no-edit"),g.initComponent(),g}return V(a,O),a.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},a.prototype.template=function(c){var g=this,S=g.pfx,se=g.ppfx,le=g.config,D=g.clsNoEdit,I=g.module,C=g.opt,l=g.em,f=le.hidable,h=I.getComponents(c).length,u=h?"":this.clsNoChild,d="".concat(this.clsTitle," ").concat(u),P="".concat(this.clsTitleC," ").concat(se,"one-bg"),q="".concat(this.inputNameCls," ").concat(D," ").concat(se,"no-app"),K=C.level+1,H="".concat(30+10*K,"px"),w=c.getName(),M=c.getIcon(),J="".concat(S,"layer"),Oe=(l==null?void 0:l.getConfig()).icons,Re=Oe.move,Ye=Oe.eye,Ve=Oe.eyeOff,Se=Oe.chevron;return`
      `.concat(f?'<i class="'.concat(S,`layer-vis" data-toggle-visible>
            <i class="`).concat(S,'layer-vis-on">').concat(Ye,`</i>
            <i class="`).concat(S,'layer-vis-off">').concat(Ve,`</i>
          </i>`):"",`
      <div class="`).concat(P,`">
        <div class="`).concat(d,'" style="padding-left: ').concat(H,`" data-toggle-select>
          <div class="`).concat(S,'layer-title-inn" title="').concat(w,`">
            <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(Se,`</i>
            `).concat(M?'<span class="'.concat(J,'__icon">').concat(M,"</span>"):"",`
            <span class="`).concat(q,'" data-name>').concat(w,`</span>
          </div>
        </div>
      </div>
      <div class="`).concat(this.clsCount,'" data-count>').concat(h||"",`</div>
      <div class="`).concat(this.clsMove,'" data-toggle-move>').concat(Re||"",`</div>
      <div class="`).concat(this.clsChildren,'"></div>')},Object.defineProperty(a.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),a.prototype.initComponent=function(){var c=this,g=this.model,S=this.config.onInit,se=g.components();this.listenTo(se,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(le){return c.listenTo(g,le[0],le[1])}),this.$el.data("model",g),this.$el.data("collection",se),g.viewLayer=this,S.bind(this)({component:g,render:this.__render,listenTo:this.listenTo})},a.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},a.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},a.prototype.updateVisibility=function(){var c=this,g=c.pfx,S=c.model,se=c.module,le="".concat(g,"layer-hidden"),D=se.isVisible(S)?"removeClass":"addClass";this.$el[D](le),this.getVisibilityEl()[D]("".concat(g,"layer-off"))},a.prototype.toggleVisibility=function(c){c==null||c.stopPropagation();var g=this.module,S=this.model;g.setVisible(S,!g.isVisible(S))},a.prototype.handleEdit=function(c){c==null||c.stopPropagation();var g=this,S=g.em,se=g.$el,le=g.clsNoEdit,D=g.clsEdit,I=this.getInputName();I[s]="true",I.focus(),document.execCommand("selectAll",!1),S.setEditing(!0),se.find(".".concat(this.inputNameCls)).removeClass(le).addClass(D)},a.prototype.handleEditKey=function(c){c.stopPropagation(),((0,de.isEscKey)(c)||(0,de.isEnterKey)(c))&&this.handleEditEnd(c)},a.prototype.handleEditEnd=function(c){c==null||c.stopPropagation();var g=this,S=g.em,se=g.$el,le=g.clsNoEdit,D=g.clsEdit,I=this.getInputName(),C=I.textContent;I.scrollLeft=0,I[s]="false",this.setName(C,{component:this.model,propName:"custom-name"}),S.setEditing(!1),se.find(".".concat(this.inputNameCls)).addClass(le).removeClass(D),this.updateName()},a.prototype.setName=function(c,g){var S=g.propName;this.model.set(S,c)},a.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},a.prototype.updateOpening=function(){var c=this,g=c.$el,S=c.model,se=c.pfx,le="open",D="".concat(se,"layer-open"),I=this.getCaret();this.module.isOpen(S)?(g.addClass(le),I.addClass(D)):(g.removeClass(le),I.removeClass(D))},a.prototype.toggleOpening=function(c){var g=this.model,S=this.module;c==null||c.stopImmediatePropagation(),g.get("components").length&&S.setOpen(g,!S.isOpen(g))},a.prototype.handleSelect=function(c){c==null||c.stopPropagation();var g=this.module,S=this.model;g.setLayerData(S,{selected:!0},{event:c})},a.prototype.handleHover=function(c){c==null||c.stopPropagation();var g=this.module,S=this.model;g.setLayerData(S,{hovered:!0})},a.prototype.handleHoverOut=function(c){c==null||c.stopPropagation();var g=this.module,S=this.model;g.setLayerData(S,{hovered:!1})},a.prototype.startSort=function(c){c.stopPropagation();var g=this.em,S=this.sorter;c.button&&c.button!==0||S&&(S.onStart=function(se){return g.trigger("".concat(j.OA,":start"),se)},S.onMoveClb=function(se){return g.trigger(j.OA,se)},S.startSort(c.target))},a.prototype.updateStatus=function(){ee.Z.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},a.prototype.checkChildren=function(){var c=this,g=c.model,S=c.clsNoChild,se=c.$el,le=c.module,D=le.getComponents(g).length,I=se.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),C=this.cnt;C||(C=se.children("[data-count]").get(0),this.cnt=C),I[D?"removeClass":"addClass"](S),C&&(C.innerHTML=D||""),!D&&le.setOpen(g,!1)},a.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},a.prototype.setRoot=function(c){c=(0,ve.isString)(c)?this.em.getWrapper().find(c)[0]:c;var g=(0,de.getModel)(c,0);g&&(this.stopListening(),this.model=g,this.initComponent(),this._rendered&&this.render())},a.prototype.updateLayerable=function(){(this.parentView||this).render()},a.prototype.__clearItems=function(){var c;(c=this.items)===null||c===void 0||c.remove()},a.prototype.remove=function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return X.View.prototype.remove.apply(this,c),this.__clearItems(),this},a.prototype.render=function(){var c=this,g=c.model,S=c.config,se=c.pfx,le=c.ppfx,D=c.opt,I=c.sorter;this.__clearItems();var C=D.opened,l=D.module,f=D.ItemView,h=!l.__isLayerable(g),u=this.$el.empty(),d=D.level+1;delete this.inputName,this.items=new T({ItemView:f,collection:g.get("components"),config:S,sorter:I,opened:C,parentView:this,parent:g,level:d,module:l});var P=this.items.render().$el;return S.showWrapper||d!==1?(u.html(this.template(g)),u.find(".".concat(this.clsChildren)).append(P)):u.append(P),g.get("draggable")&&S.sortable||u.children(".".concat(this.clsMove)).remove(),!l.isVisible(g)&&(this.className+=" ".concat(se,"hide")),h&&(this.className+=" ".concat(le,"hidden")),u.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},a.prototype.__render=function(){var c=this,g=c.model,S=c.config,se={component:g,el:c.el};S.onRender.bind(this)(se),this.em.trigger("layer:render",se)},a}(X.View);const $=ae;var R=function(){var O=function(a,c){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var se in S)Object.prototype.hasOwnProperty.call(S,se)&&(g[se]=S[se])},O(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function g(){this.constructor=a}O(a,c),a.prototype=c===null?Object.create(c):(g.prototype=c.prototype,new g)}}(),Z=function(){return Z=Object.assign||function(O){for(var a,c=1,g=arguments.length;c<g;c++)for(var S in a=arguments[c])Object.prototype.hasOwnProperty.call(a,S)&&(O[S]=a[S]);return O},Z.apply(this,arguments)},L="layer",te="".concat(L,":"),xe="".concat(te,"root"),he="".concat(te,"component"),A="".concat(te,"custom"),z={all:L,root:xe,component:he,custom:A},B={mediaText:""},W=["open","status","locked","custom-name","components","classes"].map(function(O){return"component:update:".concat(O)}).join(" "),ie=function(O){function a(c){var g=O.call(this,c,"LayerManager",ue)||this;return g.events=z,(0,ve.bindAll)(g,"componentChanged","__onRootChange","__onComponent"),g.model=new _e.Z(g,{opened:{}}),g.config.stylePrefix=g.config.pStylePrefix,g}return R(a,O),a.prototype.onLoad=function(){var c=this,g=this,S=g.em,se=g.config,le=g.model;le.listenTo(S,"component:selected",this.componentChanged),le.on("change:root",this.__onRootChange),le.listenTo(S,W,this.__onComponent),this.componentChanged(),le.listenToOnce(S,"load",function(){c.setRoot(se.root),c.__appendTo()})},a.prototype.setRoot=function(c){var g=this.em.getWrapper(),S=(0,de.isComponent)(c)?c:g;return c&&(0,ve.isString)(c)&&(0,de.hasWin)()&&(S=g.find(c)[0]||g),this.model.set("root",S),S},a.prototype.getRoot=function(){return this.model.get("root")},a.prototype.getComponents=function(c){var g=this;return c.components().filter(function(S){return g.__isLayerable(S)})},a.prototype.setOpen=function(c,g){c.set("open",g)},a.prototype.isOpen=function(c){return!!c.get("open")},a.prototype.setVisible=function(c,g){var S="__prev-display",se=c.getStyle(B),le=se.display;if(g){var D=c.get(S);delete se.display,D&&(se.display=D,c.unset(S))}else le&&c.set(S,le),se.display="none";c.setStyle(se,B),this.updateLayer(c),this.em.trigger("component:toggled")},a.prototype.isVisible=function(c){return(g=c.getStyle(B))===void 0&&(g={}),(g.display||"").trim().indexOf("none")!==0;var g},a.prototype.setLocked=function(c,g){c.set("locked",g)},a.prototype.isLocked=function(c){return c.get("locked")},a.prototype.setName=function(c,g){c.set("custom-name",g)},a.prototype.getName=function(c){return c.getName()},a.prototype.getLayerData=function(c){var g=c.get("status");return{name:c.getName(),open:this.isOpen(c),selected:g==="selected",hovered:g==="hovered",visible:this.isVisible(c),locked:this.isLocked(c),components:this.getComponents(c)}},a.prototype.setLayerData=function(c,g,S){var se;S===void 0&&(S={});var le=this.em,D=this.config,I=g.open,C=g.selected,l=g.hovered,f=g.visible,h=g.locked,u=g.name,d=Z({fromLayers:!0},S);if((0,de.isDef)(I)&&this.setOpen(c,I),(0,de.isDef)(C))if(C){le.setSelected(c,d);var P=D.scrollCanvas;P&&((se=c.views)===null||se===void 0||se.forEach(function(q){return q.scrollIntoView(P)}))}else le.removeSelected(c,d);(0,de.isDef)(l)&&D.showHover&&(l?le.setHovered(c,d):le.setHovered(null,d)),(0,de.isDef)(f)&&f!==this.isVisible(c)&&this.setVisible(c,f),(0,de.isDef)(h)&&this.setLocked(c,h),(0,de.isDef)(u)&&this.setName(c,u)},a.prototype.componentChanged=function(c,g){var S;if(g===void 0&&(g={}),!g.fromLayers){var se=this.em,le=this.config.scrollLayers,D=this.model.get("opened"),I=se.getSelected(),C=I==null?void 0:I.parent();for(var l in D)D[l].set("open",!1),delete D[l];for(;C;)C.set("open",!0),D[C.cid]=C,C=C.parent();if(I&&le){var f=(S=I.viewLayer)===null||S===void 0?void 0:S.el;f==null||f.scrollIntoView(le)}}},a.prototype.getAll=function(){return this.view},a.prototype.render=function(){var c,g,S=this.config,se=this.model,le=$.extend(S.extend);return this.view=new le({el:(c=this.view)===null||c===void 0?void 0:c.el,ItemView:le,level:0,config:S,opened:se.get("opened"),model:this.getRoot(),module:this}),(g=this.view)===null||g===void 0?void 0:g.render().el},a.prototype.destroy=function(){var c;(c=this.view)===null||c===void 0||c.remove()},a.prototype.__onRootChange=function(){var c,g=this.getRoot();(c=this.view)===null||c===void 0||c.setRoot(g),this.em.trigger(xe,g)},a.prototype.__onComponent=function(c){this.updateLayer(c)},a.prototype.__isLayerable=function(c){var g=c.get("tagName");return(!this.config.hideTextnode||!c.is("textnode")&&g!=="br")&&c.get("layerable")},a.prototype.__trgCustom=function(c){this.em.trigger(this.events.custom,{container:c.container,root:this.getRoot()})},a.prototype.updateLayer=function(c,g){this.em.trigger(he,c,g)},a}(fe.Z);const E=ie},7948:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>ie,evAll:()=>s,evPageAdd:()=>L,evPageAddBefore:()=>te,evPageRemove:()=>xe,evPageRemoveBefore:()=>he,evPageSelect:()=>$,evPageSelectBefore:()=>R,evPageUpdate:()=>Z,evPfx:()=>ae});var ve,_e=_(9050),fe=_(1163),de=_(7904),ue=_(6434),ne=_(2316),X=_(3560),ee=(ve=function(E,O){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])},ve(E,O)},function(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function a(){this.constructor=E}ve(E,O),E.prototype=O===null?Object.create(O):(a.prototype=O.prototype,new a)});const j=function(E){function O(a,c){c===void 0&&(c={});var g=E.call(this,a,c)||this,S=c.em,se={};g.em=S,a.frames||(se.component=a.component,se.styles=a.styles,["component","styles"].map(function(C){return g.unset(C)}));var le=a.frames||[se],D=new X.Z(S.get("Canvas"),le);D.page=g,g.set("frames",D),!g.getId()&&g.set("id",S==null?void 0:S.get("PageManager")._createId());var I=S==null?void 0:S.get("UndoManager");return I==null||I.add(D),g}return ee(O,E),O.prototype.defaults=function(){return{frames:[],_undo:!0}},O.prototype.onRemove=function(){this.getFrames().reset()},O.prototype.getFrames=function(){return this.get("frames")},O.prototype.getId=function(){return this.id},O.prototype.getName=function(){return this.get("name")},O.prototype.setName=function(a){return this.set({name:a})},O.prototype.getAllFrames=function(){return this.getFrames().models||[]},O.prototype.getMainFrame=function(){return this.getFrames().at(0)},O.prototype.getMainComponent=function(){var a=this.getMainFrame();return a==null?void 0:a.getComponent()},O.prototype.toJSON=function(a){a===void 0&&(a={});var c=ne.Model.prototype.toJSON.call(this,a),g=(0,_e.result)(this,"defaults");return(0,_e.forEach)(c,function(S,se){se.indexOf("_")===0&&delete c[se]}),(0,_e.forEach)(g,function(S,se){c[se]===S&&delete c[se]}),c},O}(ne.Model);var m=function(){var E=function(O,a){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(c[S]=g[S])},E(O,a)};return function(O,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=O}E(O,a),O.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),b=function(){return b=Object.assign||function(E){for(var O,a=1,c=arguments.length;a<c;a++)for(var g in O=arguments[a])Object.prototype.hasOwnProperty.call(O,g)&&(E[g]=O[g]);return E},b.apply(this,arguments)};const T=function(E){function O(a,c){var g=E.call(this,a)||this;return g.on("reset",g.onReset),g.on("remove",g.onRemove),g.model=function(S,se){return se===void 0&&(se={}),new j(S,b(b({},se),{em:c}))},g}return m(O,E),O.prototype.onReset=function(a,c){var g,S=this;(g=c==null?void 0:c.previousModels)===null||g===void 0||g.map(function(se){return S.onRemove(se)})},O.prototype.onRemove=function(a){a==null||a.onRemove()},O}(ne.Collection);var V=function(){var E=function(O,a){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,g){c.__proto__=g}||function(c,g){for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(c[S]=g[S])},E(O,a)};return function(O,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=O}E(O,a),O.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),s="page",ae="".concat(s,":"),$="".concat(ae,"select"),R="".concat($,":before"),Z="".concat(ae,"update"),L="".concat(ae,"add"),te="".concat(L,":before"),xe="".concat(ae,"remove"),he="".concat(xe,":before"),A="change:selected",z="main",B={all:s,select:$,selectBefore:R,update:Z,add:L,addBefore:te,remove:xe,removeBefore:he},W=function(E){function O(a){var c=E.call(this,a,"PageManager",new T([],a),B)||this;c.storageKey="pages",(0,_e.bindAll)(c,"_onPageChange");var g=new de.Z({_undo:!0});return c.model=g,c.pages.on("reset",function(S){return S.at(0)&&c.select(S.at(0))}),c.pages.on("all",c.__onChange,c),g.on(A,c._onPageChange),c}return V(O,E),Object.defineProperty(O.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),O.prototype.__onChange=function(a,c,g,S){var se=S||g;this.em.trigger(s,{event:a,page:c,options:se})},O.prototype.onLoad=function(){var a,c=this,g=this.pages,S={silent:!0};g.add(((a=this.config.pages)===null||a===void 0?void 0:a.map(function(le){return new j(le,{em:c.em,config:c.config})}))||[],S);var se=g.length?this.getMain():this.add({type:z},S);se&&this.select(se,S)},O.prototype._onPageChange=function(a,c,g){var S=this.em,se=S.get("LayerManager"),le=c.getMainComponent();se&&le&&se.setRoot(le),S.trigger($,c,a.previous("selected")),this.__onChange(A,c,g)},O.prototype.postLoad=function(){var a=this.em,c=this.model,g=a.get("UndoManager");g&&g.add(c),g&&g.add(this.pages)},O.prototype.add=function(a,c){var g=this;c===void 0&&(c={});var S=this.em;a.id=a.id||this._createId();var se=function(){var le=g.pages.add(new j(a,{em:g.em,config:g.config}),c);return c.select&&g.select(le),le};return!c.silent&&S.trigger(te,a,se,c),!c.abort&&se()},O.prototype.remove=function(a,c){var g=this;c===void 0&&(c={});var S=this.em,se=(0,_e.isString)(a)?this.get(a):a,le=function(){return se&&g.pages.remove(se,c),se};return!c.silent&&S.trigger(he,se,le,c),!c.abort&&le()},O.prototype.get=function(a){return this.pages.filter(function(c){return c.get(c.idAttribute)===a})[0]},O.prototype.getMain=function(){var a=this.pages;return a.filter(function(c){return c.get("type")===z})[0]||a.at(0)},O.prototype.getAllWrappers=function(){var a=this.getAll();return(0,_e.unique)((0,_e.flatten)(a.map(function(c){return c.getAllFrames().map(function(g){return g.getComponent()})})))},O.prototype.select=function(a,c){c===void 0&&(c={});var g=(0,_e.isString)(a)?this.get(a):a;return g&&(this.em.trigger(R,g,c),this.model.set("selected",g,c)),this},O.prototype.getSelected=function(){return this.model.get("selected")},O.prototype.destroy=function(){var a=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(c){return a[c]=0})},O.prototype.store=function(){return this.getProjectData()},O.prototype.load=function(a){return this.loadProjectData(a,{all:this.pages,reset:!0})},O.prototype._createId=function(){var a,c=this.getAll().length+16,g=this.getAllMap();do a=(0,fe.createId)(c);while(g[a]);return a},O}(ue.O);const ie=W},899:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>C});var ve=_(6434),_e="sw-visibility",fe="export-template",de="open-sm",ue="open-tm",ne="open-layers",X="open-blocks",ee="fullscreen",j="preview";const m={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:_e,className:"fa fa-square-o",command:_e,context:_e,attributes:{title:"View components"}},{id:j,className:"fa fa-eye",command:j,context:j,attributes:{title:"Preview"}},{id:ee,className:"fa fa-arrows-alt",command:ee,context:ee,attributes:{title:"Fullscreen"}},{id:fe,className:"fa fa-code",command:fe,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:de,className:"fa fa-paint-brush",command:de,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:ue,className:"fa fa-cog",command:ue,togglable:0,attributes:{title:"Settings"}},{id:ne,className:"fa fa-bars",command:ne,togglable:0,attributes:{title:"Open Layer Manager"}},{id:X,className:"fa fa-th-large",command:X,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300};var b,T=_(7116),V=_(7904),s=(b=function(l,f){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,u){h.__proto__=u}||function(h,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(h[d]=u[d])},b(l,f)},function(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=l}b(l,f),l.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)});const ae=function(l){function f(h,u){var d=l.call(this,h,u)||this;return d.get("buttons").length&&d.set("buttons",new Z(d.module,d.get("buttons"))),d}return s(f,l),f.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(f.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"active",{get:function(){return this.get("active")},set:function(h){this.set("active",h)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),f}(V.Z);var $=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),R=function(l){function f(h,u){return l.call(this,h,u,ae)||this}return $(f,l),f.prototype.deactivateAllExceptOne=function(h,u){this.forEach(function(d,P){d!==h&&(d.set("active",!1),u&&d.get("buttons").length&&d.get("buttons").deactivateAllExceptOne(h,u))})},f.prototype.deactivateAll=function(h,u){var d=h||"";this.forEach(function(P){P.get("context")==d&&P!==u&&P.set("active",!1,{fromCollection:!0})})},f.prototype.disableAllButtons=function(h){var u=h||"";this.forEach(function(d,P){d.get("context")==u&&d.set("disable",!0)})},f.prototype.disableAllButtonsExceptOne=function(h,u){this.forEach(function(d,P){d!==h&&(d.set("disable",!0),u&&d.get("buttons").length&&d.get("buttons").disableAllButtonsExceptOne(h,u))})},f}(T.Z);const Z=R;R.prototype.model=ae;var L=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();const te=function(l){function f(h,u){var d=l.call(this,h,u)||this,P=d.get("buttons")||[];return d.buttons=new Z(h,P),d}return L(f,l),f.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(f.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(h){this.set("buttons",h)},enumerable:!1,configurable:!0}),f}(V.Z);var xe=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),he=function(l){function f(h,u){return l.call(this,h,u,te)||this}return xe(f,l),f}(T.Z);const A=he;he.prototype.model=te;var z=_(3059),B=_(9050),W=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),ie=function(){return ie=Object.assign||function(l){for(var f,h=1,u=arguments.length;h<u;h++)for(var d in f=arguments[h])Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d]);return l},ie.apply(this,arguments)};const E=function(l){function f(h){var u=l.call(this,h)||this,d=u,P=d.model,q=d.em,K=d.pfx,H=d.ppfx,w=P.className,M=P.attributes,J=M.command,Oe=M.listen;if(u.id=K+P.get("id"),u.activeCls="".concat(K,"active ").concat(H,"four-color"),u.disableCls="".concat(H,"disabled"),u.btnsVisCls="".concat(K,"visible"),u.className=K+"btn"+(w?" "+w:""),u.listenTo(P,"change",u.render),u.listenTo(P,"change:active updateActive",u.updateActive),u.listenTo(P,"checkActive",u.checkActive),u.listenTo(P,"change:bntsVis",u.updateBtnsVis),u.listenTo(P,"change:attributes",u.updateAttributes),u.listenTo(P,"change:className",u.updateClassName),u.listenTo(P,"change:disable",u.updateDisable),q&&(0,B.isString)(J)&&Oe){var Re={fromListen:!0};u.listenTo(q,"run:".concat(J),function(){return P.set("active",!0,Re)}),u.listenTo(q,"stop:".concat(J),function(){return P.set("active",!1,Re)})}return q&&q.get&&(u.commands=q.get("Commands")),u}return W(f,l),f.prototype.tagName=function(){return this.model.get("tagName")},f.prototype.events=function(){return{click:"clicked"}},f.prototype.updateClassName=function(){var h=this.model,u=this.pfx,d=h.className,P=h.get("attributes").class,q="".concat(P||""," ").concat(u,"btn ").concat(d||"");this.$el.attr("class",q.trim())},f.prototype.updateAttributes=function(){var h=this,u=h.em,d=h.model,P=h.$el,q=d.get("attributes")||{},K=u&&u.t&&u.t("panels.buttons.titles.".concat(d.id));P.attr(q),K&&P.attr({title:K}),this.updateClassName()},f.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},f.prototype.updateActive=function(h,u,d){var P;d===void 0&&(d={});var q=this,K=q.model,H=q.commands,w=q.$el,M=q.activeCls,J=d.fromCollection,Oe=d.fromListen,Re=K.get("context"),Ye=K.get("options"),Ve=K.command,Se={};Ve&&(H&&(0,B.isString)(Ve)?Se=H.get(Ve)||{}:(0,B.isFunction)(Ve)?Se=H.create({run:Ve}):Ve!==null&&(0,B.isObject)(Ve)&&(Se=H.create(Ve)),K.active?(!J&&((P=K.collection)===null||P===void 0||P.deactivateAll(Re,K)),K.set("active",!0,{silent:!0}).trigger("checkActive"),!Oe&&H.runCommand(Se,ie(ie({},Ye),{sender:K})),Se.noStop&&K.set("active",!1)):(w.removeClass(M),!Oe&&H.stopCommand(Se,ie(ie({},Ye),{sender:K,force:1}))))},f.prototype.updateDisable=function(){var h=this.disableCls,u=this.model.disable;this.$el[u?"addClass":"removeClass"](h)},f.prototype.checkActive=function(){var h=this,u=h.model,d=h.$el,P=h.activeCls;u.active?d.addClass(P):d.removeClass(P)},f.prototype.clicked=function(h){var u=this.model;u.get("bntsVis")||u.disable||!u.command||this.toggleActive()},f.prototype.toggleActive=function(){var h=this.model,u=this.em,d=h.active,P=h.togglable;d&&!P||(h.active=!d,d?h.runDefaultCommand&&u.runDefault():h.stopDefaultCommand&&u.stopDefault())},f.prototype.render=function(){var h=this.model,u=h.get("label"),d=this.$el;return!h.get("el")&&d.empty(),this.updateAttributes(),u&&d.append(u),this.checkActive(),this.updateDisable(),this},f}(z.Z);var O=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();const a=function(l){function f(h){var u=l.call(this,{collection:h})||this;return u.listenTo(u.collection,"add",u.addTo),u.listenTo(u.collection,"reset remove",u.render),u.className=u.pfx+"buttons",u}return O(f,l),f.prototype.addTo=function(h){this.addToCollection(h)},f.prototype.addToCollection=function(h,u){var d=u||null,P=h.get("el"),q=new E({el:P,model:h}).render().el;return d?d.appendChild(q):this.$el.append(q),q},f.prototype.render=function(){var h=this,u=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(d){return h.addToCollection(d,u)}),this.$el.append(u),this.$el.attr("class",(0,B.result)(this,"className")),this},f}(z.Z);var c=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}(),g=function(){return g=Object.assign||function(l){for(var f,h=1,u=arguments.length;h<u;h++)for(var d in f=arguments[h])Object.prototype.hasOwnProperty.call(f,d)&&(l[d]=f[d]);return l},g.apply(this,arguments)},S=function(l){function f(h){var u=l.call(this,{model:h,el:h.get("el")})||this;return u.className=u.pfx+"panel",u.id=u.pfx+h.get("id"),u.listenTo(h,"change:appendContent",u.appendContent),u.listenTo(h,"change:content",u.updateContent),u.listenTo(h,"change:visible",u.toggleVisible),h.view=u,u}return c(f,l),f.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},f.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},f.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},f.prototype.attributes=function(){return this.model.get("attributes")},f.prototype.initResize=function(){var h=this.em,u=h?h.get("Editor"):"",d=this.model.get("resizable");if(u&&d){var P,q,K,H=d===!0?[1,1,1,1]:d,w=H.length,M=0;w==2?(P=H[0],K=H[0],q=H[1],M=H[1]):w==4&&(P=H[0],q=H[1],K=H[2],M=H[3]);var J=u.Utils.Resizer.init(g({tc:P,cr:q,bc:K,cl:M,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:u.getConfig().stylePrefix,onEnd:function(){h&&h.trigger("change:canvasOffset")},posFetcher:function(Oe,Re){var Ye=Re.target,Ve=Oe.style,Se=J.getConfig(),je=Se.keyWidth,x=Se.keyHeight,re=Oe.getBoundingClientRect(),we=Ye=="container",De=Ve[je],Ge=Ve[x];return{left:0,top:0,width:De&&!we?parseFloat(De):re.width,height:Ge&&!we?parseFloat(Ge):re.height}}},d));J.blur=function(){},J.focus(this.el)}},f.prototype.render=function(){var h=this.model.buttons,u=this.$el,d=this.ppfx,P="".concat(this.className," ").concat(this.id," ").concat(d,"one-bg ").concat(d,"two-color");if(u.addClass(P),this.toggleVisible(),h.length){var q=new a(h);u.append(q.render().el)}return u.append(this.model.get("content")),this},f}(z.Z);const se=S;var le=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();const D=function(l){function f(h){var u=l.call(this,{collection:h})||this;return u.listenTo(h,"add",u.addTo),u.listenTo(h,"reset",u.render),u.listenTo(h,"remove",u.onRemove),u.className=u.pfx+"panels",u}return le(f,l),f.prototype.onRemove=function(h){var u=h.view;u&&u.remove()},f.prototype.addTo=function(h){this.addToCollection(h)},f.prototype.addToCollection=function(h,u){var d=u||null,P=(this.config,h.get("el")),q=new se(h),K=q.render().el,H=h.get("appendTo");return P||(H?document.querySelector(H).appendChild(K):d?d.appendChild(K):this.$el.append(K)),q.initResize(),K},f.prototype.render=function(){var h=this,u=this.$el,d=document.createDocumentFragment();return u.empty(),this.collection.each(function(P){return h.addToCollection(P,d)}),u.append(d),u.attr("class",this.className),this},f}(z.Z);var I=function(){var l=function(f,h){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},l(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}l(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}}();const C=function(l){function f(h){var u=l.call(this,h,"Panels",m)||this;for(var d in u.panels=new A(u,u.config.defaults),m)d in u.config||(u.config[d]=m[d]);return u}return I(f,l),f.prototype.getPanels=function(){return this.panels},f.prototype.getPanelsEl=function(){return this.PanelsViewObj&&this.PanelsViewObj.el},f.prototype.addPanel=function(h){return this.panels.add(h)},f.prototype.removePanel=function(h){return this.panels.remove(h)},f.prototype.getPanel=function(h){var u=this.panels.where({id:h});return u.length?u[0]:null},f.prototype.addButton=function(h,u){var d=this.getPanel(h);return d?d.get("buttons").add(u):null},f.prototype.removeButton=function(h,u){var d=this.getPanel(h);return d&&d.get("buttons").remove(u)},f.prototype.getButton=function(h,u){var d=this.getPanel(h);if(d){var P=d.get("buttons").where({id:u});return P.length?P[0]:null}return null},f.prototype.render=function(){return this.PanelsViewObj&&this.PanelsViewObj.remove(),this.PanelsViewObj=new D(this.panels),this.PanelsViewObj.render().el},f.prototype.active=function(){this.getPanels().each(function(h){h.get("buttons").each(function(u){u.get("active")&&u.trigger("updateActive")})})},f.prototype.disableButtons=function(){this.getPanels().each(function(h){h.get("buttons").each(function(u){u.get("disable")&&u.trigger("change:disable")})})},f.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},f}(ve.Z)},3463:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{default:()=>l,evAdd:()=>S,evAll:()=>c,evCustom:()=>I,evPfx:()=>g,evRemove:()=>le,evRemoveBefore:()=>D,evState:()=>C,evUpdate:()=>se});var ve=_(9050),_e=_(1163),fe=_(9714),de=_(2316);const ue={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:!1,custom:!1};var ne,X=_(5963),ee=_(966),j=(ne=function(f,h){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var P in d)Object.prototype.hasOwnProperty.call(d,P)&&(u[P]=d[P])},ne(f,h)},function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function u(){this.constructor=f}ne(f,h),f.prototype=h===null?Object.create(h):(u.prototype=h.prototype,new u)}),m=function(f){function h(){return f!==null&&f.apply(this,arguments)||this}return j(h,f),h.prototype.defaults=function(){return{name:"",label:""}},h.prototype.getName=function(){return this.get("name")},h.prototype.getLabel=function(){return this.get("label")||this.getName()},h}(de.Model);const b=m;m.prototype.idAttribute="name";var T=_(7539),V=function(){var f=function(h,u){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,P){d.__proto__=P}||function(d,P){for(var q in P)Object.prototype.hasOwnProperty.call(P,q)&&(d[q]=P[q])},f(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function d(){this.constructor=h}f(h,u),h.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),s=function(f,h){return Object.defineProperty?Object.defineProperty(f,"raw",{value:h}):f.raw=h,f},ae="contentEditable";const $=function(f){function h(u){u===void 0&&(u={});var d=f.call(this,u)||this,P=u.config||{};return d.config=P,d.module=u.module,d.coll=u.coll||null,d.pfx=P.stylePrefix||"",d.ppfx=P.pStylePrefix||"",d.em=P.em,d.listenTo(d.model,"change:active",d.updateStatus),d}return V(h,f),h.prototype.template=function(){var u=this,d=u.pfx,P=u.model,q=u.config,K=P.get("label")||"";return(0,T.Z)(R||(R=s([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),d,d,d,K,d,d,q.iconTagRemove)},h.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},h.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},h.prototype.startEditTag=function(){var u=this.em,d=this.getInputEl();d[ae]="true",d.focus(),u&&u.setEditing(1)},h.prototype.endEditTag=function(){var u=this.model,d=this.getInputEl(),P=d.textContent,q=this.em,K=q&&q.get("SelectorManager");if(d[ae]="false",q&&q.setEditing(0),K){var H=K.escapeName(P);K.get(H)?d.innerText=u.get("label"):u.set({name:H,label:P})}},h.prototype.changeStatus=function(){var u=this.model;u.set("active",!u.get("active"))},h.prototype.removeTag=function(){this.module.removeSelected(this.model)},h.prototype.updateStatus=function(){var u=this,d=u.model,P=u.$el,q=u.config,K=q.iconTagOn,H=q.iconTagOff,w=P.find("[data-tag-status]");d.get("active")?(w.html(K),P.removeClass("opac50")):(w.html(H),P.addClass("opac50"))},h.prototype.render=function(){var u=this.pfx,d=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(u,"tag ").concat(d,"three-bg")),this.updateStatus(),this},h}(de.View);var R,Z=function(){var f=function(h,u){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,P){d.__proto__=P}||function(d,P){for(var q in P)Object.prototype.hasOwnProperty.call(P,q)&&(d[q]=P[q])},f(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function d(){this.constructor=h}f(h,u),h.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),L=function(f,h){return Object.defineProperty?Object.defineProperty(f,"raw",{value:h}):f.raw=h,f};const te=function(f){function h(u){u===void 0&&(u={});var d=f.call(this,u)||this;d.config=u.config||{},d.pfx=d.config.stylePrefix||"",d.ppfx=d.config.pStylePrefix||"",d.className=d.pfx+"tags",d.stateInputId=d.pfx+"states",d.stateInputC=d.pfx+"input-c",d.states=d.config.states||[];var P=d.config.em,q=d.collection;d.target=P;var K=P.get("SelectorManager");return d.module=K,d.em=P,d.componentChanged=(0,ve.debounce)(d.componentChanged.bind(d),0),d.checkSync=(0,ve.debounce)(d.checkSync.bind(d),0),d.listenTo(P,"component:toggled component:update:classes",d.componentChanged),d.listenTo(P,"styleManager:update",d.componentChanged),d.listenTo(P,"component:update:classes change:state",d.__handleStateChange),d.listenTo(P,"styleable:change change:device",d.checkSync),d.listenTo(q,"add",d.addNew),d.listenTo(q,"reset",d.renderClasses),d.listenTo(q,"remove",d.tagRemoved),d.listenTo(K.getAll(),K.events.state,(0,ve.debounce)(function(){return d.renderStates()},0)),d.delegateEvents(),d}return Z(h,f),h.prototype.template=function(u){var d=u.labelInfo,P=u.labelHead,q=u.iconSync,K=u.iconAdd,H=u.pfx,w=u.ppfx;return(0,T.Z)(xe||(xe=L([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),H,H,H,H,P,H,H,H,w,w,w,H,w,w,H,w,H,H,H,H,H,K,H,H,q,H,H,d,H)},h.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},h.prototype.syncStyle=function(){var u,d=this.em,P=this.getTarget(),q=d.get("CssComposer"),K=this.getCommonSelectors({opts:{noDisabled:1}}),H=d.get("state"),w=d.getCurrentMedia(),M=[],J=q.get(K,H,w)||q.add(K,H,w);this.getTargets().forEach(function(Oe){var Re=q.getIdRule(Oe.getId(),{state:H,mediaText:w});u=Re.getStyle(),Re.setStyle({}),M.push(Re)}),u&&J.addStyle(u),d.trigger("component:toggled"),d.trigger("component:sync-style",{component:P,selectors:K,mediaText:w,rule:J,ruleComponents:M,state:H})},h.prototype.tagRemoved=function(u){this.updateStateVis()},h.prototype.addNew=function(u){this.addToClasses(u)},h.prototype.startNewTag=function(){var u,d;(u=this.$addBtn)===null||u===void 0||u.css({display:"none"}),(d=this.$input)===null||d===void 0||d.show().focus()},h.prototype.endNewTag=function(){var u,d;(u=this.$addBtn)===null||u===void 0||u.css({display:""}),(d=this.$input)===null||d===void 0||d.hide().val("")},h.prototype.onInputKeyUp=function(u){var d;u.keyCode===13?(u.preventDefault(),this.addNewTag((d=this.$input)===null||d===void 0?void 0:d.val())):u.keyCode===27&&this.endNewTag()},h.prototype.checkStates=function(){var u=this.em.getState(),d=this.getStates();d&&d.val(u)},h.prototype.componentChanged=function(u){var d=(u===void 0?{}:u).targets;this.updateSelection(d)},h.prototype.updateSelection=function(u){var d=u||this.getTargets(),P=[];return(d=(0,ve.isArray)(d)?d:[d])&&d.length&&(P=this.getCommonSelectors({targets:d}),this.checkSync({validSelectors:P})),this.collection.reset(P),this.updateStateVis(d),this.module.__trgCustom(),P},h.prototype.getCommonSelectors=function(u){var d=u===void 0?{}:u,P=d.targets,q=d.opts,K=q===void 0?{}:q,H=P||this.getTargets();return this.module.__getCommonSelectors(H,K)},h.prototype._commonSelectors=function(){for(var u,d=[],P=0;P<arguments.length;P++)d[P]=arguments[P];return(u=this.module).__common.apply(u,d)},h.prototype.checkSync=function(){var u,d=this,P=d.$btnSyncEl,q=d.config,K=d.collection,H=this.getTarget();if(H&&q.componentFirst&&K.length){var w=H.getStyle();u=!(0,ve.isEmpty)(w)}P&&P[u?"show":"hide"]()},h.prototype.getTarget=function(){return this.target.getSelected()},h.prototype.getTargets=function(){return this.target.getSelectedAll()},h.prototype.updateStateVis=function(u){var d=this.em,P=d&&d.getConfig().avoidInlineStyle,q=this.collection.length||P?"":"none";this.getStatesC().css("display",q),this.updateSelector(u)},h.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},h.prototype.updateSelector=function(u){var d=this,P=this.el.querySelector("[data-selected]"),q=[],K=u||this.getTargets();(K=(0,ve.isArray)(K)?K:[K]).forEach(function(H){return q.push(d.__getName(H))}),P&&(P.innerHTML=q.join(", ")),this.checkStates()},h.prototype.__getName=function(u){var d,P=this,q=P.pfx,K=P.config,H=P.em,w=K.selectedName,M=K.componentFirst;if((0,ve.isString)(u))d=(0,T.Z)(he||(he=L(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),q,u);else{var J=u==null?void 0:u.getSelectors();if(!J)return"";var Oe=J.getStyleable(),Re=H.get("state"),Ye=u.getId?(0,T.Z)(A||(A=L(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),q,u.getName(),q,u.getId()):"";d=(d=this.collection.getFullString(Oe))?(0,T.Z)(z||(z=L(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),q,d):u.get("selectorsAdd")||Ye,d=M&&Ye?Ye:d,d+=Re?(0,T.Z)(B||(B=L(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),q,Re):"",d=w?w({result:d,state:Re,target:u}):d}return d&&'<span class="'.concat(q,'sel">').concat(d,"</span>")},h.prototype.stateChanged=function(u){var d=this.em,P=u.target.value;d.set("state",P)},h.prototype.addNewTag=function(u){var d=u.trim();d&&(this.module.addSelected({label:d}),this.endNewTag())},h.prototype.addToClasses=function(u,d){var P=d,q=this.getClasses(),K=new $({model:u,config:this.config,coll:this.collection,module:this.module}).render().el;return P?P.appendChild(K):q.append(K),K},h.prototype.renderClasses=function(){var u=this,d=document.createDocumentFragment(),P=this.getClasses();P.empty(),this.collection.each(function(q){return u.addToClasses(q,d)}),P.append(d)},h.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},h.prototype.getStates=function(){if(!this.$states){var u=this.$el.find("[data-states]");this.$states=u[0]&&u}return this.$states},h.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},h.prototype.renderStates=function(){var u=this.module,d=this.em,P=d.t("selectorManager.emptyState"),q=u.getStates().map(function(H){var w=d.t("selectorManager.states.".concat(H.id))||H.getLabel()||H.id;return'<option value="'.concat(H.id,'">').concat(w,"</option>")}).join(""),K=this.getStates();K&&K.html('<option value="">'.concat(P,"</option>").concat(q)),this.checkStates()},h.prototype.render=function(){var u=this,d=u.em,P=u.pfx,q=u.ppfx,K=u.config,H=u.$el,w=u.el,M=K.render,J={iconSync:K.iconSync,iconAdd:K.iconAdd,labelHead:d.t("selectorManager.label"),labelInfo:d.t("selectorManager.selected"),ppfx:q,pfx:P,el:w};H.html(this.template(J));var Oe=M&&M(J);return Oe&&Oe!==w&&H.empty().append(Oe),this.$input=H.find("[data-input]"),this.$addBtn=H.find("[data-add]"),this.$classes=H.find("#"+P+"tags-c"),this.$btnSyncEl=H.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),H.attr("class","".concat(this.className," ").concat(q,"one-bg ").concat(q,"two-color")),this},h}(de.View);var xe,he,A,z,B,W=function(){var f=function(h,u){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,P){d.__proto__=P}||function(d,P){for(var q in P)Object.prototype.hasOwnProperty.call(P,q)&&(d[q]=P[q])},f(h,u)};return function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function d(){this.constructor=h}f(h,u),h.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}}(),ie=function(){return ie=Object.assign||function(f){for(var h,u=1,d=arguments.length;u<d;u++)for(var P in h=arguments[u])Object.prototype.hasOwnProperty.call(h,P)&&(f[P]=h[P]);return f},ie.apply(this,arguments)},E=function(f,h,u){if(u||arguments.length===2)for(var d,P=0,q=h.length;P<q;P++)!d&&P in h||(d||(d=Array.prototype.slice.call(h,0,P)),d[P]=h[P]);return f.concat(d||Array.prototype.slice.call(h))},O=function(f){return(0,ve.isString)(f)&&f[0]=="#"},a=function(f){return(0,ve.isString)(f)&&f[0]=="."},c="selector",g="".concat(c,":"),S="".concat(g,"add"),se="".concat(g,"update"),le="".concat(g,"remove"),D="".concat(le,":before"),I="".concat(g,"custom"),C="".concat(g,"state");const l=function(f){function h(){var u=f!==null&&f.apply(this,arguments)||this;return u.name="SelectorManager",u.Selector=X.Z,u.Selectors=ee.Z,u.events={all:c,update:se,add:S,remove:le,removeBefore:D,state:C,custom:I},u.__update=(0,ve.debounce)(function(){u.__trgCustom()},0),u}return W(h,f),h.prototype.init=function(u){var d=this;u===void 0&&(u={}),this.__initConfig(ue,u);var P=this.getConfig(),q=this.em,K=P.pStylePrefix;return K&&(P.stylePrefix=K+P.stylePrefix),this.all=new ee.Z(P.selectors),this.selected=new ee.Z([],{em:q,config:P}),this.states=new de.Collection(P.states.map(function(H){return new b(H)}),{model:b}),this.model=new de.Model({cFirst:P.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),q.on("change:state",function(H,w){return q.trigger(C,w)}),this.model.on("change:cFirst",function(H,w){return q.trigger("selector:type",w)}),this.model.listenTo(q,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type",function(){return d.__update()}),this},h.prototype.__trgCustom=function(u){this.em.trigger(this.events.custom,this.__customData(u))},h.prototype.__customData=function(u){u===void 0&&(u={});var d=u.container;return{states:this.getStates(),selected:this.getSelected(),container:d}},h.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},h.prototype.select=function(u,d){d===void 0&&(d={});var P=Array.isArray(u)?u:[u],q=this.em.get("StyleManager").select(P,d),K=this.selectorTags,H=q.filter(function(w){return w}).map(function(w){return(0,_e.isComponent)(w)||(0,_e.isRule)(w)&&!w.get("selectorsAdd")?w:w.getSelectorsString()});return K&&K.componentChanged({targets:H}),this},h.prototype.addSelector=function(u,d,P){d===void 0&&(d={}),P===void 0&&(P={});var q=ie({},d);(0,ve.isObject)(u)?q=u:q.name=u,O(q.name)?(q.name=q.name.substr(1),q.type=X.Z.TYPE_ID):a(q.name)&&(q.name=q.name.substr(1)),q.label&&!q.name&&(q.name=this.escapeName(q.label));var K=q.name,H=this.getConfig(),w=this.getAll(),M=this.em,J=K?this.get(K,q.type):w.where(q)[0];if(!J){var Oe=q instanceof X.Z?q:new X.Z(q,ie(ie({},P),{config:H,em:M}));return w.add(Oe,P)}return J},h.prototype.getSelector=function(u,d){return d===void 0&&(d=X.Z.TYPE_CLASS),O(u)?(u=u.substr(1),d=X.Z.TYPE_ID):a(u)&&(u=u.substr(1)),this.getAll().where({name:u,type:d})[0]},h.prototype.add=function(u,d){var P=this;d===void 0&&(d={});var q=(0,ve.isString)(u)?{}:d;return(0,ve.isArray)(u)?u.map(function(K){return P.addSelector(K,d,q)}):this.addSelector(u,d,q)},h.prototype.addClass=function(u){var d=this,P=[];return(0,ve.isString)(u)&&(u=u.trim().split(" ")),u.forEach(function(q){return P.push(d.addSelector(q))}),P},h.prototype.get=function(u,d){var P=this;if((0,ve.isArray)(u)){var q=[];return u.map(function(K){return P.getSelector(K)}).filter(function(K){return K}).forEach(function(K){return q.indexOf(K)<0&&q.push(K)}),q}return this.getSelector(u,d)||null},h.prototype.remove=function(u,d){return this.__remove(u,d)},h.prototype.setState=function(u){return this.em.setState(u),this},h.prototype.getState=function(){return this.em.getState()},h.prototype.getStates=function(){return E([],this.states.models,!0)},h.prototype.setStates=function(u,d){return this.states.reset(u.map(function(P){return new b(P)}),d)},h.prototype.getSelected=function(){return this.__getCommon()},h.prototype.addSelected=function(u){var d=this.add(u);this.em.getSelectedAll().forEach(function(P){P.getSelectors().add(d)})},h.prototype.removeSelected=function(u){this.em.getSelectedAll().forEach(function(d){!u.get("protected")&&d&&d.getSelectors().remove(u)})},h.prototype.getSelectedTargets=function(){return this.em.get("StyleManager").getSelectedAll()},h.prototype.setComponentFirst=function(u){this.getConfig().componentFirst=u,this.model.set({cFirst:u})},h.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},h.prototype.escapeName=function(u){var d=this.getConfig().escapeName;return d?d(u):X.Z.escapeName(u)},h.prototype.render=function(u){this.em;var d=this.selectorTags,P=this.getConfig(),q=d&&d.el;return this.selected.reset(u),this.selectorTags=new te({el:q,collection:this.selected,module:this,config:P}),this.selectorTags.render().el},h.prototype.destroy=function(){var u=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),u==null||u.remove(),this.selectorTags=void 0},h.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},h.prototype.__getCommonSelectors=function(u,d){d===void 0&&(d={});var P=u.map(function(q){return q.getSelectors&&q.getSelectors().getValid(d)}).filter(Boolean);return this.__common.apply(this,P)},h.prototype.__common=function(){for(var u=this,d=[],P=0;P<arguments.length;P++)d[P]=arguments[P];return d.length?d.length===1?d[0]:d.length===2?d[0].filter(function(q){return d[1].indexOf(q)>=0}):d.slice(1).reduce(function(q,K){return u.__common(q,K)},d[0]):[]},h}(fe.Z)},5963:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ee});var ve,_e=_(9050),fe=_(2316),de=(ve=function(j,m){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&(b[V]=T[V])},ve(j,m)},function(j,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function b(){this.constructor=j}ve(j,m),j.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}),ue=1,ne=2,X=function(j){function m(b,T){T===void 0&&(T={});var V=j.call(this,b,T)||this,s=T.config,ae=s===void 0?{}:s,$=V.get("name"),R=V.get("label");$?R||V.set("label",$):V.set("name",R);var Z=V.get("name"),L=ae.escapeName,te=L?L(Z):m.escapeName(Z);return V.set("name",te),V.em=T.em,V}return de(m,j),m.prototype.defaults=function(){return{name:"",label:"",type:ue,active:!0,private:!1,protected:!1,_undo:!0}},m.prototype.isId=function(){return this.get("type")===ne},m.prototype.isClass=function(){return this.get("type")===ue},m.prototype.getFullName=function(b){b===void 0&&(b={});var T=b.escape,V=this.get("name"),s="";switch(this.get("type")){case ue:s=".";break;case ne:s="#"}return s+(T?T(V):V)},m.prototype.toString=function(){return this.getFullName()},m.prototype.getLabel=function(){return this.get("label")},m.prototype.setLabel=function(b){return this.set("label",b)},m.prototype.getActive=function(){return this.get("active")},m.prototype.setActive=function(b){return this.set("active",b)},m.prototype.toJSON=function(b){b===void 0&&(b={});var T=this.em,V=fe.Model.prototype.toJSON.call(this,[b]),s=(0,_e.result)(this,"defaults");if(T&&T.getConfig().avoidDefaults){(0,_e.forEach)(s,function($,R){V[R]===$&&delete V[R]}),V.label===V.name&&delete V.label;var ae=(0,_e.keys)(V).length;ae===1&&V.name&&(V=V.name),ae===2&&V.name&&V.type&&(V=this.getFullName())}return V},m.escapeName=function(b){return"".concat(b).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")},m.TYPE_CLASS=ue,m.TYPE_ID=ne,m}(fe.Model);const ee=X;X.prototype.idAttribute="name"},966:(gt,Ze,_)=>{_.d(Ze,{Z:()=>ee});var ve,_e=_(9050),fe=_(2316),de=_(5963),ue=(ve=function(j,m){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var V in T)Object.prototype.hasOwnProperty.call(T,V)&&(b[V]=T[V])},ve(j,m)},function(j,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function b(){this.constructor=j}ve(j,m),j.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}),ne=function(j,m){return j.reduce(function(b,T,V){return b.concat(ne(j.slice(V+1),"".concat(m).concat(T)))},[m])},X=function(j){function m(){return j!==null&&j.apply(this,arguments)||this}return ue(m,j),m.prototype.modelId=function(b){return"".concat(b.name,"_").concat(b.type||de.Z.TYPE_CLASS)},m.prototype.getStyleable=function(){return(0,_e.filter)(this.models,function(b){return b.get("active")&&!b.get("private")})},m.prototype.getValid=function(b){var T=(b===void 0?{}:b).noDisabled;return(0,_e.filter)(this.models,function(V){return!V.get("private")}).filter(function(V){return T?V.get("active"):1})},m.prototype.getFullString=function(b,T){T===void 0&&(T={});var V=[];return(b||this).forEach(function(s){return V.push(s.getFullName(T))}),T.sort&&V.sort(),V.join("").trim()},m.prototype.getFullName=function(b){b===void 0&&(b={});var T=b.combination,V=b.array,s=[],ae=this.map(function($){return $.getFullName(b)}).sort();return T?ae.forEach(function($,R){s=s.concat(ne(ae.slice(R+1),$))}):s=ae,V?s:T?s.join(","):s.join("")},m}(fe.Collection);const ee=X;X.prototype.model=de.Z},7539:(gt,Ze,_)=>{_.d(Ze,{Z:()=>_e});var ve=_(1163);function _e(fe){for(var de=[],ue=1;ue<arguments.length;ue++)de[ue-1]=arguments[ue];var ne=fe.raw;return ne.reduce(function(X,ee,j){var m=de[j-1],b=ne[j-1];return Array.isArray(m)?m=m.join(""):b&&b.slice(-1)==="$"?X=X.slice(0,-1):m=(0,ve.escape)(m),X+m+ee})}},1163:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{appendStyles:()=>b,buildBase64UrlFromSvg:()=>u,camelCase:()=>R,capitalize:()=>D,createId:()=>h,deepMerge:()=>W,escape:()=>B,find:()=>z,getElRect:()=>E,getElement:()=>te,getGlobal:()=>ne,getKeyChar:()=>c,getKeyCode:()=>a,getModel:()=>ie,getPointerEvent:()=>O,getUiClass:()=>m,getUnitFromValue:()=>ae,getViewEl:()=>l,hasDnd:()=>L,hasWin:()=>ue,isCommentNode:()=>he,isComponent:()=>I,isDef:()=>de,isEmptyObj:()=>le,isEnterKey:()=>S,isEscKey:()=>g,isObject:()=>se,isRule:()=>C,isTaggableNode:()=>A,isTextNode:()=>xe,matches:()=>j,normalizeFloat:()=>Z,off:()=>s,on:()=>V,setViewEl:()=>f,shallowDiff:()=>T,toLowerCase:()=>X,upFirst:()=>$});var ve=_(9050),_e=function(){return _e=Object.assign||function(d){for(var P,q=1,K=arguments.length;q<K;q++)for(var H in P=arguments[q])Object.prototype.hasOwnProperty.call(P,H)&&(d[H]=P[H]);return d},_e.apply(this,arguments)},fe=function(d,P,q){if(q||arguments.length===2)for(var K,H=0,w=P.length;H<w;H++)!K&&H in P||(K||(K=Array.prototype.slice.call(P,0,H)),K[H]=P[H]);return d.concat(K||Array.prototype.slice.call(P))},de=function(d){return d!==void 0},ue=function(){return typeof window!="undefined"},ne=function(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:_.g},X=function(d){return(d||"").toLowerCase()},ee=ue()?window.Element.prototype:{},j=ee.matches||ee.webkitMatchesSelector||ee.mozMatchesSelector||ee.msMatchesSelector,m=function(d,P){var q=d.getConfig(),K=q.stylePrefix;return[q.customUI&&"".concat(K,"cui"),P].filter(function(H){return H}).join(" ")},b=function(d,P){P===void 0&&(P={});var q=(0,ve.isArray)(d)?fe([],d,!0):[d];if(q.length){var K=q.shift();if(K&&(!P.unique||!document.querySelector('link[href="'.concat(K,'"]')))){var H=document.head,w=document.createElement("link");w.href=K,w.rel="stylesheet",P.prepand?H.insertBefore(w,H.firstChild):H.appendChild(w)}b(q)}},T=function(d,P){var q={},K=(0,ve.keys)(P);for(var H in d)if(d.hasOwnProperty(H)){var w=d[H],M=P[H];K.indexOf(H)>=0?w!==M&&(q[H]=M):q[H]=null}for(var H in P)P.hasOwnProperty(H)&&(0,ve.isUndefined)(d[H])&&(q[H]=P[H]);return q},V=function(d,P,q,K){var H=P.split(/\s+/);d=d instanceof Array?d:[d];for(var w=function(J){d.forEach(function(Oe){return Oe&&Oe.addEventListener(H[J],q,K)})},M=0;M<H.length;++M)w(M)},s=function(d,P,q,K){var H=P.split(/\s+/);d=d instanceof Array?d:[d];for(var w=function(J){d.forEach(function(Oe){return Oe&&Oe.removeEventListener(H[J],q,K)})},M=0;M<H.length;++M)w(M)},ae=function(d){return d.replace(parseFloat(d),"")},$=function(d){return d[0].toUpperCase()+d.toLowerCase().slice(1)},R=function(d){return d.replace(/-./g,function(P){return P[1].toUpperCase()})},Z=function(d,P,q){P===void 0&&(P=1),q===void 0&&(q=0);var K=0;if(isNaN(d))return q;if(d=parseFloat(d),Math.floor(d)!==d){var H=P.toString().split(".")[1];K=H?H.length:0}return K?parseFloat(d.toFixed(K)):d},L=function(d){return"draggable"in document.createElement("i")&&(d?d.get("Config").nativeDnD:1)},te=function(d){return(0,ve.isElement)(d)||xe(d)?d:d&&d.getEl?d.getEl():void 0},xe=function(d){return d&&d.nodeType===3},he=function(d){return d&&d.nodeType===8},A=function(d){return d&&!xe(d)&&!he(d)},z=function(d,P){var q=null;return d.some(function(K,H){return P(K,H,d)?(q=K,1):0}),q},B=function(d){return d===void 0&&(d=""),"".concat(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},W=function(){for(var d=[],P=0;P<arguments.length;P++)d[P]=arguments[P];for(var q=_e({},d[0]),K=1;K<d.length;K++){var H=_e({},d[K]);for(var w in H){var M=q[w],J=H[w];se(M)&&se(J)?q[w]=W(M,J):q[w]=J}}return q},ie=function(d,P){var q=d;return!P&&d&&d.__cashData?q=d.__cashData.model:(0,ve.isElement)(d)&&(q=P(d).data("model")),q},E=function(d){var P,q={top:0,left:0,width:0,height:0};if(!d)return q;if(xe(d)){var K=document.createRange();K.selectNode(d),P=K.getBoundingClientRect(),K.detach()}return P||(d.getBoundingClientRect?d.getBoundingClientRect():q)},O=function(d){return d.touches&&d.touches[0]?d.touches[0]:d},a=function(d){return d.which||d.keyCode},c=function(d){return String.fromCharCode(a(d))},g=function(d){return a(d)===27},S=function(d){return a(d)===13},se=function(d){return d!==null&&!Array.isArray(d)&&typeof d=="object"},le=function(d){return Object.keys(d).length<=0},D=function(d){return d&&d.charAt(0).toUpperCase()+d.substring(1)},I=function(d){return d&&d.toHTML},C=function(d){return d&&d.toCSS},l=function(d){return d.__gjsv},f=function(d,P){d.__gjsv=P},h=function(d){d===void 0&&(d=16);for(var P="",q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",K=q.length,H=0;H<d;H++)P+=q.charAt(Math.floor(Math.random()*K));return P},u=function(d){if(d&&d.substr(0,4)==="<svg"){var P="";return ue()?P=window.btoa(d):typeof Buffer!="undefined"&&(P=Buffer.from(d,"utf8").toString("base64")),P?"data:image/svg+xml;base64,".concat(P):d}return d}},2828:(gt,Ze,_)=>{var ve={"./CanvasClear":7202,"./CanvasClear.js":7202,"./CanvasMove":327,"./CanvasMove.js":327,"./CommandAbstract":238,"./CommandAbstract.js":238,"./ComponentDelete":5820,"./ComponentDelete.js":5820,"./ComponentDrag":6694,"./ComponentDrag.js":6694,"./ComponentEnter":1947,"./ComponentEnter.js":1947,"./ComponentExit":3888,"./ComponentExit.js":3888,"./ComponentNext":5883,"./ComponentNext.js":5883,"./ComponentPrev":7508,"./ComponentPrev.js":7508,"./ComponentStyleClear":8769,"./ComponentStyleClear.js":8769,"./CopyComponent":2213,"./CopyComponent.js":2213,"./DeleteComponent":5049,"./DeleteComponent.js":5049,"./ExportTemplate":3775,"./ExportTemplate.js":3775,"./Fullscreen":58,"./Fullscreen.js":58,"./MoveComponent":8658,"./MoveComponent.js":8658,"./OpenAssets":9617,"./OpenAssets.js":9617,"./OpenBlocks":5821,"./OpenBlocks.js":5821,"./OpenLayers":3452,"./OpenLayers.js":3452,"./OpenStyleManager":2840,"./OpenStyleManager.js":2840,"./OpenTraitManager":8644,"./OpenTraitManager.js":8644,"./PasteComponent":560,"./PasteComponent.js":560,"./Preview":4944,"./Preview.js":4944,"./Resize":7538,"./Resize.js":7538,"./SelectComponent":2620,"./SelectComponent.js":2620,"./SelectPosition":8463,"./SelectPosition.js":8463,"./ShowOffset":7994,"./ShowOffset.js":7994,"./SwitchVisibility":8352,"./SwitchVisibility.js":8352};function _e(de){var ue=fe(de);return _(ue)}function fe(de){if(!_.o(ve,de)){var ue=new Error("Cannot find module '"+de+"'");throw ue.code="MODULE_NOT_FOUND",ue}return ve[de]}_e.keys=function(){return Object.keys(ve)},_e.resolve=fe,gt.exports=_e,_e.id=2828},7061:(gt,Ze,_)=>{var ve=_(8698).default;function _e(){gt.exports=_e=function(){return fe},gt.exports.__esModule=!0,gt.exports.default=gt.exports;var fe={},de=Object.prototype,ue=de.hasOwnProperty,ne=typeof Symbol=="function"?Symbol:{},X=ne.iterator||"@@iterator",ee=ne.asyncIterator||"@@asyncIterator",j=ne.toStringTag||"@@toStringTag";function m(O,a,c){return Object.defineProperty(O,a,{value:c,enumerable:!0,configurable:!0,writable:!0}),O[a]}try{m({},"")}catch{m=function(a,c,g){return a[c]=g}}function b(O,a,c,g){var S=a&&a.prototype instanceof s?a:s,se=Object.create(S.prototype),le=new W(g||[]);return se._invoke=function(D,I,C){var l="suspendedStart";return function(f,h){if(l==="executing")throw new Error("Generator is already running");if(l==="completed"){if(f==="throw")throw h;return E()}for(C.method=f,C.arg=h;;){var u=C.delegate;if(u){var d=A(u,C);if(d){if(d===V)continue;return d}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(l==="suspendedStart")throw l="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);l="executing";var P=T(D,I,C);if(P.type==="normal"){if(l=C.done?"completed":"suspendedYield",P.arg===V)continue;return{value:P.arg,done:C.done}}P.type==="throw"&&(l="completed",C.method="throw",C.arg=P.arg)}}}(O,c,le),se}function T(O,a,c){try{return{type:"normal",arg:O.call(a,c)}}catch(g){return{type:"throw",arg:g}}}fe.wrap=b;var V={};function s(){}function ae(){}function $(){}var R={};m(R,X,function(){return this});var Z=Object.getPrototypeOf,L=Z&&Z(Z(ie([])));L&&L!==de&&ue.call(L,X)&&(R=L);var te=$.prototype=s.prototype=Object.create(R);function xe(O){["next","throw","return"].forEach(function(a){m(O,a,function(c){return this._invoke(a,c)})})}function he(O,a){function c(S,se,le,D){var I=T(O[S],O,se);if(I.type!=="throw"){var C=I.arg,l=C.value;return l&&ve(l)=="object"&&ue.call(l,"__await")?a.resolve(l.__await).then(function(f){c("next",f,le,D)},function(f){c("throw",f,le,D)}):a.resolve(l).then(function(f){C.value=f,le(C)},function(f){return c("throw",f,le,D)})}D(I.arg)}var g;this._invoke=function(S,se){function le(){return new a(function(D,I){c(S,se,D,I)})}return g=g?g.then(le,le):le()}}function A(O,a){var c=O.iterator[a.method];if(c===void 0){if(a.delegate=null,a.method==="throw"){if(O.iterator.return&&(a.method="return",a.arg=void 0,A(O,a),a.method==="throw"))return V;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return V}var g=T(c,O.iterator,a.arg);if(g.type==="throw")return a.method="throw",a.arg=g.arg,a.delegate=null,V;var S=g.arg;return S?S.done?(a[O.resultName]=S.value,a.next=O.nextLoc,a.method!=="return"&&(a.method="next",a.arg=void 0),a.delegate=null,V):S:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,V)}function z(O){var a={tryLoc:O[0]};1 in O&&(a.catchLoc=O[1]),2 in O&&(a.finallyLoc=O[2],a.afterLoc=O[3]),this.tryEntries.push(a)}function B(O){var a=O.completion||{};a.type="normal",delete a.arg,O.completion=a}function W(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(z,this),this.reset(!0)}function ie(O){if(O){var a=O[X];if(a)return a.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var c=-1,g=function S(){for(;++c<O.length;)if(ue.call(O,c))return S.value=O[c],S.done=!1,S;return S.value=void 0,S.done=!0,S};return g.next=g}}return{next:E}}function E(){return{value:void 0,done:!0}}return ae.prototype=$,m(te,"constructor",$),m($,"constructor",ae),ae.displayName=m($,j,"GeneratorFunction"),fe.isGeneratorFunction=function(O){var a=typeof O=="function"&&O.constructor;return!!a&&(a===ae||(a.displayName||a.name)==="GeneratorFunction")},fe.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,$):(O.__proto__=$,m(O,j,"GeneratorFunction")),O.prototype=Object.create(te),O},fe.awrap=function(O){return{__await:O}},xe(he.prototype),m(he.prototype,ee,function(){return this}),fe.AsyncIterator=he,fe.async=function(O,a,c,g,S){S===void 0&&(S=Promise);var se=new he(b(O,a,c,g),S);return fe.isGeneratorFunction(a)?se:se.next().then(function(le){return le.done?le.value:se.next()})},xe(te),m(te,j,"Generator"),m(te,X,function(){return this}),m(te,"toString",function(){return"[object Generator]"}),fe.keys=function(O){var a=[];for(var c in O)a.push(c);return a.reverse(),function g(){for(;a.length;){var S=a.pop();if(S in O)return g.value=S,g.done=!1,g}return g.done=!0,g}},fe.values=ie,W.prototype={constructor:W,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(B),!O)for(var a in this)a.charAt(0)==="t"&&ue.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var a=this;function c(I,C){return se.type="throw",se.arg=O,a.next=I,C&&(a.method="next",a.arg=void 0),!!C}for(var g=this.tryEntries.length-1;g>=0;--g){var S=this.tryEntries[g],se=S.completion;if(S.tryLoc==="root")return c("end");if(S.tryLoc<=this.prev){var le=ue.call(S,"catchLoc"),D=ue.call(S,"finallyLoc");if(le&&D){if(this.prev<S.catchLoc)return c(S.catchLoc,!0);if(this.prev<S.finallyLoc)return c(S.finallyLoc)}else if(le){if(this.prev<S.catchLoc)return c(S.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<S.finallyLoc)return c(S.finallyLoc)}}}},abrupt:function(O,a){for(var c=this.tryEntries.length-1;c>=0;--c){var g=this.tryEntries[c];if(g.tryLoc<=this.prev&&ue.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var S=g;break}}S&&(O==="break"||O==="continue")&&S.tryLoc<=a&&a<=S.finallyLoc&&(S=null);var se=S?S.completion:{};return se.type=O,se.arg=a,S?(this.method="next",this.next=S.finallyLoc,V):this.complete(se)},complete:function(O,a){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&a&&(this.next=a),V},finish:function(O){for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a];if(c.finallyLoc===O)return this.complete(c.completion,c.afterLoc),B(c),V}},catch:function(O){for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a];if(c.tryLoc===O){var g=c.completion;if(g.type==="throw"){var S=g.arg;B(c)}return S}}throw new Error("illegal catch attempt")},delegateYield:function(O,a,c){return this.delegate={iterator:ie(O),resultName:a,nextLoc:c},this.method==="next"&&(this.arg=void 0),V}},fe}gt.exports=_e,gt.exports.__esModule=!0,gt.exports.default=gt.exports},8698:gt=>{function Ze(_){return gt.exports=Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ve){return typeof ve}:function(ve){return ve&&typeof Symbol=="function"&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},gt.exports.__esModule=!0,gt.exports.default=gt.exports,Ze(_)}gt.exports=Ze,gt.exports.__esModule=!0,gt.exports.default=gt.exports},4687:(gt,Ze,_)=>{var ve=_(7061)();gt.exports=ve;try{regeneratorRuntime=ve}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=ve:Function("r","regeneratorRuntime = r")(ve)}},907:(gt,Ze,_)=>{function ve(_e,fe){(fe==null||fe>_e.length)&&(fe=_e.length);for(var de=0,ue=new Array(fe);de<fe;de++)ue[de]=_e[de];return ue}_.d(Ze,{Z:()=>ve})},7326:(gt,Ze,_)=>{function ve(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}_.d(Ze,{Z:()=>ve})},5861:(gt,Ze,_)=>{function ve(fe,de,ue,ne,X,ee,j){try{var m=fe[ee](j),b=m.value}catch(T){return void ue(T)}m.done?de(b):Promise.resolve(b).then(ne,X)}function _e(fe){return function(){var de=this,ue=arguments;return new Promise(function(ne,X){var ee=fe.apply(de,ue);function j(b){ve(ee,ne,X,j,m,"next",b)}function m(b){ve(ee,ne,X,j,m,"throw",b)}j(void 0)})}}_.d(Ze,{Z:()=>_e})},5671:(gt,Ze,_)=>{function ve(_e,fe){if(!(_e instanceof fe))throw new TypeError("Cannot call a class as a function")}_.d(Ze,{Z:()=>ve})},3144:(gt,Ze,_)=>{function ve(fe,de){for(var ue=0;ue<de.length;ue++){var ne=de[ue];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(fe,ne.key,ne)}}function _e(fe,de,ue){return de&&ve(fe.prototype,de),ue&&ve(fe,ue),Object.defineProperty(fe,"prototype",{writable:!1}),fe}_.d(Ze,{Z:()=>_e})},4942:(gt,Ze,_)=>{function ve(_e,fe,de){return fe in _e?Object.defineProperty(_e,fe,{value:de,enumerable:!0,configurable:!0,writable:!0}):_e[fe]=de,_e}_.d(Ze,{Z:()=>ve})},1752:(gt,Ze,_)=>{_.d(Ze,{Z:()=>fe});var ve=_(1120);function _e(de,ue){for(;!Object.prototype.hasOwnProperty.call(de,ue)&&(de=(0,ve.Z)(de))!==null;);return de}function fe(){return fe=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(de,ue,ne){var X=_e(de,ue);if(X){var ee=Object.getOwnPropertyDescriptor(X,ue);return ee.get?ee.get.call(arguments.length<3?de:ne):ee.value}},fe.apply(this,arguments)}},1120:(gt,Ze,_)=>{function ve(_e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},ve(_e)}_.d(Ze,{Z:()=>ve})},9340:(gt,Ze,_)=>{function ve(fe,de){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ue,ne){return ue.__proto__=ne,ue},ve(fe,de)}function _e(fe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(de&&de.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),de&&ve(fe,de)}_.d(Ze,{Z:()=>_e})},4925:(gt,Ze,_)=>{function ve(_e,fe){if(_e==null)return{};var de,ue,ne=function(ee,j){if(ee==null)return{};var m,b,T={},V=Object.keys(ee);for(b=0;b<V.length;b++)m=V[b],j.indexOf(m)>=0||(T[m]=ee[m]);return T}(_e,fe);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(_e);for(ue=0;ue<X.length;ue++)de=X[ue],fe.indexOf(de)>=0||Object.prototype.propertyIsEnumerable.call(_e,de)&&(ne[de]=_e[de])}return ne}_.d(Ze,{Z:()=>ve})},2963:(gt,Ze,_)=>{_.d(Ze,{Z:()=>fe});var ve=_(1002),_e=_(7326);function fe(de,ue){if(ue&&((0,ve.Z)(ue)==="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,_e.Z)(de)}},885:(gt,Ze,_)=>{_.d(Ze,{Z:()=>_e});var ve=_(181);function _e(fe,de){return function(ue){if(Array.isArray(ue))return ue}(fe)||function(ue,ne){var X=ue==null?null:typeof Symbol!="undefined"&&ue[Symbol.iterator]||ue["@@iterator"];if(X!=null){var ee,j,m=[],b=!0,T=!1;try{for(X=X.call(ue);!(b=(ee=X.next()).done)&&(m.push(ee.value),!ne||m.length!==ne);b=!0);}catch(V){T=!0,j=V}finally{try{b||X.return==null||X.return()}finally{if(T)throw j}}return m}}(fe,de)||(0,ve.Z)(fe,de)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},168:(gt,Ze,_)=>{function ve(_e,fe){return fe||(fe=_e.slice(0)),Object.freeze(Object.defineProperties(_e,{raw:{value:Object.freeze(fe)}}))}_.d(Ze,{Z:()=>ve})},2982:(gt,Ze,_)=>{_.d(Ze,{Z:()=>fe});var ve=_(907),_e=_(181);function fe(de){return function(ue){if(Array.isArray(ue))return(0,ve.Z)(ue)}(de)||function(ue){if(typeof Symbol!="undefined"&&ue[Symbol.iterator]!=null||ue["@@iterator"]!=null)return Array.from(ue)}(de)||(0,_e.Z)(de)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1002:(gt,Ze,_)=>{function ve(_e){return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},ve(_e)}_.d(Ze,{Z:()=>ve})},181:(gt,Ze,_)=>{_.d(Ze,{Z:()=>_e});var ve=_(907);function _e(fe,de){if(fe){if(typeof fe=="string")return(0,ve.Z)(fe,de);var ue=Object.prototype.toString.call(fe).slice(8,-1);return ue==="Object"&&fe.constructor&&(ue=fe.constructor.name),ue==="Map"||ue==="Set"?Array.from(fe):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?(0,ve.Z)(fe,de):void 0}}},9050:(gt,Ze,_)=>{_.r(Ze),_.d(Ze,{VERSION:()=>_e,after:()=>tt,all:()=>k,allKeys:()=>kt,any:()=>N,assign:()=>Wt,before:()=>pt,bind:()=>Tr,bindAll:()=>Vr,chain:()=>Ur,chunk:()=>Fi,clone:()=>Wn,collect:()=>Ne,compact:()=>bi,compose:()=>Ie,constant:()=>J,contains:()=>oe,countBy:()=>yr,create:()=>tr,debounce:()=>y,default:()=>lo,defaults:()=>nn,defer:()=>Fe,delay:()=>Me,detect:()=>Pe,difference:()=>_r,drop:()=>$r,each:()=>G,escape:()=>Tt,every:()=>k,extend:()=>gn,extendOwn:()=>Wt,filter:()=>o,find:()=>Pe,findIndex:()=>It,findKey:()=>Ct,findLastIndex:()=>Ut,findWhere:()=>F,first:()=>Ar,flatten:()=>wi,foldl:()=>wt,foldr:()=>zt,forEach:()=>G,functions:()=>Sn,get:()=>qn,groupBy:()=>Qt,has:()=>Un,head:()=>Ar,identity:()=>gr,include:()=>oe,includes:()=>oe,indexBy:()=>mr,indexOf:()=>kn,initial:()=>er,inject:()=>wt,intersection:()=>Ci,invert:()=>Rn,invoke:()=>ce,isArguments:()=>H,isArray:()=>P,isArrayBuffer:()=>le,isBoolean:()=>W,isDataView:()=>d,isDate:()=>c,isElement:()=>ie,isEmpty:()=>De,isEqual:()=>On,isError:()=>S,isFinite:()=>w,isFunction:()=>C,isMap:()=>Rt,isMatch:()=>Ge,isNaN:()=>M,isNull:()=>z,isNumber:()=>a,isObject:()=>A,isRegExp:()=>g,isSet:()=>mt,isString:()=>O,isSymbol:()=>se,isTypedArray:()=>je,isUndefined:()=>B,isWeakMap:()=>_t,isWeakSet:()=>fn,iteratee:()=>hr,keys:()=>we,last:()=>Yr,lastIndexOf:()=>Ce,map:()=>Ne,mapObject:()=>Yt,matcher:()=>Bn,matches:()=>Bn,max:()=>He,memoize:()=>Wr,methods:()=>Sn,min:()=>at,mixin:()=>Ki,negate:()=>Te,noop:()=>Nn,now:()=>cn,object:()=>Yn,omit:()=>Vn,once:()=>Pt,pairs:()=>pn,partial:()=>Cr,partition:()=>Hr,pick:()=>Sr,pluck:()=>ke,property:()=>fr,propertyOf:()=>sr,random:()=>un,range:()=>fi,reduce:()=>wt,reduceRight:()=>zt,reject:()=>p,rest:()=>$r,restArguments:()=>he,result:()=>Jn,sample:()=>dt,select:()=>o,shuffle:()=>Ot,size:()=>Gn,some:()=>N,sortBy:()=>tn,sortedIndex:()=>xn,tail:()=>$r,take:()=>Ar,tap:()=>nr,template:()=>rr,templateSettings:()=>ze,throttle:()=>pe,times:()=>Ln,toArray:()=>jt,toPath:()=>In,transpose:()=>oi,unescape:()=>ye,union:()=>ci,uniq:()=>zr,unique:()=>zr,uniqueId:()=>vr,unzip:()=>oi,values:()=>wn,where:()=>Xe,without:()=>ar,wrap:()=>Q,zip:()=>Ti});var ve={};_.r(ve),_.d(ve,{VERSION:()=>_e,after:()=>tt,all:()=>k,allKeys:()=>kt,any:()=>N,assign:()=>Wt,before:()=>pt,bind:()=>Tr,bindAll:()=>Vr,chain:()=>Ur,chunk:()=>Fi,clone:()=>Wn,collect:()=>Ne,compact:()=>bi,compose:()=>Ie,constant:()=>J,contains:()=>oe,countBy:()=>yr,create:()=>tr,debounce:()=>y,default:()=>ji,defaults:()=>nn,defer:()=>Fe,delay:()=>Me,detect:()=>Pe,difference:()=>_r,drop:()=>$r,each:()=>G,escape:()=>Tt,every:()=>k,extend:()=>gn,extendOwn:()=>Wt,filter:()=>o,find:()=>Pe,findIndex:()=>It,findKey:()=>Ct,findLastIndex:()=>Ut,findWhere:()=>F,first:()=>Ar,flatten:()=>wi,foldl:()=>wt,foldr:()=>zt,forEach:()=>G,functions:()=>Sn,get:()=>qn,groupBy:()=>Qt,has:()=>Un,head:()=>Ar,identity:()=>gr,include:()=>oe,includes:()=>oe,indexBy:()=>mr,indexOf:()=>kn,initial:()=>er,inject:()=>wt,intersection:()=>Ci,invert:()=>Rn,invoke:()=>ce,isArguments:()=>H,isArray:()=>P,isArrayBuffer:()=>le,isBoolean:()=>W,isDataView:()=>d,isDate:()=>c,isElement:()=>ie,isEmpty:()=>De,isEqual:()=>On,isError:()=>S,isFinite:()=>w,isFunction:()=>C,isMap:()=>Rt,isMatch:()=>Ge,isNaN:()=>M,isNull:()=>z,isNumber:()=>a,isObject:()=>A,isRegExp:()=>g,isSet:()=>mt,isString:()=>O,isSymbol:()=>se,isTypedArray:()=>je,isUndefined:()=>B,isWeakMap:()=>_t,isWeakSet:()=>fn,iteratee:()=>hr,keys:()=>we,last:()=>Yr,lastIndexOf:()=>Ce,map:()=>Ne,mapObject:()=>Yt,matcher:()=>Bn,matches:()=>Bn,max:()=>He,memoize:()=>Wr,methods:()=>Sn,min:()=>at,mixin:()=>Ki,negate:()=>Te,noop:()=>Nn,now:()=>cn,object:()=>Yn,omit:()=>Vn,once:()=>Pt,pairs:()=>pn,partial:()=>Cr,partition:()=>Hr,pick:()=>Sr,pluck:()=>ke,property:()=>fr,propertyOf:()=>sr,random:()=>un,range:()=>fi,reduce:()=>wt,reduceRight:()=>zt,reject:()=>p,rest:()=>$r,restArguments:()=>he,result:()=>Jn,sample:()=>dt,select:()=>o,shuffle:()=>Ot,size:()=>Gn,some:()=>N,sortBy:()=>tn,sortedIndex:()=>xn,tail:()=>$r,take:()=>Ar,tap:()=>nr,template:()=>rr,templateSettings:()=>ze,throttle:()=>pe,times:()=>Ln,toArray:()=>jt,toPath:()=>In,transpose:()=>oi,unescape:()=>ye,union:()=>ci,uniq:()=>zr,unique:()=>zr,uniqueId:()=>vr,unzip:()=>oi,values:()=>wn,where:()=>Xe,without:()=>ar,wrap:()=>Q,zip:()=>Ti});var _e="1.13.4",fe=typeof self=="object"&&self.self===self&&self||typeof Oo=="object"&&Oo.global===Oo&&Oo||Function("return this")()||{},de=Array.prototype,ue=Object.prototype,ne=typeof Symbol!="undefined"?Symbol.prototype:null,X=de.push,ee=de.slice,j=ue.toString,m=ue.hasOwnProperty,b=typeof ArrayBuffer!="undefined",T=typeof DataView!="undefined",V=Array.isArray,s=Object.keys,ae=Object.create,$=b&&ArrayBuffer.isView,R=isNaN,Z=isFinite,L=!{toString:null}.propertyIsEnumerable("toString"),te=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xe=Math.pow(2,53)-1;function he(ge,Ee){return Ee=Ee==null?ge.length-1:+Ee,function(){for(var qe=Math.max(arguments.length-Ee,0),Je=Array(qe),ht=0;ht<qe;ht++)Je[ht]=arguments[ht+Ee];switch(Ee){case 0:return ge.call(this,Je);case 1:return ge.call(this,arguments[0],Je);case 2:return ge.call(this,arguments[0],arguments[1],Je)}var it=Array(Ee+1);for(ht=0;ht<Ee;ht++)it[ht]=arguments[ht];return it[Ee]=Je,ge.apply(this,it)}}function A(ge){var Ee=typeof ge;return Ee==="function"||Ee==="object"&&!!ge}function z(ge){return ge===null}function B(ge){return ge===void 0}function W(ge){return ge===!0||ge===!1||j.call(ge)==="[object Boolean]"}function ie(ge){return!(!ge||ge.nodeType!==1)}function E(ge){var Ee="[object "+ge+"]";return function(qe){return j.call(qe)===Ee}}const O=E("String"),a=E("Number"),c=E("Date"),g=E("RegExp"),S=E("Error"),se=E("Symbol"),le=E("ArrayBuffer");var D=E("Function"),I=fe.document&&fe.document.childNodes;typeof Int8Array!="object"&&typeof I!="function"&&(D=function(ge){return typeof ge=="function"||!1});const C=D,l=E("Object");var f=T&&l(new DataView(new ArrayBuffer(8))),h=typeof Map!="undefined"&&l(new Map),u=E("DataView");const d=f?function(ge){return ge!=null&&C(ge.getInt8)&&le(ge.buffer)}:u,P=V||E("Array");function q(ge,Ee){return ge!=null&&m.call(ge,Ee)}var K=E("Arguments");(function(){K(arguments)||(K=function(ge){return q(ge,"callee")})})();const H=K;function w(ge){return!se(ge)&&Z(ge)&&!isNaN(parseFloat(ge))}function M(ge){return a(ge)&&R(ge)}function J(ge){return function(){return ge}}function Oe(ge){return function(Ee){var qe=ge(Ee);return typeof qe=="number"&&qe>=0&&qe<=xe}}function Re(ge){return function(Ee){return Ee==null?void 0:Ee[ge]}}const Ye=Re("byteLength"),Ve=Oe(Ye);var Se=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const je=b?function(ge){return $?$(ge)&&!d(ge):Ve(ge)&&Se.test(j.call(ge))}:J(!1),x=Re("length");function re(ge,Ee){Ee=function(St){for(var Bt={},Pn=St.length,Zn=0;Zn<Pn;++Zn)Bt[St[Zn]]=!0;return{contains:function(Xn){return Bt[Xn]===!0},push:function(Xn){return Bt[Xn]=!0,St.push(Xn)}}}(Ee);var qe=te.length,Je=ge.constructor,ht=C(Je)&&Je.prototype||ue,it="constructor";for(q(ge,it)&&!Ee.contains(it)&&Ee.push(it);qe--;)(it=te[qe])in ge&&ge[it]!==ht[it]&&!Ee.contains(it)&&Ee.push(it)}function we(ge){if(!A(ge))return[];if(s)return s(ge);var Ee=[];for(var qe in ge)q(ge,qe)&&Ee.push(qe);return L&&re(ge,Ee),Ee}function De(ge){if(ge==null)return!0;var Ee=x(ge);return typeof Ee=="number"&&(P(ge)||O(ge)||H(ge))?Ee===0:x(we(ge))===0}function Ge(ge,Ee){var qe=we(Ee),Je=qe.length;if(ge==null)return!Je;for(var ht=Object(ge),it=0;it<Je;it++){var St=qe[it];if(Ee[St]!==ht[St]||!(St in ht))return!1}return!0}function Ke(ge){return ge instanceof Ke?ge:this instanceof Ke?void(this._wrapped=ge):new Ke(ge)}function bt(ge){return new Uint8Array(ge.buffer||ge,ge.byteOffset||0,Ye(ge))}Ke.VERSION=_e,Ke.prototype.value=function(){return this._wrapped},Ke.prototype.valueOf=Ke.prototype.toJSON=Ke.prototype.value,Ke.prototype.toString=function(){return String(this._wrapped)};var At="[object DataView]";function Ft(ge,Ee,qe,Je){if(ge===Ee)return ge!==0||1/ge==1/Ee;if(ge==null||Ee==null)return!1;if(ge!=ge)return Ee!=Ee;var ht=typeof ge;return(ht==="function"||ht==="object"||typeof Ee=="object")&&rn(ge,Ee,qe,Je)}function rn(ge,Ee,qe,Je){ge instanceof Ke&&(ge=ge._wrapped),Ee instanceof Ke&&(Ee=Ee._wrapped);var ht=j.call(ge);if(ht!==j.call(Ee))return!1;if(f&&ht=="[object Object]"&&d(ge)){if(!d(Ee))return!1;ht=At}switch(ht){case"[object RegExp]":case"[object String]":return""+ge==""+Ee;case"[object Number]":return+ge!=+ge?+Ee!=+Ee:+ge==0?1/+ge==1/Ee:+ge==+Ee;case"[object Date]":case"[object Boolean]":return+ge==+Ee;case"[object Symbol]":return ne.valueOf.call(ge)===ne.valueOf.call(Ee);case"[object ArrayBuffer]":case At:return rn(bt(ge),bt(Ee),qe,Je)}var it=ht==="[object Array]";if(!it&&je(ge)){if(Ye(ge)!==Ye(Ee))return!1;if(ge.buffer===Ee.buffer&&ge.byteOffset===Ee.byteOffset)return!0;it=!0}if(!it){if(typeof ge!="object"||typeof Ee!="object")return!1;var St=ge.constructor,Bt=Ee.constructor;if(St!==Bt&&!(C(St)&&St instanceof St&&C(Bt)&&Bt instanceof Bt)&&"constructor"in ge&&"constructor"in Ee)return!1}Je=Je||[];for(var Pn=(qe=qe||[]).length;Pn--;)if(qe[Pn]===ge)return Je[Pn]===Ee;if(qe.push(ge),Je.push(Ee),it){if((Pn=ge.length)!==Ee.length)return!1;for(;Pn--;)if(!Ft(ge[Pn],Ee[Pn],qe,Je))return!1}else{var Zn,Xn=we(ge);if(Pn=Xn.length,we(Ee).length!==Pn)return!1;for(;Pn--;)if(!q(Ee,Zn=Xn[Pn])||!Ft(ge[Zn],Ee[Zn],qe,Je))return!1}return qe.pop(),Je.pop(),!0}function On(ge,Ee){return Ft(ge,Ee)}function kt(ge){if(!A(ge))return[];var Ee=[];for(var qe in ge)Ee.push(qe);return L&&re(ge,Ee),Ee}function Ae(ge){var Ee=x(ge);return function(qe){if(qe==null)return!1;var Je=kt(qe);if(x(Je))return!1;for(var ht=0;ht<Ee;ht++)if(!C(qe[ge[ht]]))return!1;return ge!==nt||!C(qe[We])}}var We="forEach",et="has",rt=["clear","delete"],Lt=["get",et,"set"],Be=rt.concat(We,Lt),nt=rt.concat(Lt),lt=["add"].concat(rt,We,et);const Rt=h?Ae(Be):E("Map"),_t=h?Ae(nt):E("WeakMap"),mt=h?Ae(lt):E("Set"),fn=E("WeakSet");function wn(ge){for(var Ee=we(ge),qe=Ee.length,Je=Array(qe),ht=0;ht<qe;ht++)Je[ht]=ge[Ee[ht]];return Je}function pn(ge){for(var Ee=we(ge),qe=Ee.length,Je=Array(qe),ht=0;ht<qe;ht++)Je[ht]=[Ee[ht],ge[Ee[ht]]];return Je}function Rn(ge){for(var Ee={},qe=we(ge),Je=0,ht=qe.length;Je<ht;Je++)Ee[ge[qe[Je]]]=qe[Je];return Ee}function Sn(ge){var Ee=[];for(var qe in ge)C(ge[qe])&&Ee.push(qe);return Ee.sort()}function Fn(ge,Ee){return function(qe){var Je=arguments.length;if(Ee&&(qe=Object(qe)),Je<2||qe==null)return qe;for(var ht=1;ht<Je;ht++)for(var it=arguments[ht],St=ge(it),Bt=St.length,Pn=0;Pn<Bt;Pn++){var Zn=St[Pn];Ee&&qe[Zn]!==void 0||(qe[Zn]=it[Zn])}return qe}}const gn=Fn(kt),Wt=Fn(we),nn=Fn(kt,!0);function $n(ge){if(!A(ge))return{};if(ae)return ae(ge);var Ee=function(){};Ee.prototype=ge;var qe=new Ee;return Ee.prototype=null,qe}function tr(ge,Ee){var qe=$n(ge);return Ee&&Wt(qe,Ee),qe}function Wn(ge){return A(ge)?P(ge)?ge.slice():gn({},ge):ge}function nr(ge,Ee){return Ee(ge),ge}function In(ge){return P(ge)?ge:[ge]}function Hn(ge){return Ke.toPath(ge)}function br(ge,Ee){for(var qe=Ee.length,Je=0;Je<qe;Je++){if(ge==null)return;ge=ge[Ee[Je]]}return qe?ge:void 0}function qn(ge,Ee,qe){var Je=br(ge,Hn(Ee));return B(Je)?qe:Je}function Un(ge,Ee){for(var qe=(Ee=Hn(Ee)).length,Je=0;Je<qe;Je++){var ht=Ee[Je];if(!q(ge,ht))return!1;ge=ge[ht]}return!!qe}function gr(ge){return ge}function Bn(ge){return ge=Wt({},ge),function(Ee){return Ge(Ee,ge)}}function fr(ge){return ge=Hn(ge),function(Ee){return br(Ee,ge)}}function ir(ge,Ee,qe){if(Ee===void 0)return ge;switch(qe==null?3:qe){case 1:return function(Je){return ge.call(Ee,Je)};case 3:return function(Je,ht,it){return ge.call(Ee,Je,ht,it)};case 4:return function(Je,ht,it,St){return ge.call(Ee,Je,ht,it,St)}}return function(){return ge.apply(Ee,arguments)}}function Ir(ge,Ee,qe){return ge==null?gr:C(ge)?ir(ge,Ee,qe):A(ge)&&!P(ge)?Bn(ge):fr(ge)}function hr(ge,Ee){return Ir(ge,Ee,1/0)}function Mn(ge,Ee,qe){return Ke.iteratee!==hr?Ke.iteratee(ge,Ee):Ir(ge,Ee,qe)}function Yt(ge,Ee,qe){Ee=Mn(Ee,qe);for(var Je=we(ge),ht=Je.length,it={},St=0;St<ht;St++){var Bt=Je[St];it[Bt]=Ee(ge[Bt],Bt,ge)}return it}function Nn(){}function sr(ge){return ge==null?Nn:function(Ee){return qn(ge,Ee)}}function Ln(ge,Ee,qe){var Je=Array(Math.max(0,ge));Ee=ir(Ee,qe,1);for(var ht=0;ht<ge;ht++)Je[ht]=Ee(ht);return Je}function un(ge,Ee){return Ee==null&&(Ee=ge,ge=0),ge+Math.floor(Math.random()*(Ee-ge+1))}Ke.toPath=In,Ke.iteratee=hr;const cn=Date.now||function(){return new Date().getTime()};function Mr(ge){var Ee=function(it){return ge[it]},qe="(?:"+we(ge).join("|")+")",Je=RegExp(qe),ht=RegExp(qe,"g");return function(it){return it=it==null?"":""+it,Je.test(it)?it.replace(ht,Ee):it}}const Fr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Tt=Mr(Fr),ye=Mr(Rn(Fr)),ze=Ke.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var xt=/(.)^/,Vt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$t=/\\|'|\r|\n|\u2028|\u2029/g;function vn(ge){return"\\"+Vt[ge]}var qt=/^\s*(\w|\$)+\s*$/;function rr(ge,Ee,qe){!Ee&&qe&&(Ee=qe),Ee=nn({},Ee,Ke.templateSettings);var Je=RegExp([(Ee.escape||xt).source,(Ee.interpolate||xt).source,(Ee.evaluate||xt).source].join("|")+"|$","g"),ht=0,it="__p+='";ge.replace(Je,function(Zn,Xn,Er,Ai,xi){return it+=ge.slice(ht,xi).replace($t,vn),ht=xi+Zn.length,Xn?it+=`'+
((__t=(`+Xn+`))==null?'':_.escape(__t))+
'`:Er?it+=`'+
((__t=(`+Er+`))==null?'':__t)+
'`:Ai&&(it+=`';
`+Ai+`
__p+='`),Zn}),it+=`';
`;var St,Bt=Ee.variable;if(Bt){if(!qt.test(Bt))throw new Error("variable is not a bare identifier: "+Bt)}else it=`with(obj||{}){
`+it+`}
`,Bt="obj";it=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+it+`return __p;
`;try{St=new Function(Bt,"_",it)}catch(Zn){throw Zn.source=it,Zn}var Pn=function(Zn){return St.call(this,Zn,Ke)};return Pn.source="function("+Bt+`){
`+it+"}",Pn}function Jn(ge,Ee,qe){var Je=(Ee=Hn(Ee)).length;if(!Je)return C(qe)?qe.call(ge):qe;for(var ht=0;ht<Je;ht++){var it=ge==null?void 0:ge[Ee[ht]];it===void 0&&(it=qe,ht=Je),ge=C(it)?it.call(ge):it}return ge}var kr=0;function vr(ge){var Ee=++kr+"";return ge?ge+Ee:Ee}function Ur(ge){var Ee=Ke(ge);return Ee._chain=!0,Ee}function Kr(ge,Ee,qe,Je,ht){if(!(Je instanceof Ee))return ge.apply(qe,ht);var it=$n(ge.prototype),St=ge.apply(it,ht);return A(St)?St:it}var Br=he(function(ge,Ee){var qe=Br.placeholder,Je=function(){for(var ht=0,it=Ee.length,St=Array(it),Bt=0;Bt<it;Bt++)St[Bt]=Ee[Bt]===qe?arguments[ht++]:Ee[Bt];for(;ht<arguments.length;)St.push(arguments[ht++]);return Kr(ge,Je,this,this,St)};return Je});Br.placeholder=Ke;const Cr=Br,Tr=he(function(ge,Ee,qe){if(!C(ge))throw new TypeError("Bind must be called on a function");var Je=he(function(ht){return Kr(ge,Je,Ee,this,qe.concat(ht))});return Je}),Qn=Oe(x);function Or(ge,Ee,qe,Je){if(Je=Je||[],Ee||Ee===0){if(Ee<=0)return Je.concat(ge)}else Ee=1/0;for(var ht=Je.length,it=0,St=x(ge);it<St;it++){var Bt=ge[it];if(Qn(Bt)&&(P(Bt)||H(Bt)))if(Ee>1)Or(Bt,Ee-1,qe,Je),ht=Je.length;else for(var Pn=0,Zn=Bt.length;Pn<Zn;)Je[ht++]=Bt[Pn++];else qe||(Je[ht++]=Bt)}return Je}const Vr=he(function(ge,Ee){var qe=(Ee=Or(Ee,!1,!1)).length;if(qe<1)throw new Error("bindAll must be passed function names");for(;qe--;){var Je=Ee[qe];ge[Je]=Tr(ge[Je],ge)}return ge});function Wr(ge,Ee){var qe=function(Je){var ht=qe.cache,it=""+(Ee?Ee.apply(this,arguments):Je);return q(ht,it)||(ht[it]=ge.apply(this,arguments)),ht[it]};return qe.cache={},qe}const Me=he(function(ge,Ee,qe){return setTimeout(function(){return ge.apply(null,qe)},Ee)}),Fe=Cr(Me,Ke,1);function pe(ge,Ee,qe){var Je,ht,it,St,Bt=0;qe||(qe={});var Pn=function(){Bt=qe.leading===!1?0:cn(),Je=null,St=ge.apply(ht,it),Je||(ht=it=null)},Zn=function(){var Xn=cn();Bt||qe.leading!==!1||(Bt=Xn);var Er=Ee-(Xn-Bt);return ht=this,it=arguments,Er<=0||Er>Ee?(Je&&(clearTimeout(Je),Je=null),Bt=Xn,St=ge.apply(ht,it),Je||(ht=it=null)):Je||qe.trailing===!1||(Je=setTimeout(Pn,Er)),St};return Zn.cancel=function(){clearTimeout(Je),Bt=0,Je=ht=it=null},Zn}function y(ge,Ee,qe){var Je,ht,it,St,Bt,Pn=function(){var Xn=cn()-ht;Ee>Xn?Je=setTimeout(Pn,Ee-Xn):(Je=null,qe||(St=ge.apply(Bt,it)),Je||(it=Bt=null))},Zn=he(function(Xn){return Bt=this,it=Xn,ht=cn(),Je||(Je=setTimeout(Pn,Ee),qe&&(St=ge.apply(Bt,it))),St});return Zn.cancel=function(){clearTimeout(Je),Je=it=Bt=null},Zn}function Q(ge,Ee){return Cr(Ee,ge)}function Te(ge){return function(){return!ge.apply(this,arguments)}}function Ie(){var ge=arguments,Ee=ge.length-1;return function(){for(var qe=Ee,Je=ge[Ee].apply(this,arguments);qe--;)Je=ge[qe].call(this,Je);return Je}}function tt(ge,Ee){return function(){if(--ge<1)return Ee.apply(this,arguments)}}function pt(ge,Ee){var qe;return function(){return--ge>0&&(qe=Ee.apply(this,arguments)),ge<=1&&(Ee=null),qe}}const Pt=Cr(pt,2);function Ct(ge,Ee,qe){Ee=Mn(Ee,qe);for(var Je,ht=we(ge),it=0,St=ht.length;it<St;it++)if(Ee(ge[Je=ht[it]],Je,ge))return Je}function Zt(ge){return function(Ee,qe,Je){qe=Mn(qe,Je);for(var ht=x(Ee),it=ge>0?0:ht-1;it>=0&&it<ht;it+=ge)if(qe(Ee[it],it,Ee))return it;return-1}}const It=Zt(1),Ut=Zt(-1);function xn(ge,Ee,qe,Je){for(var ht=(qe=Mn(qe,Je,1))(Ee),it=0,St=x(ge);it<St;){var Bt=Math.floor((it+St)/2);qe(ge[Bt])<ht?it=Bt+1:St=Bt}return it}function hn(ge,Ee,qe){return function(Je,ht,it){var St=0,Bt=x(Je);if(typeof it=="number")ge>0?St=it>=0?it:Math.max(it+Bt,St):Bt=it>=0?Math.min(it+1,Bt):it+Bt+1;else if(qe&&it&&Bt)return Je[it=qe(Je,ht)]===ht?it:-1;if(ht!=ht)return(it=Ee(ee.call(Je,St,Bt),M))>=0?it+St:-1;for(it=ge>0?St:Bt-1;it>=0&&it<Bt;it+=ge)if(Je[it]===ht)return it;return-1}}const kn=hn(1,It,xn),Ce=hn(-1,Ut);function Pe(ge,Ee,qe){var Je=(Qn(ge)?It:Ct)(ge,Ee,qe);if(Je!==void 0&&Je!==-1)return ge[Je]}function F(ge,Ee){return Pe(ge,Bn(Ee))}function G(ge,Ee,qe){var Je,ht;if(Ee=ir(Ee,qe),Qn(ge))for(Je=0,ht=ge.length;Je<ht;Je++)Ee(ge[Je],Je,ge);else{var it=we(ge);for(Je=0,ht=it.length;Je<ht;Je++)Ee(ge[it[Je]],it[Je],ge)}return ge}function Ne(ge,Ee,qe){Ee=Mn(Ee,qe);for(var Je=!Qn(ge)&&we(ge),ht=(Je||ge).length,it=Array(ht),St=0;St<ht;St++){var Bt=Je?Je[St]:St;it[St]=Ee(ge[Bt],Bt,ge)}return it}function st(ge){var Ee=function(qe,Je,ht,it){var St=!Qn(qe)&&we(qe),Bt=(St||qe).length,Pn=ge>0?0:Bt-1;for(it||(ht=qe[St?St[Pn]:Pn],Pn+=ge);Pn>=0&&Pn<Bt;Pn+=ge){var Zn=St?St[Pn]:Pn;ht=Je(ht,qe[Zn],Zn,qe)}return ht};return function(qe,Je,ht,it){var St=arguments.length>=3;return Ee(qe,ir(Je,it,4),ht,St)}}const wt=st(1),zt=st(-1);function o(ge,Ee,qe){var Je=[];return Ee=Mn(Ee,qe),G(ge,function(ht,it,St){Ee(ht,it,St)&&Je.push(ht)}),Je}function p(ge,Ee,qe){return o(ge,Te(Mn(Ee)),qe)}function k(ge,Ee,qe){Ee=Mn(Ee,qe);for(var Je=!Qn(ge)&&we(ge),ht=(Je||ge).length,it=0;it<ht;it++){var St=Je?Je[it]:it;if(!Ee(ge[St],St,ge))return!1}return!0}function N(ge,Ee,qe){Ee=Mn(Ee,qe);for(var Je=!Qn(ge)&&we(ge),ht=(Je||ge).length,it=0;it<ht;it++){var St=Je?Je[it]:it;if(Ee(ge[St],St,ge))return!0}return!1}function oe(ge,Ee,qe,Je){return Qn(ge)||(ge=wn(ge)),(typeof qe!="number"||Je)&&(qe=0),kn(ge,Ee,qe)>=0}const ce=he(function(ge,Ee,qe){var Je,ht;return C(Ee)?ht=Ee:(Ee=Hn(Ee),Je=Ee.slice(0,-1),Ee=Ee[Ee.length-1]),Ne(ge,function(it){var St=ht;if(!St){if(Je&&Je.length&&(it=br(it,Je)),it==null)return;St=it[Ee]}return St==null?St:St.apply(it,qe)})});function ke(ge,Ee){return Ne(ge,fr(Ee))}function Xe(ge,Ee){return o(ge,Bn(Ee))}function He(ge,Ee,qe){var Je,ht,it=-1/0,St=-1/0;if(Ee==null||typeof Ee=="number"&&typeof ge[0]!="object"&&ge!=null)for(var Bt=0,Pn=(ge=Qn(ge)?ge:wn(ge)).length;Bt<Pn;Bt++)(Je=ge[Bt])!=null&&Je>it&&(it=Je);else Ee=Mn(Ee,qe),G(ge,function(Zn,Xn,Er){((ht=Ee(Zn,Xn,Er))>St||ht===-1/0&&it===-1/0)&&(it=Zn,St=ht)});return it}function at(ge,Ee,qe){var Je,ht,it=1/0,St=1/0;if(Ee==null||typeof Ee=="number"&&typeof ge[0]!="object"&&ge!=null)for(var Bt=0,Pn=(ge=Qn(ge)?ge:wn(ge)).length;Bt<Pn;Bt++)(Je=ge[Bt])!=null&&Je<it&&(it=Je);else Ee=Mn(Ee,qe),G(ge,function(Zn,Xn,Er){((ht=Ee(Zn,Xn,Er))<St||ht===1/0&&it===1/0)&&(it=Zn,St=ht)});return it}var vt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function jt(ge){return ge?P(ge)?ee.call(ge):O(ge)?ge.match(vt):Qn(ge)?Ne(ge,gr):wn(ge):[]}function dt(ge,Ee,qe){if(Ee==null||qe)return Qn(ge)||(ge=wn(ge)),ge[un(ge.length-1)];var Je=jt(ge),ht=x(Je);Ee=Math.max(Math.min(Ee,ht),0);for(var it=ht-1,St=0;St<Ee;St++){var Bt=un(St,it),Pn=Je[St];Je[St]=Je[Bt],Je[Bt]=Pn}return Je.slice(0,Ee)}function Ot(ge){return dt(ge,1/0)}function tn(ge,Ee,qe){var Je=0;return Ee=Mn(Ee,qe),ke(Ne(ge,function(ht,it,St){return{value:ht,index:Je++,criteria:Ee(ht,it,St)}}).sort(function(ht,it){var St=ht.criteria,Bt=it.criteria;if(St!==Bt){if(St>Bt||St===void 0)return 1;if(St<Bt||Bt===void 0)return-1}return ht.index-it.index}),"value")}function _n(ge,Ee){return function(qe,Je,ht){var it=Ee?[[],[]]:{};return Je=Mn(Je,ht),G(qe,function(St,Bt){var Pn=Je(St,Bt,qe);ge(it,St,Pn)}),it}}const Qt=_n(function(ge,Ee,qe){q(ge,qe)?ge[qe].push(Ee):ge[qe]=[Ee]}),mr=_n(function(ge,Ee,qe){ge[qe]=Ee}),yr=_n(function(ge,Ee,qe){q(ge,qe)?ge[qe]++:ge[qe]=1}),Hr=_n(function(ge,Ee,qe){ge[qe?0:1].push(Ee)},!0);function Gn(ge){return ge==null?0:Qn(ge)?ge.length:we(ge).length}function An(ge,Ee,qe){return Ee in qe}const Sr=he(function(ge,Ee){var qe={},Je=Ee[0];if(ge==null)return qe;C(Je)?(Ee.length>1&&(Je=ir(Je,Ee[1])),Ee=kt(ge)):(Je=An,Ee=Or(Ee,!1,!1),ge=Object(ge));for(var ht=0,it=Ee.length;ht<it;ht++){var St=Ee[ht],Bt=ge[St];Je(Bt,St,ge)&&(qe[St]=Bt)}return qe}),Vn=he(function(ge,Ee){var qe,Je=Ee[0];return C(Je)?(Je=Te(Je),Ee.length>1&&(qe=Ee[1])):(Ee=Ne(Or(Ee,!1,!1),String),Je=function(ht,it){return!oe(Ee,it)}),Sr(ge,Je,qe)});function er(ge,Ee,qe){return ee.call(ge,0,Math.max(0,ge.length-(Ee==null||qe?1:Ee)))}function Ar(ge,Ee,qe){return ge==null||ge.length<1?Ee==null||qe?void 0:[]:Ee==null||qe?ge[0]:er(ge,ge.length-Ee)}function $r(ge,Ee,qe){return ee.call(ge,Ee==null||qe?1:Ee)}function Yr(ge,Ee,qe){return ge==null||ge.length<1?Ee==null||qe?void 0:[]:Ee==null||qe?ge[ge.length-1]:$r(ge,Math.max(0,ge.length-Ee))}function bi(ge){return o(ge,Boolean)}function wi(ge,Ee){return Or(ge,Ee,!1)}const _r=he(function(ge,Ee){return Ee=Or(Ee,!0,!0),o(ge,function(qe){return!oe(Ee,qe)})}),ar=he(function(ge,Ee){return _r(ge,Ee)});function zr(ge,Ee,qe,Je){W(Ee)||(Je=qe,qe=Ee,Ee=!1),qe!=null&&(qe=Mn(qe,Je));for(var ht=[],it=[],St=0,Bt=x(ge);St<Bt;St++){var Pn=ge[St],Zn=qe?qe(Pn,St,ge):Pn;Ee&&!qe?(St&&it===Zn||ht.push(Pn),it=Zn):qe?oe(it,Zn)||(it.push(Zn),ht.push(Pn)):oe(ht,Pn)||ht.push(Pn)}return ht}const ci=he(function(ge){return zr(Or(ge,!0,!0))});function Ci(ge){for(var Ee=[],qe=arguments.length,Je=0,ht=x(ge);Je<ht;Je++){var it=ge[Je];if(!oe(Ee,it)){var St;for(St=1;St<qe&&oe(arguments[St],it);St++);St===qe&&Ee.push(it)}}return Ee}function oi(ge){for(var Ee=ge&&He(ge,x).length||0,qe=Array(Ee),Je=0;Je<Ee;Je++)qe[Je]=ke(ge,Je);return qe}const Ti=he(oi);function Yn(ge,Ee){for(var qe={},Je=0,ht=x(ge);Je<ht;Je++)Ee?qe[ge[Je]]=Ee[Je]:qe[ge[Je][0]]=ge[Je][1];return qe}function fi(ge,Ee,qe){Ee==null&&(Ee=ge||0,ge=0),qe||(qe=Ee<ge?-1:1);for(var Je=Math.max(Math.ceil((Ee-ge)/qe),0),ht=Array(Je),it=0;it<Je;it++,ge+=qe)ht[it]=ge;return ht}function Fi(ge,Ee){if(Ee==null||Ee<1)return[];for(var qe=[],Je=0,ht=ge.length;Je<ht;)qe.push(ee.call(ge,Je,Je+=Ee));return qe}function Ei(ge,Ee){return ge._chain?Ke(Ee).chain():Ee}function Ki(ge){return G(Sn(ge),function(Ee){var qe=Ke[Ee]=ge[Ee];Ke.prototype[Ee]=function(){var Je=[this._wrapped];return X.apply(Je,arguments),Ei(this,qe.apply(Ke,Je))}}),Ke}G(["pop","push","reverse","shift","sort","splice","unshift"],function(ge){var Ee=de[ge];Ke.prototype[ge]=function(){var qe=this._wrapped;return qe!=null&&(Ee.apply(qe,arguments),ge!=="shift"&&ge!=="splice"||qe.length!==0||delete qe[0]),Ei(this,qe)}}),G(["concat","join","slice"],function(ge){var Ee=de[ge];Ke.prototype[ge]=function(){var qe=this._wrapped;return qe!=null&&(qe=Ee.apply(qe,arguments)),Ei(this,qe)}});const ji=Ke;var Bi=Ki(ve);Bi._=Bi;const lo=Bi}},sn={};function bn(gt){var Ze=sn[gt];if(Ze!==void 0)return Ze.exports;var _=sn[gt]={exports:{}};return Dn[gt].call(_.exports,_,_.exports,bn),_.exports}bn.n=gt=>{var Ze=gt&&gt.__esModule?()=>gt.default:()=>gt;return bn.d(Ze,{a:Ze}),Ze},bn.d=(gt,Ze)=>{for(var _ in Ze)bn.o(Ze,_)&&!bn.o(gt,_)&&Object.defineProperty(gt,_,{enumerable:!0,get:Ze[_]})},bn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),bn.o=(gt,Ze)=>Object.prototype.hasOwnProperty.call(gt,Ze),bn.r=gt=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(gt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(gt,"__esModule",{value:!0})};var zn={};return(()=>{bn.d(zn,{default:()=>le});var gt=bn(4942),Ze=bn(9050),_=bn(2579),ve=bn(7539);const _e={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:null,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var fe=bn(2316),de=bn.n(fe),ue,ne=bn(1163),X=(ue=function(D,I){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,l){C.__proto__=l}||function(C,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(C[f]=l[f])},ue(D,I)},function(D,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function C(){this.constructor=D}ue(D,I),D.prototype=I===null?Object.create(I):(C.prototype=I.prototype,new C)}),ee=function(D){function I(){return D!==null&&D.apply(this,arguments)||this}return X(I,D),I}(fe.Model);const j=function(D){function I(){return D!==null&&D.apply(this,arguments)||this}return X(I,D),I.prototype.getByComponent=function(C){var l=this;return this.filter(function(f){return l.getComponent(f)===C})[0]},I.prototype.addComponent=function(C,l){var f=this,h=((0,Ze.isArray)(C)?C:[C]).filter(function(u){return!f.hasComponent(u)}).map(function(u){return new ee({component:u})})[0];return this.push(h,l)},I.prototype.getComponent=function(C){return C.get("component")},I.prototype.hasComponent=function(C){var l=this.getByComponent(C);return l&&this.contains(l)},I.prototype.lastComponent=function(){var C=this.last();return C&&this.getComponent(C)},I.prototype.allComponents=function(){var C=this;return this.map(function(l){return C.getComponent(l)}).filter(function(l){return l})},I.prototype.removeComponent=function(C,l){var f=this,h=((0,Ze.isArray)(C)?C:[C]).map(function(u){return f.getByComponent(u)});return this.remove(h,l)},I}(fe.Collection);var m=function(){var D=function(I,C){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])},D(I,C)};return function(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function l(){this.constructor=I}D(I,C),I.prototype=C===null?Object.create(C):(l.prototype=C.prototype,new l)}}(),b=function(){return b=Object.assign||function(D){for(var I,C=1,l=arguments.length;C<l;C++)for(var f in I=arguments[C])Object.prototype.hasOwnProperty.call(I,f)&&(D[f]=I[f]);return D},b.apply(this,arguments)},T=function(D,I,C,l){return new(C||(C=Promise))(function(f,h){function u(q){try{P(l.next(q))}catch(K){h(K)}}function d(q){try{P(l.throw(q))}catch(K){h(K)}}function P(q){var K;q.done?f(q.value):(K=q.value,K instanceof C?K:new C(function(H){H(K)})).then(u,d)}P((l=l.apply(D,I||[])).next())})},V=function(D,I){var C,l,f,h,u={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(P){return function(q){return function(K){if(C)throw new TypeError("Generator is already executing.");for(;u;)try{if(C=1,l&&(f=2&K[0]?l.return:K[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,K[1])).done)return f;switch(l=0,f&&(K=[2&K[0],f.value]),K[0]){case 0:case 1:f=K;break;case 4:return u.label++,{value:K[1],done:!1};case 5:u.label++,l=K[1],K=[0];continue;case 7:K=u.ops.pop(),u.trys.pop();continue;default:if(f=u.trys,!((f=f.length>0&&f[f.length-1])||K[0]!==6&&K[0]!==2)){u=0;continue}if(K[0]===3&&(!f||K[1]>f[0]&&K[1]<f[3])){u.label=K[1];break}if(K[0]===6&&u.label<f[1]){u.label=f[1],f=K;break}if(f&&u.label<f[2]){u.label=f[2],u.ops.push(K);break}f[2]&&u.ops.pop(),u.trys.pop();continue}K=I.call(D,u)}catch(H){K=[6,H],l=0}finally{C=f=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([P,q])}}},s=function(D,I){var C={};for(var l in D)Object.prototype.hasOwnProperty.call(D,l)&&I.indexOf(l)<0&&(C[l]=D[l]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function"){var f=0;for(l=Object.getOwnPropertySymbols(D);f<l.length;f++)I.indexOf(l[f])<0&&Object.prototype.propertyIsEnumerable.call(D,l[f])&&(C[l[f]]=D[l[f]])}return C},ae=function(D,I,C){if(C||arguments.length===2)for(var l,f=0,h=I.length;f<h;f++)!l&&f in I||(l||(l=Array.prototype.slice.call(I,0,f)),l[f]=I[f]);return D.concat(l||Array.prototype.slice.call(I))};de().$=_.default;var $=[bn(6718),bn(4836),bn(9788),bn(8202),bn(4859),bn(2004),bn(4424),bn(2326),bn(3463),bn(8588),bn(7619),bn(899),bn(2012),bn(1030),bn(672),bn(7948),bn(6388),bn(5819),bn(7892),bn(7287),bn(289),bn(6407)],R=[];(function(D){var I=D.$;if(I&&I.prototype&&I.prototype.constructor.name!=="jQuery"){var C=I.fn;C.hide=function(){return this.css("display","none")},C.show=function(){return this.css("display","block")},C.focus=function(){var h=this.get(0);return h&&h.focus(),this},C.bind=function(h,u){return this.on(h,u)},C.unbind=function(h,u){if((0,Ze.isObject)(h)){for(var d in h)h.hasOwnProperty(d)&&this.off(d,h[d]);return this}return this.off(h,u)},C.click=function(h){return h?this.on("click",h):this.trigger("click")},C.change=function(h){return h?this.on("change",h):this.trigger("change")},C.keydown=function(h){return h?this.on("keydown",h):this.trigger("keydown")},C.delegate=function(h,u,d,P){return P||(P=d),this.on(u,h,function(q){q.data=d,P(q)})},C.scrollLeft=function(){var h=this.get(0),u=(h=h.nodeType==9?h.defaultView:h)instanceof Window?h:null;return u?u.pageXOffset:h.scrollLeft||0},C.scrollTop=function(){var h=this.get(0),u=(h=h.nodeType==9?h.defaultView:h)instanceof Window?h:null;return u?u.pageYOffset:h.scrollTop||0};var l=I.prototype.offset;C.offset=function(h){var u,d;return h&&(u=h.top,d=h.left),u!==void 0&&this.css("top","".concat(u,"px")),d!==void 0&&this.css("left","".concat(d,"px")),l.call(this)},I.map=function(h,u){for(var d=[],P=0;P<h.length;P++)d.push(u(h[P],P));return d};var f=Array.prototype.indexOf;I.inArray=function(h,u,d){return u==null?-1:f.call(u,h,d)},I.Event=function(h,u){if(!(this instanceof I.Event))return new I.Event(h,u);this.type=h,this.isDefaultPrevented=function(){return!1}}}})({Backbone:de(),$:de().$});var Z={debug:console.log,info:console.info,warning:console.warn,error:console.error},L=function(D){function I(C){C===void 0&&(C={});var l=D.call(this)||this;l.__skip=!1,l.defaultRunning=!1,l.destroyed=!1,l._config=C;var f=l.config;l.set("Config",C),l.set("modules",[]),l.set("toLoad",[]),l.set("storables",[]),l.set("selected",new j),l.set("dmode",f.dragMode);var h=f.el,u=f.log,d=u===!0?(0,Ze.keys)(Z):(0,Ze.isArray)(u)?u:[];return(0,Ze.bindAll)(l,"initBaseColorPicker"),h&&f.fromElement&&(f.components=h.innerHTML),l.attrsOrig=h?(0,Ze.toArray)(h.attributes).reduce(function(P,q){return P[q.nodeName]=q.nodeValue,P},{}):"",f.components&&!f.pageManager&&(f.pageManager={pages:[{component:f.components}]}),$.forEach(function(P){return l.loadModule(P)}),R.forEach(function(P){return l.tsLoadModule(P)}),l.on("change:componentHovered",l.componentHovered,l),l.on("change:changesCount",l.updateChanges,l),l.on("change:readyLoad change:readyCanvas",l._checkReady,l),d.forEach(function(P){return l.listenLog(P)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(P){var q=P.from,K=P.to;l.listenTo(l,q,function(){for(var H=[],w=0;w<arguments.length;w++)H[w]=arguments[w];l.trigger.apply(l,ae([K],H,!1)),l.logWarning("The event '".concat(q,"' is deprecated, replace it with '").concat(K,"'"))})}),l}return m(I,D),I.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(I.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),I.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},I.prototype.getContainer=function(){return this.config.el},I.prototype.listenLog=function(C){this.listenTo(this,"log:".concat(C),Z[C])},Object.defineProperty(I.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),I.prototype.getConfig=function(C){var l=this.config;return(0,Ze.isUndefined)(C)?l:l[C]},I.prototype.loadOnStart=function(){var C=this,l=this.config,f=l.projectData,h=l.headless,u=this.get("StorageManager");this.toLoad.forEach(function(q){return q.onLoad()});var d=function(){C.modules.forEach(function(q){return q.postLoad&&q.postLoad(C)}),C.set("readyLoad",1)};h?(f&&this.loadData(f),d()):setTimeout(function(){return T(C,void 0,void 0,function(){var q;return V(this,function(K){switch(K.label){case 0:return f?(this.loadData(f),[3,5]):[3,1];case 1:if(!(u!=null&&u.canAutoload()))return[3,5];K.label=2;case 2:return K.trys.push([2,4,,5]),[4,this.load()];case 3:return K.sent(),[3,5];case 4:return q=K.sent(),this.logError(q),[3,5];case 5:return d(),[2]}})})});var P=new I({noticeOnUnload:!1,storageManager:!1,undoManager:!1});["PageManager","Canvas"].forEach(function(q){return P.get(q).onLoad()}),this.set("shallow",P)},I.prototype.updateChanges=function(){var C=this,l=this.get("StorageManager"),f=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return C.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=f?function(){return!0}:null),l.isAutosave()&&f>=l.getStepsBeforeSave()&&this.store().catch(function(h){return C.logError(h)})},I.prototype.loadModule=function(C){var l=this.config,f=new(C.default||C)(this),h=f.name.charAt(0).toLowerCase()+f.name.slice(1),u=(0,Ze.isUndefined)(l[h])?l[f.name]:l[h],d=u===!0?{}:u||{};return d.pStylePrefix=l.pStylePrefix||"",(0,Ze.isUndefined)(u)||u||(d._disable=1),f.storageKey&&f.store&&f.load&&this.storables.push(f),d.em=this,f.init(b({},d)),!f.private&&this.set(f.name,f),f.onLoad&&this.toLoad.push(f),this.modules.push(f),this},I.prototype.tsLoadModule=function(C){var l=new(C.default||C)(this);return l.storageKey&&l.store&&l.load&&this.storables.push(l),!l.private&&this.set(l.name,l),l.onLoad&&this.toLoad.push(l),this.modules.push(l),this},I.prototype.init=function(C,l){l===void 0&&(l={}),this.destroyed&&(this.initialize(l),this.destroyed=!1),this.set("Editor",C)},I.prototype.getEditor=function(){return this.get("Editor")},I.prototype.handleUpdates=function(C,l,f){var h=this;f===void 0&&(f={}),this.__skip||f.temporary||f.noCount||f.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var u=h.getDirtyCount()||0,d=(f.unset,s(f,["unset"]));h.set("changesCount",u+1,d)},0))},I.prototype.changesUp=function(C){this.handleUpdates(0,0,C)},I.prototype.componentHovered=function(C,l,f){var h=this.previous("componentHovered");h&&this.trigger("component:unhovered",h,f),l&&this.trigger("component:hovered",l,f)},I.prototype.getSelected=function(){return this.selected.lastComponent()},I.prototype.getSelectedAll=function(){return this.selected.allComponents()},I.prototype.setSelected=function(C,l){var f=this;l===void 0&&(l={});var h=l.event,u=h&&(h.ctrlKey||h.metaKey),d=(h||{}).shiftKey,P=((0,Ze.isArray)(C)?C:[C]).map(function(w){return(0,ne.getModel)(w,_.default)}),q=this.getSelectedAll(),K=this.getConfig().multipleSelection,H=(0,Ze.isArray)(C);H&&this.removeSelected(q.filter(function(w){return!(0,Ze.contains)(P,w)})),P.forEach(function(w){var M=(0,ne.getModel)(w,void 0);if(M&&(f.trigger("component:select:before",M,l),!M.get("selectable")||l.abort)){if(!l.useValid)return;for(var J=M.parent();J&&!J.get("selectable");)J=J.parent();M=J}if(u&&K)return f.toggleSelected(M);if(d&&K){f.clearSelection(f.get("Canvas").getWindow());var Oe,Re,Ye=M.collection,Ve=M.index();if(f.getSelectedAll().forEach(function(Se){var je=Se.collection,x=Se.index();je===Ye&&(x<Ve?Oe=(0,Ze.isUndefined)(Oe)?x:Math.max(Oe,x):x>Ve&&(Re=(0,Ze.isUndefined)(Re)?x:Math.min(Re,x)))}),!(0,Ze.isUndefined)(Oe))for(;Oe!==Ve;)f.addSelected(Ye.at(Oe)),Oe++;if(!(0,Ze.isUndefined)(Re))for(;Re!==Ve;)f.addSelected(Ye.at(Re)),Re--;return f.addSelected(M)}!H&&f.removeSelected(q.filter(function(Se){return Se!==M})),f.addSelected(M,l)})},I.prototype.addSelected=function(C,l){var f=this;l===void 0&&(l={});var h=(0,ne.getModel)(C,_.default);((0,Ze.isArray)(h)?h:[h]).forEach(function(u){if(!u||u.get("selectable")){var d=f.selected;l.forceChange&&f.removeSelected(u,l),d.addComponent(u,l),u&&f.trigger("component:select",u,l)}})},I.prototype.removeSelected=function(C,l){l===void 0&&(l={}),this.selected.removeComponent((0,ne.getModel)(C,_.default),l)},I.prototype.toggleSelected=function(C,l){var f=this;l===void 0&&(l={});var h=(0,ne.getModel)(C,_.default);((0,Ze.isArray)(h)?h:[h]).forEach(function(u){f.selected.hasComponent(u)?f.removeSelected(u,l):f.addSelected(u,l)})},I.prototype.setHovered=function(C,l){if(l===void 0&&(l={}),!C)return this.set("componentHovered","");var f="component:hover",h=(0,ne.getModel)(C,void 0);if(h){if(l.forceChange&&this.set("componentHovered",""),this.trigger("".concat(f,":before"),h,l),!h.get("hoverable")){if(!l.useValid||l.abort)return;for(var u=h&&h.parent();u&&!u.get("hoverable");)u=u.parent();h=u}l.abort||(this.set("componentHovered",h,l),this.trigger(f,h,l))}},I.prototype.getHovered=function(){return this.get("componentHovered")},I.prototype.setComponents=function(C,l){return l===void 0&&(l={}),this.get("DomComponents").setComponents(C,l)},I.prototype.getComponents=function(){var C=this.get("DomComponents"),l=this.get("CodeManager");if(C&&l){var f=C.getComponents();return l.getCode(f,"json")}},I.prototype.setStyle=function(C,l){l===void 0&&(l={});var f=this.get("CssComposer");return f.clear(l),f.getAll().add(C,l),this},I.prototype.addStyle=function(C,l){l===void 0&&(l={});var f=this.getStyle().add(C,l);return(0,Ze.isArray)(f)?f:[f]},I.prototype.getStyle=function(){return this.get("CssComposer").getAll()},I.prototype.setState=function(C){return this.set("state",C),this},I.prototype.getState=function(){return this.get("state")||""},I.prototype.getHtml=function(C){C===void 0&&(C={});var l=this.config,f=l.optsHtml,h=l.jsInHtml?this.getJs(C):"",u=C.component||this.get("DomComponents").getComponent(),d=u?this.get("CodeManager").getCode(u,"html",b(b({},f),C)):"";return d+=h?"<script>".concat(h,"<\/script>"):""},I.prototype.getCss=function(C){C===void 0&&(C={});var l=this.config,f=l.optsCss,h=C.avoidProtected,u=(0,Ze.isUndefined)(C.keepUnusedStyles)?l.keepUnusedStyles:C.keepUnusedStyles,d=this.get("CssComposer"),P=C.component||this.get("DomComponents").getComponent(),q=h?"":l.protectedCss,K=P&&this.get("CodeManager").getCode(P,"css",b(b({cssc:d,keepUnusedStyles:u},f),C));return P?C.json?K:q+K:""},I.prototype.getJs=function(C){C===void 0&&(C={});var l=C.component||this.get("DomComponents").getWrapper();return l?this.get("CodeManager").getCode(l,"js").trim():""},I.prototype.store=function(C){return T(this,void 0,void 0,function(){var l;return V(this,function(f){switch(f.label){case 0:return l=this.storeData(),[4,this.get("StorageManager").store(l,C)];case 1:return f.sent(),this.clearDirtyCount(),[2,l]}})})},I.prototype.load=function(C){return T(this,void 0,void 0,function(){var l;return V(this,function(f){switch(f.label){case 0:return[4,this.get("StorageManager").load(C)];case 1:return l=f.sent(),this.loadData(l),[2,l]}})})},I.prototype.storeData=function(){var C={},l=this.getEditing();return l&&l.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(f){C=b(b({},C),f.store(1))}),JSON.parse(JSON.stringify(C))},I.prototype.loadData=function(C){return C===void 0&&(C={}),(0,ne.isEmptyObj)(C)||(this.storables.forEach(function(l){return l.clear()}),this.storables.forEach(function(l){return l.load(C)})),C},I.prototype.getDeviceModel=function(){var C=this.get("device");return this.get("DeviceManager").get(C)},I.prototype.runDefault=function(C){C===void 0&&(C={});var l=this.get("Commands").get(this.config.defaultCommand);l&&!this.defaultRunning&&(l.stop(this,this,C),l.run(this,this,C),this.defaultRunning=!0)},I.prototype.stopDefault=function(C){C===void 0&&(C={});var l=this.get("Commands").get(this.config.defaultCommand);l&&this.defaultRunning&&(l.stop(this,this,C),this.defaultRunning=!1)},I.prototype.refreshCanvas=function(C){C===void 0&&(C={}),this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),C.tools&&this.trigger("canvas:updateTools")},I.prototype.clearSelection=function(C){var l;(l=(C||window).getSelection())===null||l===void 0||l.removeAllRanges()},I.prototype.getCurrentMedia=function(){var C=this.config,l=this.getDeviceModel(),f=C.mediaCondition,h=C.devicePreviewMode,u=l&&l.get("widthMedia");return l&&u&&!h?"(".concat(f,": ").concat(u,")"):""},I.prototype.getWrapper=function(){return this.get("DomComponents").getWrapper()},I.prototype.setCurrentFrame=function(C){return this.set("currentFrame",C)},I.prototype.getCurrentFrame=function(){return this.get("currentFrame")},I.prototype.getCurrentFrameModel=function(){return(this.getCurrentFrame()||{}).model},I.prototype.getIcon=function(C){return(this.config.icons||{})[C]||""},I.prototype.getDirtyCount=function(){return this.get("changesCount")},I.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},I.prototype.getZoomDecimal=function(){return this.get("Canvas").getZoomDecimal()},I.prototype.getZoomMultiplier=function(){return this.get("Canvas").getZoomMultiplier()},I.prototype.setDragMode=function(C){return this.set("dmode",C)},I.prototype.t=function(){for(var C=[],l=0;l<arguments.length;l++)C[l]=arguments[l];var f=this.get("I18n");return f==null?void 0:f.t.apply(f,C)},I.prototype.inAbsoluteMode=function(){return this.get("dmode")==="absolute"},I.prototype.destroyAll=function(){var C=this,l=this.config,f=this.view,h=this.getEditor(),u=(l.grapesjs||{}).editors,d=u===void 0?[]:u,P=this.get("shallow");P==null||P.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(q){return q.destroy()}),f&&f.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(q){return C[q]={}}),d.splice(d.indexOf(h),1),(0,ne.hasWin)()&&(0,_.default)(l.el).empty().attr(this.attrsOrig)},I.prototype.getEditing=function(){var C=this.get("editing");return C&&C.model||null},I.prototype.setEditing=function(C){return this.set("editing",C),this},I.prototype.isEditing=function(){return!!this.get("editing")},I.prototype.log=function(C,l){l===void 0&&(l={});var f=l.ns,h=l.level,u=h===void 0?"debug":h;if(this.trigger("log",C,l),u&&this.trigger("log:".concat(u),C,l),f){var d="log-".concat(f);this.trigger(d,C,l),u&&this.trigger("".concat(d,":").concat(u),C,l)}},I.prototype.logInfo=function(C,l){this.log(C,b(b({},l),{level:"info"}))},I.prototype.logWarning=function(C,l){this.log(C,b(b({},l),{level:"warning"}))},I.prototype.logError=function(C,l){this.log(C,b(b({},l),{level:"error"}))},I.prototype.initBaseColorPicker=function(C,l){l===void 0&&(l={});var f=this.config,h=f.colorPicker,u=h===void 0?{}:h,d=f.el,P=f.stylePrefix;return(0,_.default)(C).spectrum(b(b({containerClassName:"".concat(P,"one-bg ").concat(P,"two-color"),appendTo:d||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2A2F"},l),u))},I.prototype.skip=function(C){this.__skip=!0;var l=this.get("UndoManager");l?l.skip(C):C(),this.__skip=!1},I.prototype.data=function(C,l,f){var h="_gjs-data";if(C[h]||(C[h]={}),(0,Ze.isUndefined)(f))return C[h][l];C[h][l]=f},I}(fe.Model);const te=L;var xe=function(){var D=function(I,C){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])},D(I,C)};return function(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function l(){this.constructor=I}D(I,C),I.prototype=C===null?Object.create(C):(l.prototype=C.prototype,new l)}}(),he=de().$;const A=function(D){function I(C){var l=D.call(this,{model:C})||this,f=C.attributes,h=f.Panels,u=f.UndoManager;return C.view=l,C.once("change:ready",function(){h.active(),h.disableButtons(),u.clear(),setTimeout(function(){C.trigger("load",C.get("Editor")),C.clearDirtyCount()})}),l}return xe(I,D),I.prototype.render=function(){var C=this,l=this.$el,f=this.model,h=f.attributes,u=h.Panels,d=h.Canvas,P=f.config,q=f.modules,K=P.stylePrefix,H=he(P.el||"body ".concat(P.container));(0,ne.appendStyles)(P.cssIcons,{unique:!0,prepand:!0}),l.empty(),P.width&&H.css("width",P.width),P.height&&H.css("height",P.height),l.append(d.render()),l.append(u.render());var w=f.get("shallow").get("Canvas").render();return w.style.display="none",l.append(w),l.attr("class","".concat(K,"editor ").concat(K,"one-bg ").concat(K,"two-color")),H.addClass("".concat(K,"editor-cont")).empty().append(l),q.forEach(function(M){return M.postRender&&M.postRender(C)}),this},I}(fe.View);var z=function(){return z=Object.assign||function(D){for(var I,C=1,l=arguments.length;C<l;C++)for(var f in I=arguments[C])Object.prototype.hasOwnProperty.call(I,f)&&(D[f]=I[f]);return D},z.apply(this,arguments)},B=function(D,I,C,l){return new(C||(C=Promise))(function(f,h){function u(q){try{P(l.next(q))}catch(K){h(K)}}function d(q){try{P(l.throw(q))}catch(K){h(K)}}function P(q){var K;q.done?f(q.value):(K=q.value,K instanceof C?K:new C(function(H){H(K)})).then(u,d)}P((l=l.apply(D,I||[])).next())})},W=function(D,I){var C,l,f,h,u={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(P){return function(q){return function(K){if(C)throw new TypeError("Generator is already executing.");for(;u;)try{if(C=1,l&&(f=2&K[0]?l.return:K[0]?l.throw||((f=l.return)&&f.call(l),0):l.next)&&!(f=f.call(l,K[1])).done)return f;switch(l=0,f&&(K=[2&K[0],f.value]),K[0]){case 0:case 1:f=K;break;case 4:return u.label++,{value:K[1],done:!1};case 5:u.label++,l=K[1],K=[0];continue;case 7:K=u.ops.pop(),u.trys.pop();continue;default:if(f=u.trys,!((f=f.length>0&&f[f.length-1])||K[0]!==6&&K[0]!==2)){u=0;continue}if(K[0]===3&&(!f||K[1]>f[0]&&K[1]<f[3])){u.label=K[1];break}if(K[0]===6&&u.label<f[1]){u.label=f[1],f=K;break}if(f&&u.label<f[2]){u.label=f[2],u.ops.push(K);break}f[2]&&u.ops.pop(),u.trys.pop();continue}K=I.call(D,u)}catch(H){K=[6,H],l=0}finally{C=f=0}if(5&K[0])throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}([P,q])}}},ie=function(D,I,C){if(C||arguments.length===2)for(var l,f=0,h=I.length;f<h;f++)!l&&f in I||(l||(l=Array.prototype.slice.call(I,0,f)),l[f]=I[f]);return D.concat(l||Array.prototype.slice.call(I))};const E=function(){function D(I,C){I===void 0&&(I={}),C===void 0&&(C={}),this.modules=[],this.html=ve.Z,this.config=z(z(z({},_e),I),{pStylePrefix:_e.stylePrefix}),this.em=new te(this.config),this.$=C.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(D.prototype,"I18n",{get:function(){return this.em.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Utils",{get:function(){return this.em.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Commands",{get:function(){return this.em.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Keymaps",{get:function(){return this.em.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Modal",{get:function(){return this.em.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Panels",{get:function(){return this.em.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Canvas",{get:function(){return this.em.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Parser",{get:function(){return this.em.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"CodeManager",{get:function(){return this.em.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"UndoManager",{get:function(){return this.em.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"RichTextEditor",{get:function(){return this.em.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Pages",{get:function(){return this.em.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Components",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"DomComponents",{get:function(){return this.em.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Layers",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"LayerManager",{get:function(){return this.em.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Css",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"CssComposer",{get:function(){return this.em.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Storage",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"StorageManager",{get:function(){return this.em.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Assets",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"AssetManager",{get:function(){return this.em.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Blocks",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"BlockManager",{get:function(){return this.em.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Traits",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"TraitManager",{get:function(){return this.em.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Selectors",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"SelectorManager",{get:function(){return this.em.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Styles",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"StyleManager",{get:function(){return this.em.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"Devices",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"DeviceManager",{get:function(){return this.em.get("DeviceManager")},enumerable:!1,configurable:!0}),D.prototype.getConfig=function(I){var C=this.config;return(0,Ze.isUndefined)(I)?C:C[I]},D.prototype.getHtml=function(I){return this.em.getHtml(I)},D.prototype.getCss=function(I){return this.em.getCss(I)},D.prototype.getJs=function(I){return this.em.getJs(I)},D.prototype.getComponents=function(){return this.em.get("DomComponents").getComponents()},D.prototype.getWrapper=function(){return this.em.get("DomComponents").getWrapper()},D.prototype.setComponents=function(I,C){return C===void 0&&(C={}),this.em.setComponents(I,C),this},D.prototype.addComponents=function(I,C){return this.getWrapper().append(I,C)},D.prototype.getStyle=function(){return this.em.get("CssComposer").getAll()},D.prototype.setStyle=function(I,C){return C===void 0&&(C={}),this.em.setStyle(I,C),this},D.prototype.addStyle=function(I,C){return C===void 0&&(C={}),this.em.addStyle(I,C)},D.prototype.getSelected=function(){return this.em.getSelected()},D.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},D.prototype.getSelectedToStyle=function(){var I=this.em.getSelected();if(I)return this.StyleManager.getModelToStyle(I)},D.prototype.select=function(I,C){return this.em.setSelected(I,C),this},D.prototype.selectAdd=function(I){return this.em.addSelected(I),this},D.prototype.selectRemove=function(I){return this.em.removeSelected(I),this},D.prototype.selectToggle=function(I){return this.em.toggleSelected(I),this},D.prototype.getEditing=function(){return this.em.getEditing()},D.prototype.setDevice=function(I){return this.em.set("device",I),this},D.prototype.getDevice=function(){return this.em.get("device")},D.prototype.runCommand=function(I,C){return C===void 0&&(C={}),this.em.get("Commands").run(I,C)},D.prototype.stopCommand=function(I,C){return C===void 0&&(C={}),this.em.get("Commands").stop(I,C)},D.prototype.store=function(I){return B(this,void 0,void 0,function(){return W(this,function(C){switch(C.label){case 0:return[4,this.em.store(I)];case 1:return[2,C.sent()]}})})},D.prototype.load=function(I){return B(this,void 0,void 0,function(){return W(this,function(C){switch(C.label){case 0:return[4,this.em.load(I)];case 1:return[2,C.sent()]}})})},D.prototype.getProjectData=function(){return this.em.storeData()},D.prototype.loadProjectData=function(I){return this.em.loadData(I)},D.prototype.storeData=function(){return this.em.storeData()},D.prototype.loadData=function(I){return this.em.loadData(I)},D.prototype.getContainer=function(){return this.config.el},D.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},D.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},D.prototype.refresh=function(I){this.em.refreshCanvas(I)},D.prototype.setCustomRte=function(I){this.RichTextEditor.customRte=I},D.prototype.setCustomParserCss=function(I){return this.Parser.getConfig().parserCss=I,this},D.prototype.setDragMode=function(I){return this.em.setDragMode(I),this},D.prototype.log=function(I,C){return C===void 0&&(C={}),this.em.log(I,C),this},D.prototype.t=function(){for(var I,C=[],l=0;l<arguments.length;l++)C[l]=arguments[l];return(I=this.em).t.apply(I,C)},D.prototype.on=function(I,C){return this.em.on(I,C),this},D.prototype.once=function(I,C){return this.em.once(I,C),this},D.prototype.off=function(I,C){return this.em.off(I,C),this},D.prototype.trigger=function(I){for(var C=[],l=1;l<arguments.length;l++)C[l-1]=arguments[l];return this.em.trigger.apply(this.em,ie([I],C,!0)),this},D.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},D.prototype.getEl=function(){var I;return(I=this.editorView)===null||I===void 0?void 0:I.el},D.prototype.getModel=function(){return this.em},D.prototype.render=function(){var I;return(I=this.editorView)===null||I===void 0||I.remove(),this.editorView=new A(this.em),this.editorView.render().el},D.prototype.onReady=function(I){this.em.get("ready")?I(this):this.em.on("load",I)},D}(),O={plugins:[]};function a(D,I){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(D);I&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(D,f).enumerable})),C.push.apply(C,l)}return C}function c(D){for(var I=1;I<arguments.length;I++){var C=arguments[I]!=null?arguments[I]:{};I%2?a(Object(C),!0).forEach(function(l){(0,gt.Z)(D,l,C[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(l){Object.defineProperty(D,l,Object.getOwnPropertyDescriptor(C,l))})}return D}(function(){if((0,ne.hasWin)()&&function(){for(var I,C=window.navigator.userAgent,l=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],f=0;f<l.length&&!(I=l[f][1].exec(C));f++);return!!I}()){var D=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(I){return I||(I=""),D.apply(document.implementation,[I])}}})();var g=new function(D){var I=D||{};for(var C in O)C in I||(I[C]=O[C]);var l={};return{add:function(f,h){return l[f]?l[f]:(l[f]=h,h)},get:function(f){return l[f]},getAll:function(){return l}}},S=[],se={autorender:1,plugins:[],pluginsOpts:{}};const le={$:_.default,editors:S,plugins:g,version:"0.20.1",init:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D,C=I.headless,l=D.container;if(!l&&!C)throw new Error("'container' is required");(D=c(c(c({},se),D),{},{grapesjs:this})).el=!C&&((0,Ze.isElement)(l)?l:document.querySelector(l));var f=new E(D,{$:_.default}),h=f.getModel();return D.plugins.forEach(function(u){var d=(0,Ze.isFunction)(u)?u:g.get(u),P=D.pluginsOpts[u]||{};if(!d){var q=(0,ne.getGlobal)()[u];d=(q==null?void 0:q.default)||q}d?d(f,P):(0,Ze.isFunction)(u)?u(f,P):h.logWarning("Plugin ".concat(u," not found"),{context:"plugins",plugin:u})}),h.loadOnStart(),D.autorender&&!C&&f.render(),S.push(f),f}}})(),zn=zn.default})())})(tl);var bu=yu(tl.exports),wu=(jn,ln={})=>{jn.Panels.addButton("options",{id:"save",className:"fa fa-save",command(sn){sn.store(),sn.runCommand("notify",{type:"success",title:"Success",message:"Page Saved Successfully"})},attributes:{title:"Save"}})},xu=(jn,ln={})=>{var Dn=jn.getConfig().stylePrefix,sn=jn.Modal,bn=jn.Commands,zn=jn.Panels,gt=document.createElement("div");let Ze=document.createElement("textarea");gt.appendChild(Ze);var _=document.createElement("button");_.innerHTML="Save",_.style.float="right",_.style.backgroundColor="#090",_.className=Dn+"btn-prim "+Dn+"btn-import",_.onclick=function(){var _e=ve.editor.getValue();jn.DomComponents.getWrapper().set("content",""),jn.setComponents(_e.trim()),sn.close(),jn.runCommand("notify",{type:"success",title:"Success",message:"Html Saved"})},gt.appendChild(_);let ve=jn.CodeManager.getViewer("CodeMirror").clone();ve.set({codeName:"htmlmixed",readOnly:0,theme:"hopscotch",autoBeautify:!0,autoCloseTags:!0,autoCloseBrackets:!0,lineWrapping:!0,styleActiveLine:!0,smartIndent:!0,indentWithTabs:!0}),bn.add("html-edit",{run:function(_e,fe){fe&&fe.set("active",0),sn.setTitle("Edit code"),sn.setContent(gt);var de=ve.editor;de||(ve.init(Ze),de=ve.editor),ve.setContent(`${_e.getHtml()}
<style>${_e.getCss()}</style>`),sn.open(),de.refresh()}}),zn.addButton("options",{id:"edit",className:"fa fa-edit",command:"html-edit",attributes:{title:"Edit"}})},ku=(jn,ln={})=>{const Dn={loaderStyles:{left:"0",top:"0","background-color":"white",opacity:"0.7",position:"absolute","align-items":"center","justify-content":"center",width:"100%",height:"100%","font-size":"36pt",display:"flex","z-index":"100"},...ln};let sn=document.getElementById("loader");if(!sn){sn=document.createElement("div"),sn.id="loader";for(var bn in Dn.loaderStyles)sn.style[bn]=Dn.loaderStyles[bn];sn.innerHTML=' <i class="fa fa-spinner fa-spin"></i>'}let zn=jn.Commands;zn.add("show-loader",(gt,Ze,_)=>{const ve={container:"body",..._};let _e=document.querySelector(ve.container);_e&&(_e.append(sn),_e.style.position="relative")}),zn.add("hide-loader",(gt,Ze,_)=>{const ve={container:"body",..._};let _e=document.querySelector(ve.container);if(_e){_e.style.position="";let fe=document.querySelector(`${ve.container} #loader`);fe&&fe.remove()}}),jn.on("storage:start",()=>{jn.runCommand("show-loader")}),jn.on("storage:end",()=>{jn.runCommand("hide-loader")})},nl=(jn,ln={})=>{const Dn={use_proxy:!1,proxy_url:null,proxy_url_input:"file",config:{includeUI:{initMenu:"filter"}},constructor:"",labelImageEditor:"Image Editor",labelApply:"Apply",height:"650px",width:"100%",commandId:"tui-image-editor",toolbarIcon:`<svg viewBox="0 0 24 24">
                    <path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z">
                    </path>
                  </svg>`,hideHeader:1,onApply:0,addToAssets:1,upload:1,onApplyButton:()=>{},icons:{"menu.normalIcon.path":`${ln.remoteIcons}/icon-d.svg`,"menu.activeIcon.path":`${ln.remoteIcons}/icon-b.svg`,"menu.disabledIcon.path":`${ln.remoteIcons}/icon-a.svg`,"menu.hoverIcon.path":`${ln.remoteIcons}/icon-c.svg`,"submenu.normalIcon.path":`${ln.remoteIcons}/icon-d.svg`,"submenu.activeIcon.path":`${ln.remoteIcons}/icon-c.svg`},script:["https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.7/fabric.js","https://uicdn.toast.com/tui.code-snippet/v1.5.0/tui-code-snippet.min.js","https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.min.js","https://uicdn.toast.com/tui-image-editor/v3.4.0/tui-image-editor.js"],style:["https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.min.css","https://uicdn.toast.com/tui-image-editor/v3.4.0/tui-image-editor.min.css"],...ln},{script:sn,style:bn,height:zn,width:gt,hideHeader:Ze,icons:_,onApply:ve,upload:_e,addToAssets:fe,commandId:de}=Dn,ue=()=>Dn.constructor||window.tui&&window.tui.ImageEditor;let ne=ue();if(!ne&&sn){const{head:j}=document,m=Array.isArray(sn)?[...sn]:[sn],b=Array.isArray(bn)?[...bn]:[bn],T=s=>{if(s.length){const ae=document.createElement("link");ae.href=s.shift(),ae.rel="stylesheet",j.appendChild(ae),T(s)}},V=s=>{if(s.length){const ae=document.createElement("script");ae.src=s.shift(),ae.onerror=ae.onload=V.bind(null,s),j.appendChild(ae)}else ne=ue()};T(b),V(m)}const X=jn.DomComponents,ee=X.getType("image").model;X.addType("image",{model:{initToolbar(){ee.prototype.initToolbar.apply(this,arguments);const j=this.get("toolbar");j.some(b=>b.command===de)||(j.unshift({command:de,label:Dn.toolbarIcon}),this.set("toolbar",j))}}}),jn.Commands.add(de,{run(j,m,b={}){const{id:T}=this;if(!ne)return j.log("TOAST UI Image editor not found",{level:"error",ns:de}),j.stopCommand(T);this.editor=j,this.target=b.target||j.getSelected();const V=this.createContent(),s=Dn.labelImageEditor,ae=V.children[1];j.Modal.open({title:s,content:V}).getModel().once("change:open",()=>j.stopCommand(T)),this.imageEditor=new ne(V.children[0],this.getEditorConfig()),j.getModel().setEditing(1),ae.onclick=()=>this.applyChanges(),Dn.onApplyButton(ae)},stop(j){const{imageEditor:m}=this;m&&m.destroy(),j.getModel().setEditing(0)},getEditorConfig(){const j={...Dn.config};let m=this.target.get("src");return Dn.use_proxy&&(m=`${Dn.proxy_url}?${Dn.proxy_url_input}=${encodeURI(m)}`),j.includeUI||(j.includeUI={}),j.includeUI={theme:{},...j.includeUI,loadImage:{path:m,name:1},uiSize:{height:zn,width:gt}},Ze&&(j.includeUI.theme["header.display"]="none"),_&&(j.includeUI.theme={...j.includeUI.theme,..._}),j},createContent(){const j=document.createElement("div");return j.style="position: relative",j.innerHTML=`
        <div></div>
        <button class="tui-image-editor__apply-btn" style="
          position: absolute;
          top: 0; right: 0;
          margin: 10px;
          background-color: #fff;
          font-size: 1rem;
          border-radius: 3px;
          border: none;
          padding: 10px 20px;
          cursor: pointer
        ">
          ${Dn.labelApply}
        </botton>
      `,j},applyChanges(){const{imageEditor:j,target:m,editor:b}=this,{AssetManager:T}=b;ve?ve(j,m):j.getDrawingMode()==="CROPPER"?j.crop(j.getCropzoneRect()).then(()=>{this.uploadImage(j,m,T)}):this.uploadImage(j,m,T)},uploadImage(j,m,b){const T=j.toDataURL();if(_e){const V=this.dataUrlToBlob(T);b.FileUploader().uploadFile({dataTransfer:{files:[V]}},s=>{const ae=s&&s.data&&s.data[0],$=ae&&(typeof ae=="string"?ae:ae.src);$&&this.applyToTarget($)})}else fe&&b.add({src:T,name:(m.get("src")||"").split("/").pop()}),this.applyToTarget(T)},applyToTarget(j){this.target.set({src:j}),this.editor.Modal.close()},dataUrlToBlob(j){const m=j.split(","),b=window.atob(m[1]),T=m[0].split(":")[1].split(";")[0],V=new ArrayBuffer(b.length),s=new Uint8Array(V);for(let ae=0;ae<b.length;ae++)s[ae]=b.charCodeAt(ae);return new Blob([V],{type:T})}})},Cu=(jn,ln={})=>{({...ln},jn.AssetManager),jn.on("asset:upload:start",()=>{jn.runCommand("show-loader",{container:".gjs-am-file-uploader"})}),jn.on("asset:upload:end",Dn=>{jn.runCommand("hide-loader",{container:".gjs-am-file-uploader"})}),jn.on("asset:upload:response",()=>{jn.runCommand("notify",{type:"success",title:"Success",message:"File Uploaded Successfully"})}),jn.on("asset:upload:error",Dn=>{var sn;jn.runCommand("hide-loader",{container:".gjs-am-file-uploader"}),jn.runCommand("notify",{type:"error",title:"Error",message:"File Uploaded Error: "+((sn=Dn.message)!=null?sn:Dn)})})},rl={exports:{}},il={exports:{}};/*!
 * jQuery JavaScript Library v3.6.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2022-08-26T17:52Z
 */(function(jn){(function(ln,Dn){jn.exports=ln.document?Dn(ln,!0):function(sn){if(!sn.document)throw new Error("jQuery requires a window with a document");return Dn(sn)}})(typeof window!="undefined"?window:Oo,function(ln,Dn){var sn=[],bn=Object.getPrototypeOf,zn=sn.slice,gt=sn.flat?function(o){return sn.flat.call(o)}:function(o){return sn.concat.apply([],o)},Ze=sn.push,_=sn.indexOf,ve={},_e=ve.toString,fe=ve.hasOwnProperty,de=fe.toString,ue=de.call(Object),ne={},X=function(p){return typeof p=="function"&&typeof p.nodeType!="number"&&typeof p.item!="function"},ee=function(p){return p!=null&&p===p.window},j=ln.document,m={type:!0,src:!0,nonce:!0,noModule:!0};function b(o,p,k){k=k||j;var N,oe,ce=k.createElement("script");if(ce.text=o,p)for(N in m)oe=p[N]||p.getAttribute&&p.getAttribute(N),oe&&ce.setAttribute(N,oe);k.head.appendChild(ce).parentNode.removeChild(ce)}function T(o){return o==null?o+"":typeof o=="object"||typeof o=="function"?ve[_e.call(o)]||"object":typeof o}var V="3.6.1",s=function(o,p){return new s.fn.init(o,p)};s.fn=s.prototype={jquery:V,constructor:s,length:0,toArray:function(){return zn.call(this)},get:function(o){return o==null?zn.call(this):o<0?this[o+this.length]:this[o]},pushStack:function(o){var p=s.merge(this.constructor(),o);return p.prevObject=this,p},each:function(o){return s.each(this,o)},map:function(o){return this.pushStack(s.map(this,function(p,k){return o.call(p,k,p)}))},slice:function(){return this.pushStack(zn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(s.grep(this,function(o,p){return(p+1)%2}))},odd:function(){return this.pushStack(s.grep(this,function(o,p){return p%2}))},eq:function(o){var p=this.length,k=+o+(o<0?p:0);return this.pushStack(k>=0&&k<p?[this[k]]:[])},end:function(){return this.prevObject||this.constructor()},push:Ze,sort:sn.sort,splice:sn.splice},s.extend=s.fn.extend=function(){var o,p,k,N,oe,ce,ke=arguments[0]||{},Xe=1,He=arguments.length,at=!1;for(typeof ke=="boolean"&&(at=ke,ke=arguments[Xe]||{},Xe++),typeof ke!="object"&&!X(ke)&&(ke={}),Xe===He&&(ke=this,Xe--);Xe<He;Xe++)if((o=arguments[Xe])!=null)for(p in o)N=o[p],!(p==="__proto__"||ke===N)&&(at&&N&&(s.isPlainObject(N)||(oe=Array.isArray(N)))?(k=ke[p],oe&&!Array.isArray(k)?ce=[]:!oe&&!s.isPlainObject(k)?ce={}:ce=k,oe=!1,ke[p]=s.extend(at,ce,N)):N!==void 0&&(ke[p]=N));return ke},s.extend({expando:"jQuery"+(V+Math.random()).replace(/\D/g,""),isReady:!0,error:function(o){throw new Error(o)},noop:function(){},isPlainObject:function(o){var p,k;return!o||_e.call(o)!=="[object Object]"?!1:(p=bn(o),p?(k=fe.call(p,"constructor")&&p.constructor,typeof k=="function"&&de.call(k)===ue):!0)},isEmptyObject:function(o){var p;for(p in o)return!1;return!0},globalEval:function(o,p,k){b(o,{nonce:p&&p.nonce},k)},each:function(o,p){var k,N=0;if(ae(o))for(k=o.length;N<k&&p.call(o[N],N,o[N])!==!1;N++);else for(N in o)if(p.call(o[N],N,o[N])===!1)break;return o},makeArray:function(o,p){var k=p||[];return o!=null&&(ae(Object(o))?s.merge(k,typeof o=="string"?[o]:o):Ze.call(k,o)),k},inArray:function(o,p,k){return p==null?-1:_.call(p,o,k)},merge:function(o,p){for(var k=+p.length,N=0,oe=o.length;N<k;N++)o[oe++]=p[N];return o.length=oe,o},grep:function(o,p,k){for(var N,oe=[],ce=0,ke=o.length,Xe=!k;ce<ke;ce++)N=!p(o[ce],ce),N!==Xe&&oe.push(o[ce]);return oe},map:function(o,p,k){var N,oe,ce=0,ke=[];if(ae(o))for(N=o.length;ce<N;ce++)oe=p(o[ce],ce,k),oe!=null&&ke.push(oe);else for(ce in o)oe=p(o[ce],ce,k),oe!=null&&ke.push(oe);return gt(ke)},guid:1,support:ne}),typeof Symbol=="function"&&(s.fn[Symbol.iterator]=sn[Symbol.iterator]),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(o,p){ve["[object "+p+"]"]=p.toLowerCase()});function ae(o){var p=!!o&&"length"in o&&o.length,k=T(o);return X(o)||ee(o)?!1:k==="array"||p===0||typeof p=="number"&&p>0&&p-1 in o}var $=function(o){var p,k,N,oe,ce,ke,Xe,He,at,vt,jt,dt,Ot,tn,_n,Qt,mr,yr,Hr,Gn="sizzle"+1*new Date,An=o.document,Sr=0,Vn=0,er=Yi(),Ar=Yi(),$r=Yi(),Yr=Yi(),bi=function(Le,Qe){return Le===Qe&&(jt=!0),0},wi={}.hasOwnProperty,_r=[],ar=_r.pop,zr=_r.push,ci=_r.push,Ci=_r.slice,oi=function(Le,Qe){for(var ot=0,Et=Le.length;ot<Et;ot++)if(Le[ot]===Qe)return ot;return-1},Ti="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Yn="[\\x20\\t\\r\\n\\f]",fi="(?:\\\\[\\da-fA-F]{1,6}"+Yn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Fi="\\["+Yn+"*("+fi+")(?:"+Yn+"*([*^$|!~]?=)"+Yn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+fi+"))|)"+Yn+"*\\]",Ei=":("+fi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Fi+")*)|.*)\\)|)",Ki=new RegExp(Yn+"+","g"),ji=new RegExp("^"+Yn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Yn+"+$","g"),Bi=new RegExp("^"+Yn+"*,"+Yn+"*"),lo=new RegExp("^"+Yn+"*([>+~]|"+Yn+")"+Yn+"*"),ge=new RegExp(Yn+"|>"),Ee=new RegExp(Ei),qe=new RegExp("^"+fi+"$"),Je={ID:new RegExp("^#("+fi+")"),CLASS:new RegExp("^\\.("+fi+")"),TAG:new RegExp("^("+fi+"|[*])"),ATTR:new RegExp("^"+Fi),PSEUDO:new RegExp("^"+Ei),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Yn+"*(even|odd|(([+-]|)(\\d*)n|)"+Yn+"*(?:([+-]|)"+Yn+"*(\\d+)|))"+Yn+"*\\)|)","i"),bool:new RegExp("^(?:"+Ti+")$","i"),needsContext:new RegExp("^"+Yn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Yn+"*((?:-\\d)?\\d*)"+Yn+"*\\)|)(?=[^-]|$)","i")},ht=/HTML$/i,it=/^(?:input|select|textarea|button)$/i,St=/^h\d$/i,Bt=/^[^{]+\{\s*\[native \w/,Pn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zn=/[+~]/,Xn=new RegExp("\\\\[\\da-fA-F]{1,6}"+Yn+"?|\\\\([^\\r\\n\\f])","g"),Er=function(Le,Qe){var ot="0x"+Le.slice(1)-65536;return Qe||(ot<0?String.fromCharCode(ot+65536):String.fromCharCode(ot>>10|55296,ot&1023|56320))},Ai=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xi=function(Le,Qe){return Qe?Le==="\0"?"\uFFFD":Le.slice(0,-1)+"\\"+Le.charCodeAt(Le.length-1).toString(16)+" ":"\\"+Le},gi=function(){dt()},Di=Ri(function(Le){return Le.disabled===!0&&Le.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{ci.apply(_r=Ci.call(An.childNodes),An.childNodes),_r[An.childNodes.length].nodeType}catch{ci={apply:_r.length?function(Qe,ot){zr.apply(Qe,Ci.call(ot))}:function(Qe,ot){for(var Et=Qe.length,ft=0;Qe[Et++]=ot[ft++];);Qe.length=Et-1}}}function lr(Le,Qe,ot,Et){var ft,Dt,Nt,Kt,Jt,Tn,mn,Cn=Qe&&Qe.ownerDocument,En=Qe?Qe.nodeType:9;if(ot=ot||[],typeof Le!="string"||!Le||En!==1&&En!==9&&En!==11)return ot;if(!Et&&(dt(Qe),Qe=Qe||Ot,_n)){if(En!==11&&(Jt=Pn.exec(Le)))if(ft=Jt[1]){if(En===9)if(Nt=Qe.getElementById(ft)){if(Nt.id===ft)return ot.push(Nt),ot}else return ot;else if(Cn&&(Nt=Cn.getElementById(ft))&&Hr(Qe,Nt)&&Nt.id===ft)return ot.push(Nt),ot}else{if(Jt[2])return ci.apply(ot,Qe.getElementsByTagName(Le)),ot;if((ft=Jt[3])&&k.getElementsByClassName&&Qe.getElementsByClassName)return ci.apply(ot,Qe.getElementsByClassName(ft)),ot}if(k.qsa&&!Yr[Le+" "]&&(!Qt||!Qt.test(Le))&&(En!==1||Qe.nodeName.toLowerCase()!=="object")){if(mn=Le,Cn=Qe,En===1&&(ge.test(Le)||lo.test(Le))){for(Cn=Zn.test(Le)&&Ji(Qe.parentNode)||Qe,(Cn!==Qe||!k.scope)&&((Kt=Qe.getAttribute("id"))?Kt=Kt.replace(Ai,xi):Qe.setAttribute("id",Kt=Gn)),Tn=ke(Le),Dt=Tn.length;Dt--;)Tn[Dt]=(Kt?"#"+Kt:":scope")+" "+eo(Tn[Dt]);mn=Tn.join(",")}try{return ci.apply(ot,Cn.querySelectorAll(mn)),ot}catch{Yr(Le,!0)}finally{Kt===Gn&&Qe.removeAttribute("id")}}}return He(Le.replace(ji,"$1"),Qe,ot,Et)}function Yi(){var Le=[];function Qe(ot,Et){return Le.push(ot+" ")>N.cacheLength&&delete Qe[Le.shift()],Qe[ot+" "]=Et}return Qe}function vi(Le){return Le[Gn]=!0,Le}function mi(Le){var Qe=Ot.createElement("fieldset");try{return!!Le(Qe)}catch{return!1}finally{Qe.parentNode&&Qe.parentNode.removeChild(Qe),Qe=null}}function So(Le,Qe){for(var ot=Le.split("|"),Et=ot.length;Et--;)N.attrHandle[ot[Et]]=Qe}function _o(Le,Qe){var ot=Qe&&Le,Et=ot&&Le.nodeType===1&&Qe.nodeType===1&&Le.sourceIndex-Qe.sourceIndex;if(Et)return Et;if(ot){for(;ot=ot.nextSibling;)if(ot===Qe)return-1}return Le?1:-1}function Go(Le){return function(Qe){var ot=Qe.nodeName.toLowerCase();return ot==="input"&&Qe.type===Le}}function Xi(Le){return function(Qe){var ot=Qe.nodeName.toLowerCase();return(ot==="input"||ot==="button")&&Qe.type===Le}}function Po(Le){return function(Qe){return"form"in Qe?Qe.parentNode&&Qe.disabled===!1?"label"in Qe?"label"in Qe.parentNode?Qe.parentNode.disabled===Le:Qe.disabled===Le:Qe.isDisabled===Le||Qe.isDisabled!==!Le&&Di(Qe)===Le:Qe.disabled===Le:"label"in Qe?Qe.disabled===Le:!1}}function Pi(Le){return vi(function(Qe){return Qe=+Qe,vi(function(ot,Et){for(var ft,Dt=Le([],ot.length,Qe),Nt=Dt.length;Nt--;)ot[ft=Dt[Nt]]&&(ot[ft]=!(Et[ft]=ot[ft]))})})}function Ji(Le){return Le&&typeof Le.getElementsByTagName!="undefined"&&Le}k=lr.support={},ce=lr.isXML=function(Le){var Qe=Le&&Le.namespaceURI,ot=Le&&(Le.ownerDocument||Le).documentElement;return!ht.test(Qe||ot&&ot.nodeName||"HTML")},dt=lr.setDocument=function(Le){var Qe,ot,Et=Le?Le.ownerDocument||Le:An;return Et==Ot||Et.nodeType!==9||!Et.documentElement||(Ot=Et,tn=Ot.documentElement,_n=!ce(Ot),An!=Ot&&(ot=Ot.defaultView)&&ot.top!==ot&&(ot.addEventListener?ot.addEventListener("unload",gi,!1):ot.attachEvent&&ot.attachEvent("onunload",gi)),k.scope=mi(function(ft){return tn.appendChild(ft).appendChild(Ot.createElement("div")),typeof ft.querySelectorAll!="undefined"&&!ft.querySelectorAll(":scope fieldset div").length}),k.attributes=mi(function(ft){return ft.className="i",!ft.getAttribute("className")}),k.getElementsByTagName=mi(function(ft){return ft.appendChild(Ot.createComment("")),!ft.getElementsByTagName("*").length}),k.getElementsByClassName=Bt.test(Ot.getElementsByClassName),k.getById=mi(function(ft){return tn.appendChild(ft).id=Gn,!Ot.getElementsByName||!Ot.getElementsByName(Gn).length}),k.getById?(N.filter.ID=function(ft){var Dt=ft.replace(Xn,Er);return function(Nt){return Nt.getAttribute("id")===Dt}},N.find.ID=function(ft,Dt){if(typeof Dt.getElementById!="undefined"&&_n){var Nt=Dt.getElementById(ft);return Nt?[Nt]:[]}}):(N.filter.ID=function(ft){var Dt=ft.replace(Xn,Er);return function(Nt){var Kt=typeof Nt.getAttributeNode!="undefined"&&Nt.getAttributeNode("id");return Kt&&Kt.value===Dt}},N.find.ID=function(ft,Dt){if(typeof Dt.getElementById!="undefined"&&_n){var Nt,Kt,Jt,Tn=Dt.getElementById(ft);if(Tn){if(Nt=Tn.getAttributeNode("id"),Nt&&Nt.value===ft)return[Tn];for(Jt=Dt.getElementsByName(ft),Kt=0;Tn=Jt[Kt++];)if(Nt=Tn.getAttributeNode("id"),Nt&&Nt.value===ft)return[Tn]}return[]}}),N.find.TAG=k.getElementsByTagName?function(ft,Dt){if(typeof Dt.getElementsByTagName!="undefined")return Dt.getElementsByTagName(ft);if(k.qsa)return Dt.querySelectorAll(ft)}:function(ft,Dt){var Nt,Kt=[],Jt=0,Tn=Dt.getElementsByTagName(ft);if(ft==="*"){for(;Nt=Tn[Jt++];)Nt.nodeType===1&&Kt.push(Nt);return Kt}return Tn},N.find.CLASS=k.getElementsByClassName&&function(ft,Dt){if(typeof Dt.getElementsByClassName!="undefined"&&_n)return Dt.getElementsByClassName(ft)},mr=[],Qt=[],(k.qsa=Bt.test(Ot.querySelectorAll))&&(mi(function(ft){var Dt;tn.appendChild(ft).innerHTML="<a id='"+Gn+"'></a><select id='"+Gn+"-\r\\' msallowcapture=''><option selected=''></option></select>",ft.querySelectorAll("[msallowcapture^='']").length&&Qt.push("[*^$]="+Yn+`*(?:''|"")`),ft.querySelectorAll("[selected]").length||Qt.push("\\["+Yn+"*(?:value|"+Ti+")"),ft.querySelectorAll("[id~="+Gn+"-]").length||Qt.push("~="),Dt=Ot.createElement("input"),Dt.setAttribute("name",""),ft.appendChild(Dt),ft.querySelectorAll("[name='']").length||Qt.push("\\["+Yn+"*name"+Yn+"*="+Yn+`*(?:''|"")`),ft.querySelectorAll(":checked").length||Qt.push(":checked"),ft.querySelectorAll("a#"+Gn+"+*").length||Qt.push(".#.+[+~]"),ft.querySelectorAll("\\\f"),Qt.push("[\\r\\n\\f]")}),mi(function(ft){ft.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Dt=Ot.createElement("input");Dt.setAttribute("type","hidden"),ft.appendChild(Dt).setAttribute("name","D"),ft.querySelectorAll("[name=d]").length&&Qt.push("name"+Yn+"*[*^$|!~]?="),ft.querySelectorAll(":enabled").length!==2&&Qt.push(":enabled",":disabled"),tn.appendChild(ft).disabled=!0,ft.querySelectorAll(":disabled").length!==2&&Qt.push(":enabled",":disabled"),ft.querySelectorAll("*,:x"),Qt.push(",.*:")})),(k.matchesSelector=Bt.test(yr=tn.matches||tn.webkitMatchesSelector||tn.mozMatchesSelector||tn.oMatchesSelector||tn.msMatchesSelector))&&mi(function(ft){k.disconnectedMatch=yr.call(ft,"*"),yr.call(ft,"[s!='']:x"),mr.push("!=",Ei)}),Qt=Qt.length&&new RegExp(Qt.join("|")),mr=mr.length&&new RegExp(mr.join("|")),Qe=Bt.test(tn.compareDocumentPosition),Hr=Qe||Bt.test(tn.contains)?function(ft,Dt){var Nt=ft.nodeType===9?ft.documentElement:ft,Kt=Dt&&Dt.parentNode;return ft===Kt||!!(Kt&&Kt.nodeType===1&&(Nt.contains?Nt.contains(Kt):ft.compareDocumentPosition&&ft.compareDocumentPosition(Kt)&16))}:function(ft,Dt){if(Dt){for(;Dt=Dt.parentNode;)if(Dt===ft)return!0}return!1},bi=Qe?function(ft,Dt){if(ft===Dt)return jt=!0,0;var Nt=!ft.compareDocumentPosition-!Dt.compareDocumentPosition;return Nt||(Nt=(ft.ownerDocument||ft)==(Dt.ownerDocument||Dt)?ft.compareDocumentPosition(Dt):1,Nt&1||!k.sortDetached&&Dt.compareDocumentPosition(ft)===Nt?ft==Ot||ft.ownerDocument==An&&Hr(An,ft)?-1:Dt==Ot||Dt.ownerDocument==An&&Hr(An,Dt)?1:vt?oi(vt,ft)-oi(vt,Dt):0:Nt&4?-1:1)}:function(ft,Dt){if(ft===Dt)return jt=!0,0;var Nt,Kt=0,Jt=ft.parentNode,Tn=Dt.parentNode,mn=[ft],Cn=[Dt];if(!Jt||!Tn)return ft==Ot?-1:Dt==Ot?1:Jt?-1:Tn?1:vt?oi(vt,ft)-oi(vt,Dt):0;if(Jt===Tn)return _o(ft,Dt);for(Nt=ft;Nt=Nt.parentNode;)mn.unshift(Nt);for(Nt=Dt;Nt=Nt.parentNode;)Cn.unshift(Nt);for(;mn[Kt]===Cn[Kt];)Kt++;return Kt?_o(mn[Kt],Cn[Kt]):mn[Kt]==An?-1:Cn[Kt]==An?1:0}),Ot},lr.matches=function(Le,Qe){return lr(Le,null,null,Qe)},lr.matchesSelector=function(Le,Qe){if(dt(Le),k.matchesSelector&&_n&&!Yr[Qe+" "]&&(!mr||!mr.test(Qe))&&(!Qt||!Qt.test(Qe)))try{var ot=yr.call(Le,Qe);if(ot||k.disconnectedMatch||Le.document&&Le.document.nodeType!==11)return ot}catch{Yr(Qe,!0)}return lr(Qe,Ot,null,[Le]).length>0},lr.contains=function(Le,Qe){return(Le.ownerDocument||Le)!=Ot&&dt(Le),Hr(Le,Qe)},lr.attr=function(Le,Qe){(Le.ownerDocument||Le)!=Ot&&dt(Le);var ot=N.attrHandle[Qe.toLowerCase()],Et=ot&&wi.call(N.attrHandle,Qe.toLowerCase())?ot(Le,Qe,!_n):void 0;return Et!==void 0?Et:k.attributes||!_n?Le.getAttribute(Qe):(Et=Le.getAttributeNode(Qe))&&Et.specified?Et.value:null},lr.escape=function(Le){return(Le+"").replace(Ai,xi)},lr.error=function(Le){throw new Error("Syntax error, unrecognized expression: "+Le)},lr.uniqueSort=function(Le){var Qe,ot=[],Et=0,ft=0;if(jt=!k.detectDuplicates,vt=!k.sortStable&&Le.slice(0),Le.sort(bi),jt){for(;Qe=Le[ft++];)Qe===Le[ft]&&(Et=ot.push(ft));for(;Et--;)Le.splice(ot[Et],1)}return vt=null,Le},oe=lr.getText=function(Le){var Qe,ot="",Et=0,ft=Le.nodeType;if(ft){if(ft===1||ft===9||ft===11){if(typeof Le.textContent=="string")return Le.textContent;for(Le=Le.firstChild;Le;Le=Le.nextSibling)ot+=oe(Le)}else if(ft===3||ft===4)return Le.nodeValue}else for(;Qe=Le[Et++];)ot+=oe(Qe);return ot},N=lr.selectors={cacheLength:50,createPseudo:vi,match:Je,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Le){return Le[1]=Le[1].replace(Xn,Er),Le[3]=(Le[3]||Le[4]||Le[5]||"").replace(Xn,Er),Le[2]==="~="&&(Le[3]=" "+Le[3]+" "),Le.slice(0,4)},CHILD:function(Le){return Le[1]=Le[1].toLowerCase(),Le[1].slice(0,3)==="nth"?(Le[3]||lr.error(Le[0]),Le[4]=+(Le[4]?Le[5]+(Le[6]||1):2*(Le[3]==="even"||Le[3]==="odd")),Le[5]=+(Le[7]+Le[8]||Le[3]==="odd")):Le[3]&&lr.error(Le[0]),Le},PSEUDO:function(Le){var Qe,ot=!Le[6]&&Le[2];return Je.CHILD.test(Le[0])?null:(Le[3]?Le[2]=Le[4]||Le[5]||"":ot&&Ee.test(ot)&&(Qe=ke(ot,!0))&&(Qe=ot.indexOf(")",ot.length-Qe)-ot.length)&&(Le[0]=Le[0].slice(0,Qe),Le[2]=ot.slice(0,Qe)),Le.slice(0,3))}},filter:{TAG:function(Le){var Qe=Le.replace(Xn,Er).toLowerCase();return Le==="*"?function(){return!0}:function(ot){return ot.nodeName&&ot.nodeName.toLowerCase()===Qe}},CLASS:function(Le){var Qe=er[Le+" "];return Qe||(Qe=new RegExp("(^|"+Yn+")"+Le+"("+Yn+"|$)"))&&er(Le,function(ot){return Qe.test(typeof ot.className=="string"&&ot.className||typeof ot.getAttribute!="undefined"&&ot.getAttribute("class")||"")})},ATTR:function(Le,Qe,ot){return function(Et){var ft=lr.attr(Et,Le);return ft==null?Qe==="!=":Qe?(ft+="",Qe==="="?ft===ot:Qe==="!="?ft!==ot:Qe==="^="?ot&&ft.indexOf(ot)===0:Qe==="*="?ot&&ft.indexOf(ot)>-1:Qe==="$="?ot&&ft.slice(-ot.length)===ot:Qe==="~="?(" "+ft.replace(Ki," ")+" ").indexOf(ot)>-1:Qe==="|="?ft===ot||ft.slice(0,ot.length+1)===ot+"-":!1):!0}},CHILD:function(Le,Qe,ot,Et,ft){var Dt=Le.slice(0,3)!=="nth",Nt=Le.slice(-4)!=="last",Kt=Qe==="of-type";return Et===1&&ft===0?function(Jt){return!!Jt.parentNode}:function(Jt,Tn,mn){var Cn,En,Kn,yn,Pr,Xr,ti=Dt!==Nt?"nextSibling":"previousSibling",ur=Jt.parentNode,Hi=Kt&&Jt.nodeName.toLowerCase(),Mi=!mn&&!Kt,Jr=!1;if(ur){if(Dt){for(;ti;){for(yn=Jt;yn=yn[ti];)if(Kt?yn.nodeName.toLowerCase()===Hi:yn.nodeType===1)return!1;Xr=ti=Le==="only"&&!Xr&&"nextSibling"}return!0}if(Xr=[Nt?ur.firstChild:ur.lastChild],Nt&&Mi){for(yn=ur,Kn=yn[Gn]||(yn[Gn]={}),En=Kn[yn.uniqueID]||(Kn[yn.uniqueID]={}),Cn=En[Le]||[],Pr=Cn[0]===Sr&&Cn[1],Jr=Pr&&Cn[2],yn=Pr&&ur.childNodes[Pr];yn=++Pr&&yn&&yn[ti]||(Jr=Pr=0)||Xr.pop();)if(yn.nodeType===1&&++Jr&&yn===Jt){En[Le]=[Sr,Pr,Jr];break}}else if(Mi&&(yn=Jt,Kn=yn[Gn]||(yn[Gn]={}),En=Kn[yn.uniqueID]||(Kn[yn.uniqueID]={}),Cn=En[Le]||[],Pr=Cn[0]===Sr&&Cn[1],Jr=Pr),Jr===!1)for(;(yn=++Pr&&yn&&yn[ti]||(Jr=Pr=0)||Xr.pop())&&!((Kt?yn.nodeName.toLowerCase()===Hi:yn.nodeType===1)&&++Jr&&(Mi&&(Kn=yn[Gn]||(yn[Gn]={}),En=Kn[yn.uniqueID]||(Kn[yn.uniqueID]={}),En[Le]=[Sr,Jr]),yn===Jt)););return Jr-=ft,Jr===Et||Jr%Et===0&&Jr/Et>=0}}},PSEUDO:function(Le,Qe){var ot,Et=N.pseudos[Le]||N.setFilters[Le.toLowerCase()]||lr.error("unsupported pseudo: "+Le);return Et[Gn]?Et(Qe):Et.length>1?(ot=[Le,Le,"",Qe],N.setFilters.hasOwnProperty(Le.toLowerCase())?vi(function(ft,Dt){for(var Nt,Kt=Et(ft,Qe),Jt=Kt.length;Jt--;)Nt=oi(ft,Kt[Jt]),ft[Nt]=!(Dt[Nt]=Kt[Jt])}):function(ft){return Et(ft,0,ot)}):Et}},pseudos:{not:vi(function(Le){var Qe=[],ot=[],Et=Xe(Le.replace(ji,"$1"));return Et[Gn]?vi(function(ft,Dt,Nt,Kt){for(var Jt,Tn=Et(ft,null,Kt,[]),mn=ft.length;mn--;)(Jt=Tn[mn])&&(ft[mn]=!(Dt[mn]=Jt))}):function(ft,Dt,Nt){return Qe[0]=ft,Et(Qe,null,Nt,ot),Qe[0]=null,!ot.pop()}}),has:vi(function(Le){return function(Qe){return lr(Le,Qe).length>0}}),contains:vi(function(Le){return Le=Le.replace(Xn,Er),function(Qe){return(Qe.textContent||oe(Qe)).indexOf(Le)>-1}}),lang:vi(function(Le){return qe.test(Le||"")||lr.error("unsupported lang: "+Le),Le=Le.replace(Xn,Er).toLowerCase(),function(Qe){var ot;do if(ot=_n?Qe.lang:Qe.getAttribute("xml:lang")||Qe.getAttribute("lang"))return ot=ot.toLowerCase(),ot===Le||ot.indexOf(Le+"-")===0;while((Qe=Qe.parentNode)&&Qe.nodeType===1);return!1}}),target:function(Le){var Qe=o.location&&o.location.hash;return Qe&&Qe.slice(1)===Le.id},root:function(Le){return Le===tn},focus:function(Le){return Le===Ot.activeElement&&(!Ot.hasFocus||Ot.hasFocus())&&!!(Le.type||Le.href||~Le.tabIndex)},enabled:Po(!1),disabled:Po(!0),checked:function(Le){var Qe=Le.nodeName.toLowerCase();return Qe==="input"&&!!Le.checked||Qe==="option"&&!!Le.selected},selected:function(Le){return Le.parentNode&&Le.parentNode.selectedIndex,Le.selected===!0},empty:function(Le){for(Le=Le.firstChild;Le;Le=Le.nextSibling)if(Le.nodeType<6)return!1;return!0},parent:function(Le){return!N.pseudos.empty(Le)},header:function(Le){return St.test(Le.nodeName)},input:function(Le){return it.test(Le.nodeName)},button:function(Le){var Qe=Le.nodeName.toLowerCase();return Qe==="input"&&Le.type==="button"||Qe==="button"},text:function(Le){var Qe;return Le.nodeName.toLowerCase()==="input"&&Le.type==="text"&&((Qe=Le.getAttribute("type"))==null||Qe.toLowerCase()==="text")},first:Pi(function(){return[0]}),last:Pi(function(Le,Qe){return[Qe-1]}),eq:Pi(function(Le,Qe,ot){return[ot<0?ot+Qe:ot]}),even:Pi(function(Le,Qe){for(var ot=0;ot<Qe;ot+=2)Le.push(ot);return Le}),odd:Pi(function(Le,Qe){for(var ot=1;ot<Qe;ot+=2)Le.push(ot);return Le}),lt:Pi(function(Le,Qe,ot){for(var Et=ot<0?ot+Qe:ot>Qe?Qe:ot;--Et>=0;)Le.push(Et);return Le}),gt:Pi(function(Le,Qe,ot){for(var Et=ot<0?ot+Qe:ot;++Et<Qe;)Le.push(Et);return Le})}},N.pseudos.nth=N.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})N.pseudos[p]=Go(p);for(p in{submit:!0,reset:!0})N.pseudos[p]=Xi(p);function Qi(){}Qi.prototype=N.filters=N.pseudos,N.setFilters=new Qi,ke=lr.tokenize=function(Le,Qe){var ot,Et,ft,Dt,Nt,Kt,Jt,Tn=Ar[Le+" "];if(Tn)return Qe?0:Tn.slice(0);for(Nt=Le,Kt=[],Jt=N.preFilter;Nt;){(!ot||(Et=Bi.exec(Nt)))&&(Et&&(Nt=Nt.slice(Et[0].length)||Nt),Kt.push(ft=[])),ot=!1,(Et=lo.exec(Nt))&&(ot=Et.shift(),ft.push({value:ot,type:Et[0].replace(ji," ")}),Nt=Nt.slice(ot.length));for(Dt in N.filter)(Et=Je[Dt].exec(Nt))&&(!Jt[Dt]||(Et=Jt[Dt](Et)))&&(ot=Et.shift(),ft.push({value:ot,type:Dt,matches:Et}),Nt=Nt.slice(ot.length));if(!ot)break}return Qe?Nt.length:Nt?lr.error(Le):Ar(Le,Kt).slice(0)};function eo(Le){for(var Qe=0,ot=Le.length,Et="";Qe<ot;Qe++)Et+=Le[Qe].value;return Et}function Ri(Le,Qe,ot){var Et=Qe.dir,ft=Qe.next,Dt=ft||Et,Nt=ot&&Dt==="parentNode",Kt=Vn++;return Qe.first?function(Jt,Tn,mn){for(;Jt=Jt[Et];)if(Jt.nodeType===1||Nt)return Le(Jt,Tn,mn);return!1}:function(Jt,Tn,mn){var Cn,En,Kn,yn=[Sr,Kt];if(mn){for(;Jt=Jt[Et];)if((Jt.nodeType===1||Nt)&&Le(Jt,Tn,mn))return!0}else for(;Jt=Jt[Et];)if(Jt.nodeType===1||Nt)if(Kn=Jt[Gn]||(Jt[Gn]={}),En=Kn[Jt.uniqueID]||(Kn[Jt.uniqueID]={}),ft&&ft===Jt.nodeName.toLowerCase())Jt=Jt[Et]||Jt;else{if((Cn=En[Dt])&&Cn[0]===Sr&&Cn[1]===Kt)return yn[2]=Cn[2];if(En[Dt]=yn,yn[2]=Le(Jt,Tn,mn))return!0}return!1}}function ai(Le){return Le.length>1?function(Qe,ot,Et){for(var ft=Le.length;ft--;)if(!Le[ft](Qe,ot,Et))return!1;return!0}:Le[0]}function Ko(Le,Qe,ot){for(var Et=0,ft=Qe.length;Et<ft;Et++)lr(Le,Qe[Et],ot);return ot}function Vi(Le,Qe,ot,Et,ft){for(var Dt,Nt=[],Kt=0,Jt=Le.length,Tn=Qe!=null;Kt<Jt;Kt++)(Dt=Le[Kt])&&(!ot||ot(Dt,Et,ft))&&(Nt.push(Dt),Tn&&Qe.push(Kt));return Nt}function to(Le,Qe,ot,Et,ft,Dt){return Et&&!Et[Gn]&&(Et=to(Et)),ft&&!ft[Gn]&&(ft=to(ft,Dt)),vi(function(Nt,Kt,Jt,Tn){var mn,Cn,En,Kn=[],yn=[],Pr=Kt.length,Xr=Nt||Ko(Qe||"*",Jt.nodeType?[Jt]:Jt,[]),ti=Le&&(Nt||!Qe)?Vi(Xr,Kn,Le,Jt,Tn):Xr,ur=ot?ft||(Nt?Le:Pr||Et)?[]:Kt:ti;if(ot&&ot(ti,ur,Jt,Tn),Et)for(mn=Vi(ur,yn),Et(mn,[],Jt,Tn),Cn=mn.length;Cn--;)(En=mn[Cn])&&(ur[yn[Cn]]=!(ti[yn[Cn]]=En));if(Nt){if(ft||Le){if(ft){for(mn=[],Cn=ur.length;Cn--;)(En=ur[Cn])&&mn.push(ti[Cn]=En);ft(null,ur=[],mn,Tn)}for(Cn=ur.length;Cn--;)(En=ur[Cn])&&(mn=ft?oi(Nt,En):Kn[Cn])>-1&&(Nt[mn]=!(Kt[mn]=En))}}else ur=Vi(ur===Kt?ur.splice(Pr,ur.length):ur),ft?ft(null,Kt,ur,Tn):ci.apply(Kt,ur)})}function uo(Le){for(var Qe,ot,Et,ft=Le.length,Dt=N.relative[Le[0].type],Nt=Dt||N.relative[" "],Kt=Dt?1:0,Jt=Ri(function(Cn){return Cn===Qe},Nt,!0),Tn=Ri(function(Cn){return oi(Qe,Cn)>-1},Nt,!0),mn=[function(Cn,En,Kn){var yn=!Dt&&(Kn||En!==at)||((Qe=En).nodeType?Jt(Cn,En,Kn):Tn(Cn,En,Kn));return Qe=null,yn}];Kt<ft;Kt++)if(ot=N.relative[Le[Kt].type])mn=[Ri(ai(mn),ot)];else{if(ot=N.filter[Le[Kt].type].apply(null,Le[Kt].matches),ot[Gn]){for(Et=++Kt;Et<ft&&!N.relative[Le[Et].type];Et++);return to(Kt>1&&ai(mn),Kt>1&&eo(Le.slice(0,Kt-1).concat({value:Le[Kt-2].type===" "?"*":""})).replace(ji,"$1"),ot,Kt<Et&&uo(Le.slice(Kt,Et)),Et<ft&&uo(Le=Le.slice(Et)),Et<ft&&eo(Le))}mn.push(ot)}return ai(mn)}function Yo(Le,Qe){var ot=Qe.length>0,Et=Le.length>0,ft=function(Dt,Nt,Kt,Jt,Tn){var mn,Cn,En,Kn=0,yn="0",Pr=Dt&&[],Xr=[],ti=at,ur=Dt||Et&&N.find.TAG("*",Tn),Hi=Sr+=ti==null?1:Math.random()||.1,Mi=ur.length;for(Tn&&(at=Nt==Ot||Nt||Tn);yn!==Mi&&(mn=ur[yn])!=null;yn++){if(Et&&mn){for(Cn=0,!Nt&&mn.ownerDocument!=Ot&&(dt(mn),Kt=!_n);En=Le[Cn++];)if(En(mn,Nt||Ot,Kt)){Jt.push(mn);break}Tn&&(Sr=Hi)}ot&&((mn=!En&&mn)&&Kn--,Dt&&Pr.push(mn))}if(Kn+=yn,ot&&yn!==Kn){for(Cn=0;En=Qe[Cn++];)En(Pr,Xr,Nt,Kt);if(Dt){if(Kn>0)for(;yn--;)Pr[yn]||Xr[yn]||(Xr[yn]=ar.call(Jt));Xr=Vi(Xr)}ci.apply(Jt,Xr),Tn&&!Dt&&Xr.length>0&&Kn+Qe.length>1&&lr.uniqueSort(Jt)}return Tn&&(Sr=Hi,at=ti),Pr};return ot?vi(ft):ft}return Xe=lr.compile=function(Le,Qe){var ot,Et=[],ft=[],Dt=$r[Le+" "];if(!Dt){for(Qe||(Qe=ke(Le)),ot=Qe.length;ot--;)Dt=uo(Qe[ot]),Dt[Gn]?Et.push(Dt):ft.push(Dt);Dt=$r(Le,Yo(ft,Et)),Dt.selector=Le}return Dt},He=lr.select=function(Le,Qe,ot,Et){var ft,Dt,Nt,Kt,Jt,Tn=typeof Le=="function"&&Le,mn=!Et&&ke(Le=Tn.selector||Le);if(ot=ot||[],mn.length===1){if(Dt=mn[0]=mn[0].slice(0),Dt.length>2&&(Nt=Dt[0]).type==="ID"&&Qe.nodeType===9&&_n&&N.relative[Dt[1].type]){if(Qe=(N.find.ID(Nt.matches[0].replace(Xn,Er),Qe)||[])[0],Qe)Tn&&(Qe=Qe.parentNode);else return ot;Le=Le.slice(Dt.shift().value.length)}for(ft=Je.needsContext.test(Le)?0:Dt.length;ft--&&(Nt=Dt[ft],!N.relative[Kt=Nt.type]);)if((Jt=N.find[Kt])&&(Et=Jt(Nt.matches[0].replace(Xn,Er),Zn.test(Dt[0].type)&&Ji(Qe.parentNode)||Qe))){if(Dt.splice(ft,1),Le=Et.length&&eo(Dt),!Le)return ci.apply(ot,Et),ot;break}}return(Tn||Xe(Le,mn))(Et,Qe,!_n,ot,!Qe||Zn.test(Le)&&Ji(Qe.parentNode)||Qe),ot},k.sortStable=Gn.split("").sort(bi).join("")===Gn,k.detectDuplicates=!!jt,dt(),k.sortDetached=mi(function(Le){return Le.compareDocumentPosition(Ot.createElement("fieldset"))&1}),mi(function(Le){return Le.innerHTML="<a href='#'></a>",Le.firstChild.getAttribute("href")==="#"})||So("type|href|height|width",function(Le,Qe,ot){if(!ot)return Le.getAttribute(Qe,Qe.toLowerCase()==="type"?1:2)}),(!k.attributes||!mi(function(Le){return Le.innerHTML="<input/>",Le.firstChild.setAttribute("value",""),Le.firstChild.getAttribute("value")===""}))&&So("value",function(Le,Qe,ot){if(!ot&&Le.nodeName.toLowerCase()==="input")return Le.defaultValue}),mi(function(Le){return Le.getAttribute("disabled")==null})||So(Ti,function(Le,Qe,ot){var Et;if(!ot)return Le[Qe]===!0?Qe.toLowerCase():(Et=Le.getAttributeNode(Qe))&&Et.specified?Et.value:null}),lr}(ln);s.find=$,s.expr=$.selectors,s.expr[":"]=s.expr.pseudos,s.uniqueSort=s.unique=$.uniqueSort,s.text=$.getText,s.isXMLDoc=$.isXML,s.contains=$.contains,s.escapeSelector=$.escape;var R=function(o,p,k){for(var N=[],oe=k!==void 0;(o=o[p])&&o.nodeType!==9;)if(o.nodeType===1){if(oe&&s(o).is(k))break;N.push(o)}return N},Z=function(o,p){for(var k=[];o;o=o.nextSibling)o.nodeType===1&&o!==p&&k.push(o);return k},L=s.expr.match.needsContext;function te(o,p){return o.nodeName&&o.nodeName.toLowerCase()===p.toLowerCase()}var xe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function he(o,p,k){return X(p)?s.grep(o,function(N,oe){return!!p.call(N,oe,N)!==k}):p.nodeType?s.grep(o,function(N){return N===p!==k}):typeof p!="string"?s.grep(o,function(N){return _.call(p,N)>-1!==k}):s.filter(p,o,k)}s.filter=function(o,p,k){var N=p[0];return k&&(o=":not("+o+")"),p.length===1&&N.nodeType===1?s.find.matchesSelector(N,o)?[N]:[]:s.find.matches(o,s.grep(p,function(oe){return oe.nodeType===1}))},s.fn.extend({find:function(o){var p,k,N=this.length,oe=this;if(typeof o!="string")return this.pushStack(s(o).filter(function(){for(p=0;p<N;p++)if(s.contains(oe[p],this))return!0}));for(k=this.pushStack([]),p=0;p<N;p++)s.find(o,oe[p],k);return N>1?s.uniqueSort(k):k},filter:function(o){return this.pushStack(he(this,o||[],!1))},not:function(o){return this.pushStack(he(this,o||[],!0))},is:function(o){return!!he(this,typeof o=="string"&&L.test(o)?s(o):o||[],!1).length}});var A,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,B=s.fn.init=function(o,p,k){var N,oe;if(!o)return this;if(k=k||A,typeof o=="string")if(o[0]==="<"&&o[o.length-1]===">"&&o.length>=3?N=[null,o,null]:N=z.exec(o),N&&(N[1]||!p))if(N[1]){if(p=p instanceof s?p[0]:p,s.merge(this,s.parseHTML(N[1],p&&p.nodeType?p.ownerDocument||p:j,!0)),xe.test(N[1])&&s.isPlainObject(p))for(N in p)X(this[N])?this[N](p[N]):this.attr(N,p[N]);return this}else return oe=j.getElementById(N[2]),oe&&(this[0]=oe,this.length=1),this;else return!p||p.jquery?(p||k).find(o):this.constructor(p).find(o);else{if(o.nodeType)return this[0]=o,this.length=1,this;if(X(o))return k.ready!==void 0?k.ready(o):o(s)}return s.makeArray(o,this)};B.prototype=s.fn,A=s(j);var W=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};s.fn.extend({has:function(o){var p=s(o,this),k=p.length;return this.filter(function(){for(var N=0;N<k;N++)if(s.contains(this,p[N]))return!0})},closest:function(o,p){var k,N=0,oe=this.length,ce=[],ke=typeof o!="string"&&s(o);if(!L.test(o)){for(;N<oe;N++)for(k=this[N];k&&k!==p;k=k.parentNode)if(k.nodeType<11&&(ke?ke.index(k)>-1:k.nodeType===1&&s.find.matchesSelector(k,o))){ce.push(k);break}}return this.pushStack(ce.length>1?s.uniqueSort(ce):ce)},index:function(o){return o?typeof o=="string"?_.call(s(o),this[0]):_.call(this,o.jquery?o[0]:o):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(o,p){return this.pushStack(s.uniqueSort(s.merge(this.get(),s(o,p))))},addBack:function(o){return this.add(o==null?this.prevObject:this.prevObject.filter(o))}});function E(o,p){for(;(o=o[p])&&o.nodeType!==1;);return o}s.each({parent:function(o){var p=o.parentNode;return p&&p.nodeType!==11?p:null},parents:function(o){return R(o,"parentNode")},parentsUntil:function(o,p,k){return R(o,"parentNode",k)},next:function(o){return E(o,"nextSibling")},prev:function(o){return E(o,"previousSibling")},nextAll:function(o){return R(o,"nextSibling")},prevAll:function(o){return R(o,"previousSibling")},nextUntil:function(o,p,k){return R(o,"nextSibling",k)},prevUntil:function(o,p,k){return R(o,"previousSibling",k)},siblings:function(o){return Z((o.parentNode||{}).firstChild,o)},children:function(o){return Z(o.firstChild)},contents:function(o){return o.contentDocument!=null&&bn(o.contentDocument)?o.contentDocument:(te(o,"template")&&(o=o.content||o),s.merge([],o.childNodes))}},function(o,p){s.fn[o]=function(k,N){var oe=s.map(this,p,k);return o.slice(-5)!=="Until"&&(N=k),N&&typeof N=="string"&&(oe=s.filter(N,oe)),this.length>1&&(ie[o]||s.uniqueSort(oe),W.test(o)&&oe.reverse()),this.pushStack(oe)}});var O=/[^\x20\t\r\n\f]+/g;function a(o){var p={};return s.each(o.match(O)||[],function(k,N){p[N]=!0}),p}s.Callbacks=function(o){o=typeof o=="string"?a(o):s.extend({},o);var p,k,N,oe,ce=[],ke=[],Xe=-1,He=function(){for(oe=oe||o.once,N=p=!0;ke.length;Xe=-1)for(k=ke.shift();++Xe<ce.length;)ce[Xe].apply(k[0],k[1])===!1&&o.stopOnFalse&&(Xe=ce.length,k=!1);o.memory||(k=!1),p=!1,oe&&(k?ce=[]:ce="")},at={add:function(){return ce&&(k&&!p&&(Xe=ce.length-1,ke.push(k)),function vt(jt){s.each(jt,function(dt,Ot){X(Ot)?(!o.unique||!at.has(Ot))&&ce.push(Ot):Ot&&Ot.length&&T(Ot)!=="string"&&vt(Ot)})}(arguments),k&&!p&&He()),this},remove:function(){return s.each(arguments,function(vt,jt){for(var dt;(dt=s.inArray(jt,ce,dt))>-1;)ce.splice(dt,1),dt<=Xe&&Xe--}),this},has:function(vt){return vt?s.inArray(vt,ce)>-1:ce.length>0},empty:function(){return ce&&(ce=[]),this},disable:function(){return oe=ke=[],ce=k="",this},disabled:function(){return!ce},lock:function(){return oe=ke=[],!k&&!p&&(ce=k=""),this},locked:function(){return!!oe},fireWith:function(vt,jt){return oe||(jt=jt||[],jt=[vt,jt.slice?jt.slice():jt],ke.push(jt),p||He()),this},fire:function(){return at.fireWith(this,arguments),this},fired:function(){return!!N}};return at};function c(o){return o}function g(o){throw o}function S(o,p,k,N){var oe;try{o&&X(oe=o.promise)?oe.call(o).done(p).fail(k):o&&X(oe=o.then)?oe.call(o,p,k):p.apply(void 0,[o].slice(N))}catch(ce){k.apply(void 0,[ce])}}s.extend({Deferred:function(o){var p=[["notify","progress",s.Callbacks("memory"),s.Callbacks("memory"),2],["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),0,"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),1,"rejected"]],k="pending",N={state:function(){return k},always:function(){return oe.done(arguments).fail(arguments),this},catch:function(ce){return N.then(null,ce)},pipe:function(){var ce=arguments;return s.Deferred(function(ke){s.each(p,function(Xe,He){var at=X(ce[He[4]])&&ce[He[4]];oe[He[1]](function(){var vt=at&&at.apply(this,arguments);vt&&X(vt.promise)?vt.promise().progress(ke.notify).done(ke.resolve).fail(ke.reject):ke[He[0]+"With"](this,at?[vt]:arguments)})}),ce=null}).promise()},then:function(ce,ke,Xe){var He=0;function at(vt,jt,dt,Ot){return function(){var tn=this,_n=arguments,Qt=function(){var yr,Hr;if(!(vt<He)){if(yr=dt.apply(tn,_n),yr===jt.promise())throw new TypeError("Thenable self-resolution");Hr=yr&&(typeof yr=="object"||typeof yr=="function")&&yr.then,X(Hr)?Ot?Hr.call(yr,at(He,jt,c,Ot),at(He,jt,g,Ot)):(He++,Hr.call(yr,at(He,jt,c,Ot),at(He,jt,g,Ot),at(He,jt,c,jt.notifyWith))):(dt!==c&&(tn=void 0,_n=[yr]),(Ot||jt.resolveWith)(tn,_n))}},mr=Ot?Qt:function(){try{Qt()}catch(yr){s.Deferred.exceptionHook&&s.Deferred.exceptionHook(yr,mr.stackTrace),vt+1>=He&&(dt!==g&&(tn=void 0,_n=[yr]),jt.rejectWith(tn,_n))}};vt?mr():(s.Deferred.getStackHook&&(mr.stackTrace=s.Deferred.getStackHook()),ln.setTimeout(mr))}}return s.Deferred(function(vt){p[0][3].add(at(0,vt,X(Xe)?Xe:c,vt.notifyWith)),p[1][3].add(at(0,vt,X(ce)?ce:c)),p[2][3].add(at(0,vt,X(ke)?ke:g))}).promise()},promise:function(ce){return ce!=null?s.extend(ce,N):N}},oe={};return s.each(p,function(ce,ke){var Xe=ke[2],He=ke[5];N[ke[1]]=Xe.add,He&&Xe.add(function(){k=He},p[3-ce][2].disable,p[3-ce][3].disable,p[0][2].lock,p[0][3].lock),Xe.add(ke[3].fire),oe[ke[0]]=function(){return oe[ke[0]+"With"](this===oe?void 0:this,arguments),this},oe[ke[0]+"With"]=Xe.fireWith}),N.promise(oe),o&&o.call(oe,oe),oe},when:function(o){var p=arguments.length,k=p,N=Array(k),oe=zn.call(arguments),ce=s.Deferred(),ke=function(Xe){return function(He){N[Xe]=this,oe[Xe]=arguments.length>1?zn.call(arguments):He,--p||ce.resolveWith(N,oe)}};if(p<=1&&(S(o,ce.done(ke(k)).resolve,ce.reject,!p),ce.state()==="pending"||X(oe[k]&&oe[k].then)))return ce.then();for(;k--;)S(oe[k],ke(k),ce.reject);return ce.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;s.Deferred.exceptionHook=function(o,p){ln.console&&ln.console.warn&&o&&se.test(o.name)&&ln.console.warn("jQuery.Deferred exception: "+o.message,o.stack,p)},s.readyException=function(o){ln.setTimeout(function(){throw o})};var le=s.Deferred();s.fn.ready=function(o){return le.then(o).catch(function(p){s.readyException(p)}),this},s.extend({isReady:!1,readyWait:1,ready:function(o){(o===!0?--s.readyWait:s.isReady)||(s.isReady=!0,!(o!==!0&&--s.readyWait>0)&&le.resolveWith(j,[s]))}}),s.ready.then=le.then;function D(){j.removeEventListener("DOMContentLoaded",D),ln.removeEventListener("load",D),s.ready()}j.readyState==="complete"||j.readyState!=="loading"&&!j.documentElement.doScroll?ln.setTimeout(s.ready):(j.addEventListener("DOMContentLoaded",D),ln.addEventListener("load",D));var I=function(o,p,k,N,oe,ce,ke){var Xe=0,He=o.length,at=k==null;if(T(k)==="object"){oe=!0;for(Xe in k)I(o,p,Xe,k[Xe],!0,ce,ke)}else if(N!==void 0&&(oe=!0,X(N)||(ke=!0),at&&(ke?(p.call(o,N),p=null):(at=p,p=function(vt,jt,dt){return at.call(s(vt),dt)})),p))for(;Xe<He;Xe++)p(o[Xe],k,ke?N:N.call(o[Xe],Xe,p(o[Xe],k)));return oe?o:at?p.call(o):He?p(o[0],k):ce},C=/^-ms-/,l=/-([a-z])/g;function f(o,p){return p.toUpperCase()}function h(o){return o.replace(C,"ms-").replace(l,f)}var u=function(o){return o.nodeType===1||o.nodeType===9||!+o.nodeType};function d(){this.expando=s.expando+d.uid++}d.uid=1,d.prototype={cache:function(o){var p=o[this.expando];return p||(p={},u(o)&&(o.nodeType?o[this.expando]=p:Object.defineProperty(o,this.expando,{value:p,configurable:!0}))),p},set:function(o,p,k){var N,oe=this.cache(o);if(typeof p=="string")oe[h(p)]=k;else for(N in p)oe[h(N)]=p[N];return oe},get:function(o,p){return p===void 0?this.cache(o):o[this.expando]&&o[this.expando][h(p)]},access:function(o,p,k){return p===void 0||p&&typeof p=="string"&&k===void 0?this.get(o,p):(this.set(o,p,k),k!==void 0?k:p)},remove:function(o,p){var k,N=o[this.expando];if(N!==void 0){if(p!==void 0)for(Array.isArray(p)?p=p.map(h):(p=h(p),p=p in N?[p]:p.match(O)||[]),k=p.length;k--;)delete N[p[k]];(p===void 0||s.isEmptyObject(N))&&(o.nodeType?o[this.expando]=void 0:delete o[this.expando])}},hasData:function(o){var p=o[this.expando];return p!==void 0&&!s.isEmptyObject(p)}};var P=new d,q=new d,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/[A-Z]/g;function w(o){return o==="true"?!0:o==="false"?!1:o==="null"?null:o===+o+""?+o:K.test(o)?JSON.parse(o):o}function M(o,p,k){var N;if(k===void 0&&o.nodeType===1)if(N="data-"+p.replace(H,"-$&").toLowerCase(),k=o.getAttribute(N),typeof k=="string"){try{k=w(k)}catch{}q.set(o,p,k)}else k=void 0;return k}s.extend({hasData:function(o){return q.hasData(o)||P.hasData(o)},data:function(o,p,k){return q.access(o,p,k)},removeData:function(o,p){q.remove(o,p)},_data:function(o,p,k){return P.access(o,p,k)},_removeData:function(o,p){P.remove(o,p)}}),s.fn.extend({data:function(o,p){var k,N,oe,ce=this[0],ke=ce&&ce.attributes;if(o===void 0){if(this.length&&(oe=q.get(ce),ce.nodeType===1&&!P.get(ce,"hasDataAttrs"))){for(k=ke.length;k--;)ke[k]&&(N=ke[k].name,N.indexOf("data-")===0&&(N=h(N.slice(5)),M(ce,N,oe[N])));P.set(ce,"hasDataAttrs",!0)}return oe}return typeof o=="object"?this.each(function(){q.set(this,o)}):I(this,function(Xe){var He;if(ce&&Xe===void 0)return He=q.get(ce,o),He!==void 0||(He=M(ce,o),He!==void 0)?He:void 0;this.each(function(){q.set(this,o,Xe)})},null,p,arguments.length>1,null,!0)},removeData:function(o){return this.each(function(){q.remove(this,o)})}}),s.extend({queue:function(o,p,k){var N;if(o)return p=(p||"fx")+"queue",N=P.get(o,p),k&&(!N||Array.isArray(k)?N=P.access(o,p,s.makeArray(k)):N.push(k)),N||[]},dequeue:function(o,p){p=p||"fx";var k=s.queue(o,p),N=k.length,oe=k.shift(),ce=s._queueHooks(o,p),ke=function(){s.dequeue(o,p)};oe==="inprogress"&&(oe=k.shift(),N--),oe&&(p==="fx"&&k.unshift("inprogress"),delete ce.stop,oe.call(o,ke,ce)),!N&&ce&&ce.empty.fire()},_queueHooks:function(o,p){var k=p+"queueHooks";return P.get(o,k)||P.access(o,k,{empty:s.Callbacks("once memory").add(function(){P.remove(o,[p+"queue",k])})})}}),s.fn.extend({queue:function(o,p){var k=2;return typeof o!="string"&&(p=o,o="fx",k--),arguments.length<k?s.queue(this[0],o):p===void 0?this:this.each(function(){var N=s.queue(this,o,p);s._queueHooks(this,o),o==="fx"&&N[0]!=="inprogress"&&s.dequeue(this,o)})},dequeue:function(o){return this.each(function(){s.dequeue(this,o)})},clearQueue:function(o){return this.queue(o||"fx",[])},promise:function(o,p){var k,N=1,oe=s.Deferred(),ce=this,ke=this.length,Xe=function(){--N||oe.resolveWith(ce,[ce])};for(typeof o!="string"&&(p=o,o=void 0),o=o||"fx";ke--;)k=P.get(ce[ke],o+"queueHooks"),k&&k.empty&&(N++,k.empty.add(Xe));return Xe(),oe.promise(p)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),Re=["Top","Right","Bottom","Left"],Ye=j.documentElement,Ve=function(o){return s.contains(o.ownerDocument,o)},Se={composed:!0};Ye.getRootNode&&(Ve=function(o){return s.contains(o.ownerDocument,o)||o.getRootNode(Se)===o.ownerDocument});var je=function(o,p){return o=p||o,o.style.display==="none"||o.style.display===""&&Ve(o)&&s.css(o,"display")==="none"};function x(o,p,k,N){var oe,ce,ke=20,Xe=N?function(){return N.cur()}:function(){return s.css(o,p,"")},He=Xe(),at=k&&k[3]||(s.cssNumber[p]?"":"px"),vt=o.nodeType&&(s.cssNumber[p]||at!=="px"&&+He)&&Oe.exec(s.css(o,p));if(vt&&vt[3]!==at){for(He=He/2,at=at||vt[3],vt=+He||1;ke--;)s.style(o,p,vt+at),(1-ce)*(1-(ce=Xe()/He||.5))<=0&&(ke=0),vt=vt/ce;vt=vt*2,s.style(o,p,vt+at),k=k||[]}return k&&(vt=+vt||+He||0,oe=k[1]?vt+(k[1]+1)*k[2]:+k[2],N&&(N.unit=at,N.start=vt,N.end=oe)),oe}var re={};function we(o){var p,k=o.ownerDocument,N=o.nodeName,oe=re[N];return oe||(p=k.body.appendChild(k.createElement(N)),oe=s.css(p,"display"),p.parentNode.removeChild(p),oe==="none"&&(oe="block"),re[N]=oe,oe)}function De(o,p){for(var k,N,oe=[],ce=0,ke=o.length;ce<ke;ce++)N=o[ce],N.style&&(k=N.style.display,p?(k==="none"&&(oe[ce]=P.get(N,"display")||null,oe[ce]||(N.style.display="")),N.style.display===""&&je(N)&&(oe[ce]=we(N))):k!=="none"&&(oe[ce]="none",P.set(N,"display",k)));for(ce=0;ce<ke;ce++)oe[ce]!=null&&(o[ce].style.display=oe[ce]);return o}s.fn.extend({show:function(){return De(this,!0)},hide:function(){return De(this)},toggle:function(o){return typeof o=="boolean"?o?this.show():this.hide():this.each(function(){je(this)?s(this).show():s(this).hide()})}});var Ge=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,bt=/^$|^module$|\/(?:java|ecma)script/i;(function(){var o=j.createDocumentFragment(),p=o.appendChild(j.createElement("div")),k=j.createElement("input");k.setAttribute("type","radio"),k.setAttribute("checked","checked"),k.setAttribute("name","t"),p.appendChild(k),ne.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked,p.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!p.cloneNode(!0).lastChild.defaultValue,p.innerHTML="<option></option>",ne.option=!!p.lastChild})();var At={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,ne.option||(At.optgroup=At.option=[1,"<select multiple='multiple'>","</select>"]);function Ft(o,p){var k;return typeof o.getElementsByTagName!="undefined"?k=o.getElementsByTagName(p||"*"):typeof o.querySelectorAll!="undefined"?k=o.querySelectorAll(p||"*"):k=[],p===void 0||p&&te(o,p)?s.merge([o],k):k}function rn(o,p){for(var k=0,N=o.length;k<N;k++)P.set(o[k],"globalEval",!p||P.get(p[k],"globalEval"))}var On=/<|&#?\w+;/;function kt(o,p,k,N,oe){for(var ce,ke,Xe,He,at,vt,jt=p.createDocumentFragment(),dt=[],Ot=0,tn=o.length;Ot<tn;Ot++)if(ce=o[Ot],ce||ce===0)if(T(ce)==="object")s.merge(dt,ce.nodeType?[ce]:ce);else if(!On.test(ce))dt.push(p.createTextNode(ce));else{for(ke=ke||jt.appendChild(p.createElement("div")),Xe=(Ke.exec(ce)||["",""])[1].toLowerCase(),He=At[Xe]||At._default,ke.innerHTML=He[1]+s.htmlPrefilter(ce)+He[2],vt=He[0];vt--;)ke=ke.lastChild;s.merge(dt,ke.childNodes),ke=jt.firstChild,ke.textContent=""}for(jt.textContent="",Ot=0;ce=dt[Ot++];){if(N&&s.inArray(ce,N)>-1){oe&&oe.push(ce);continue}if(at=Ve(ce),ke=Ft(jt.appendChild(ce),"script"),at&&rn(ke),k)for(vt=0;ce=ke[vt++];)bt.test(ce.type||"")&&k.push(ce)}return jt}var Ae=/^([^.]*)(?:\.(.+)|)/;function We(){return!0}function et(){return!1}function rt(o,p){return o===Lt()==(p==="focus")}function Lt(){try{return j.activeElement}catch{}}function Be(o,p,k,N,oe,ce){var ke,Xe;if(typeof p=="object"){typeof k!="string"&&(N=N||k,k=void 0);for(Xe in p)Be(o,Xe,k,N,p[Xe],ce);return o}if(N==null&&oe==null?(oe=k,N=k=void 0):oe==null&&(typeof k=="string"?(oe=N,N=void 0):(oe=N,N=k,k=void 0)),oe===!1)oe=et;else if(!oe)return o;return ce===1&&(ke=oe,oe=function(He){return s().off(He),ke.apply(this,arguments)},oe.guid=ke.guid||(ke.guid=s.guid++)),o.each(function(){s.event.add(this,p,oe,N,k)})}s.event={global:{},add:function(o,p,k,N,oe){var ce,ke,Xe,He,at,vt,jt,dt,Ot,tn,_n,Qt=P.get(o);if(!!u(o))for(k.handler&&(ce=k,k=ce.handler,oe=ce.selector),oe&&s.find.matchesSelector(Ye,oe),k.guid||(k.guid=s.guid++),(He=Qt.events)||(He=Qt.events=Object.create(null)),(ke=Qt.handle)||(ke=Qt.handle=function(mr){return typeof s!="undefined"&&s.event.triggered!==mr.type?s.event.dispatch.apply(o,arguments):void 0}),p=(p||"").match(O)||[""],at=p.length;at--;)Xe=Ae.exec(p[at])||[],Ot=_n=Xe[1],tn=(Xe[2]||"").split(".").sort(),Ot&&(jt=s.event.special[Ot]||{},Ot=(oe?jt.delegateType:jt.bindType)||Ot,jt=s.event.special[Ot]||{},vt=s.extend({type:Ot,origType:_n,data:N,handler:k,guid:k.guid,selector:oe,needsContext:oe&&s.expr.match.needsContext.test(oe),namespace:tn.join(".")},ce),(dt=He[Ot])||(dt=He[Ot]=[],dt.delegateCount=0,(!jt.setup||jt.setup.call(o,N,tn,ke)===!1)&&o.addEventListener&&o.addEventListener(Ot,ke)),jt.add&&(jt.add.call(o,vt),vt.handler.guid||(vt.handler.guid=k.guid)),oe?dt.splice(dt.delegateCount++,0,vt):dt.push(vt),s.event.global[Ot]=!0)},remove:function(o,p,k,N,oe){var ce,ke,Xe,He,at,vt,jt,dt,Ot,tn,_n,Qt=P.hasData(o)&&P.get(o);if(!(!Qt||!(He=Qt.events))){for(p=(p||"").match(O)||[""],at=p.length;at--;){if(Xe=Ae.exec(p[at])||[],Ot=_n=Xe[1],tn=(Xe[2]||"").split(".").sort(),!Ot){for(Ot in He)s.event.remove(o,Ot+p[at],k,N,!0);continue}for(jt=s.event.special[Ot]||{},Ot=(N?jt.delegateType:jt.bindType)||Ot,dt=He[Ot]||[],Xe=Xe[2]&&new RegExp("(^|\\.)"+tn.join("\\.(?:.*\\.|)")+"(\\.|$)"),ke=ce=dt.length;ce--;)vt=dt[ce],(oe||_n===vt.origType)&&(!k||k.guid===vt.guid)&&(!Xe||Xe.test(vt.namespace))&&(!N||N===vt.selector||N==="**"&&vt.selector)&&(dt.splice(ce,1),vt.selector&&dt.delegateCount--,jt.remove&&jt.remove.call(o,vt));ke&&!dt.length&&((!jt.teardown||jt.teardown.call(o,tn,Qt.handle)===!1)&&s.removeEvent(o,Ot,Qt.handle),delete He[Ot])}s.isEmptyObject(He)&&P.remove(o,"handle events")}},dispatch:function(o){var p,k,N,oe,ce,ke,Xe=new Array(arguments.length),He=s.event.fix(o),at=(P.get(this,"events")||Object.create(null))[He.type]||[],vt=s.event.special[He.type]||{};for(Xe[0]=He,p=1;p<arguments.length;p++)Xe[p]=arguments[p];if(He.delegateTarget=this,!(vt.preDispatch&&vt.preDispatch.call(this,He)===!1)){for(ke=s.event.handlers.call(this,He,at),p=0;(oe=ke[p++])&&!He.isPropagationStopped();)for(He.currentTarget=oe.elem,k=0;(ce=oe.handlers[k++])&&!He.isImmediatePropagationStopped();)(!He.rnamespace||ce.namespace===!1||He.rnamespace.test(ce.namespace))&&(He.handleObj=ce,He.data=ce.data,N=((s.event.special[ce.origType]||{}).handle||ce.handler).apply(oe.elem,Xe),N!==void 0&&(He.result=N)===!1&&(He.preventDefault(),He.stopPropagation()));return vt.postDispatch&&vt.postDispatch.call(this,He),He.result}},handlers:function(o,p){var k,N,oe,ce,ke,Xe=[],He=p.delegateCount,at=o.target;if(He&&at.nodeType&&!(o.type==="click"&&o.button>=1)){for(;at!==this;at=at.parentNode||this)if(at.nodeType===1&&!(o.type==="click"&&at.disabled===!0)){for(ce=[],ke={},k=0;k<He;k++)N=p[k],oe=N.selector+" ",ke[oe]===void 0&&(ke[oe]=N.needsContext?s(oe,this).index(at)>-1:s.find(oe,this,null,[at]).length),ke[oe]&&ce.push(N);ce.length&&Xe.push({elem:at,handlers:ce})}}return at=this,He<p.length&&Xe.push({elem:at,handlers:p.slice(He)}),Xe},addProp:function(o,p){Object.defineProperty(s.Event.prototype,o,{enumerable:!0,configurable:!0,get:X(p)?function(){if(this.originalEvent)return p(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[o]},set:function(k){Object.defineProperty(this,o,{enumerable:!0,configurable:!0,writable:!0,value:k})}})},fix:function(o){return o[s.expando]?o:new s.Event(o)},special:{load:{noBubble:!0},click:{setup:function(o){var p=this||o;return Ge.test(p.type)&&p.click&&te(p,"input")&&nt(p,"click",We),!1},trigger:function(o){var p=this||o;return Ge.test(p.type)&&p.click&&te(p,"input")&&nt(p,"click"),!0},_default:function(o){var p=o.target;return Ge.test(p.type)&&p.click&&te(p,"input")&&P.get(p,"click")||te(p,"a")}},beforeunload:{postDispatch:function(o){o.result!==void 0&&o.originalEvent&&(o.originalEvent.returnValue=o.result)}}}};function nt(o,p,k){if(!k){P.get(o,p)===void 0&&s.event.add(o,p,We);return}P.set(o,p,!1),s.event.add(o,p,{namespace:!1,handler:function(N){var oe,ce,ke=P.get(this,p);if(N.isTrigger&1&&this[p]){if(ke.length)(s.event.special[p]||{}).delegateType&&N.stopPropagation();else if(ke=zn.call(arguments),P.set(this,p,ke),oe=k(this,p),this[p](),ce=P.get(this,p),ke!==ce||oe?P.set(this,p,!1):ce={},ke!==ce)return N.stopImmediatePropagation(),N.preventDefault(),ce&&ce.value}else ke.length&&(P.set(this,p,{value:s.event.trigger(s.extend(ke[0],s.Event.prototype),ke.slice(1),this)}),N.stopImmediatePropagation())}})}s.removeEvent=function(o,p,k){o.removeEventListener&&o.removeEventListener(p,k)},s.Event=function(o,p){if(!(this instanceof s.Event))return new s.Event(o,p);o&&o.type?(this.originalEvent=o,this.type=o.type,this.isDefaultPrevented=o.defaultPrevented||o.defaultPrevented===void 0&&o.returnValue===!1?We:et,this.target=o.target&&o.target.nodeType===3?o.target.parentNode:o.target,this.currentTarget=o.currentTarget,this.relatedTarget=o.relatedTarget):this.type=o,p&&s.extend(this,p),this.timeStamp=o&&o.timeStamp||Date.now(),this[s.expando]=!0},s.Event.prototype={constructor:s.Event,isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et,isSimulated:!1,preventDefault:function(){var o=this.originalEvent;this.isDefaultPrevented=We,o&&!this.isSimulated&&o.preventDefault()},stopPropagation:function(){var o=this.originalEvent;this.isPropagationStopped=We,o&&!this.isSimulated&&o.stopPropagation()},stopImmediatePropagation:function(){var o=this.originalEvent;this.isImmediatePropagationStopped=We,o&&!this.isSimulated&&o.stopImmediatePropagation(),this.stopPropagation()}},s.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},s.event.addProp),s.each({focus:"focusin",blur:"focusout"},function(o,p){s.event.special[o]={setup:function(){return nt(this,o,rt),!1},trigger:function(){return nt(this,o),!0},_default:function(k){return P.get(k.target,o)},delegateType:p}}),s.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(o,p){s.event.special[o]={delegateType:p,bindType:p,handle:function(k){var N,oe=this,ce=k.relatedTarget,ke=k.handleObj;return(!ce||ce!==oe&&!s.contains(oe,ce))&&(k.type=ke.origType,N=ke.handler.apply(this,arguments),k.type=p),N}}}),s.fn.extend({on:function(o,p,k,N){return Be(this,o,p,k,N)},one:function(o,p,k,N){return Be(this,o,p,k,N,1)},off:function(o,p,k){var N,oe;if(o&&o.preventDefault&&o.handleObj)return N=o.handleObj,s(o.delegateTarget).off(N.namespace?N.origType+"."+N.namespace:N.origType,N.selector,N.handler),this;if(typeof o=="object"){for(oe in o)this.off(oe,p,o[oe]);return this}return(p===!1||typeof p=="function")&&(k=p,p=void 0),k===!1&&(k=et),this.each(function(){s.event.remove(this,o,k,p)})}});var lt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,_t=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function mt(o,p){return te(o,"table")&&te(p.nodeType!==11?p:p.firstChild,"tr")&&s(o).children("tbody")[0]||o}function fn(o){return o.type=(o.getAttribute("type")!==null)+"/"+o.type,o}function wn(o){return(o.type||"").slice(0,5)==="true/"?o.type=o.type.slice(5):o.removeAttribute("type"),o}function pn(o,p){var k,N,oe,ce,ke,Xe,He;if(p.nodeType===1){if(P.hasData(o)&&(ce=P.get(o),He=ce.events,He)){P.remove(p,"handle events");for(oe in He)for(k=0,N=He[oe].length;k<N;k++)s.event.add(p,oe,He[oe][k])}q.hasData(o)&&(ke=q.access(o),Xe=s.extend({},ke),q.set(p,Xe))}}function Rn(o,p){var k=p.nodeName.toLowerCase();k==="input"&&Ge.test(o.type)?p.checked=o.checked:(k==="input"||k==="textarea")&&(p.defaultValue=o.defaultValue)}function Sn(o,p,k,N){p=gt(p);var oe,ce,ke,Xe,He,at,vt=0,jt=o.length,dt=jt-1,Ot=p[0],tn=X(Ot);if(tn||jt>1&&typeof Ot=="string"&&!ne.checkClone&&Rt.test(Ot))return o.each(function(_n){var Qt=o.eq(_n);tn&&(p[0]=Ot.call(this,_n,Qt.html())),Sn(Qt,p,k,N)});if(jt&&(oe=kt(p,o[0].ownerDocument,!1,o,N),ce=oe.firstChild,oe.childNodes.length===1&&(oe=ce),ce||N)){for(ke=s.map(Ft(oe,"script"),fn),Xe=ke.length;vt<jt;vt++)He=oe,vt!==dt&&(He=s.clone(He,!0,!0),Xe&&s.merge(ke,Ft(He,"script"))),k.call(o[vt],He,vt);if(Xe)for(at=ke[ke.length-1].ownerDocument,s.map(ke,wn),vt=0;vt<Xe;vt++)He=ke[vt],bt.test(He.type||"")&&!P.access(He,"globalEval")&&s.contains(at,He)&&(He.src&&(He.type||"").toLowerCase()!=="module"?s._evalUrl&&!He.noModule&&s._evalUrl(He.src,{nonce:He.nonce||He.getAttribute("nonce")},at):b(He.textContent.replace(_t,""),He,at))}return o}function Fn(o,p,k){for(var N,oe=p?s.filter(p,o):o,ce=0;(N=oe[ce])!=null;ce++)!k&&N.nodeType===1&&s.cleanData(Ft(N)),N.parentNode&&(k&&Ve(N)&&rn(Ft(N,"script")),N.parentNode.removeChild(N));return o}s.extend({htmlPrefilter:function(o){return o},clone:function(o,p,k){var N,oe,ce,ke,Xe=o.cloneNode(!0),He=Ve(o);if(!ne.noCloneChecked&&(o.nodeType===1||o.nodeType===11)&&!s.isXMLDoc(o))for(ke=Ft(Xe),ce=Ft(o),N=0,oe=ce.length;N<oe;N++)Rn(ce[N],ke[N]);if(p)if(k)for(ce=ce||Ft(o),ke=ke||Ft(Xe),N=0,oe=ce.length;N<oe;N++)pn(ce[N],ke[N]);else pn(o,Xe);return ke=Ft(Xe,"script"),ke.length>0&&rn(ke,!He&&Ft(o,"script")),Xe},cleanData:function(o){for(var p,k,N,oe=s.event.special,ce=0;(k=o[ce])!==void 0;ce++)if(u(k)){if(p=k[P.expando]){if(p.events)for(N in p.events)oe[N]?s.event.remove(k,N):s.removeEvent(k,N,p.handle);k[P.expando]=void 0}k[q.expando]&&(k[q.expando]=void 0)}}}),s.fn.extend({detach:function(o){return Fn(this,o,!0)},remove:function(o){return Fn(this,o)},text:function(o){return I(this,function(p){return p===void 0?s.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=p)})},null,o,arguments.length)},append:function(){return Sn(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var p=mt(this,o);p.appendChild(o)}})},prepend:function(){return Sn(this,arguments,function(o){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var p=mt(this,o);p.insertBefore(o,p.firstChild)}})},before:function(){return Sn(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this)})},after:function(){return Sn(this,arguments,function(o){this.parentNode&&this.parentNode.insertBefore(o,this.nextSibling)})},empty:function(){for(var o,p=0;(o=this[p])!=null;p++)o.nodeType===1&&(s.cleanData(Ft(o,!1)),o.textContent="");return this},clone:function(o,p){return o=o==null?!1:o,p=p==null?o:p,this.map(function(){return s.clone(this,o,p)})},html:function(o){return I(this,function(p){var k=this[0]||{},N=0,oe=this.length;if(p===void 0&&k.nodeType===1)return k.innerHTML;if(typeof p=="string"&&!lt.test(p)&&!At[(Ke.exec(p)||["",""])[1].toLowerCase()]){p=s.htmlPrefilter(p);try{for(;N<oe;N++)k=this[N]||{},k.nodeType===1&&(s.cleanData(Ft(k,!1)),k.innerHTML=p);k=0}catch{}}k&&this.empty().append(p)},null,o,arguments.length)},replaceWith:function(){var o=[];return Sn(this,arguments,function(p){var k=this.parentNode;s.inArray(this,o)<0&&(s.cleanData(Ft(this)),k&&k.replaceChild(p,this))},o)}}),s.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(o,p){s.fn[o]=function(k){for(var N,oe=[],ce=s(k),ke=ce.length-1,Xe=0;Xe<=ke;Xe++)N=Xe===ke?this:this.clone(!0),s(ce[Xe])[p](N),Ze.apply(oe,N.get());return this.pushStack(oe)}});var gn=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Wt=/^--/,nn=function(o){var p=o.ownerDocument.defaultView;return(!p||!p.opener)&&(p=ln),p.getComputedStyle(o)},$n=function(o,p,k){var N,oe,ce={};for(oe in p)ce[oe]=o.style[oe],o.style[oe]=p[oe];N=k.call(o);for(oe in p)o.style[oe]=ce[oe];return N},tr=new RegExp(Re.join("|"),"i"),Wn="[\\x20\\t\\r\\n\\f]",nr=new RegExp("^"+Wn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Wn+"+$","g");(function(){function o(){if(!!at){He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",at.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ye.appendChild(He).appendChild(at);var vt=ln.getComputedStyle(at);k=vt.top!=="1%",Xe=p(vt.marginLeft)===12,at.style.right="60%",ce=p(vt.right)===36,N=p(vt.width)===36,at.style.position="absolute",oe=p(at.offsetWidth/3)===12,Ye.removeChild(He),at=null}}function p(vt){return Math.round(parseFloat(vt))}var k,N,oe,ce,ke,Xe,He=j.createElement("div"),at=j.createElement("div");!at.style||(at.style.backgroundClip="content-box",at.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle=at.style.backgroundClip==="content-box",s.extend(ne,{boxSizingReliable:function(){return o(),N},pixelBoxStyles:function(){return o(),ce},pixelPosition:function(){return o(),k},reliableMarginLeft:function(){return o(),Xe},scrollboxSize:function(){return o(),oe},reliableTrDimensions:function(){var vt,jt,dt,Ot;return ke==null&&(vt=j.createElement("table"),jt=j.createElement("tr"),dt=j.createElement("div"),vt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",jt.style.cssText="border:1px solid",jt.style.height="1px",dt.style.height="9px",dt.style.display="block",Ye.appendChild(vt).appendChild(jt).appendChild(dt),Ot=ln.getComputedStyle(jt),ke=parseInt(Ot.height,10)+parseInt(Ot.borderTopWidth,10)+parseInt(Ot.borderBottomWidth,10)===jt.offsetHeight,Ye.removeChild(vt)),ke}}))})();function In(o,p,k){var N,oe,ce,ke,Xe=Wt.test(p),He=o.style;return k=k||nn(o),k&&(ke=k.getPropertyValue(p)||k[p],Xe&&(ke=ke.replace(nr,"$1")),ke===""&&!Ve(o)&&(ke=s.style(o,p)),!ne.pixelBoxStyles()&&gn.test(ke)&&tr.test(p)&&(N=He.width,oe=He.minWidth,ce=He.maxWidth,He.minWidth=He.maxWidth=He.width=ke,ke=k.width,He.width=N,He.minWidth=oe,He.maxWidth=ce)),ke!==void 0?ke+"":ke}function Hn(o,p){return{get:function(){if(o()){delete this.get;return}return(this.get=p).apply(this,arguments)}}}var br=["Webkit","Moz","ms"],qn=j.createElement("div").style,Un={};function gr(o){for(var p=o[0].toUpperCase()+o.slice(1),k=br.length;k--;)if(o=br[k]+p,o in qn)return o}function Bn(o){var p=s.cssProps[o]||Un[o];return p||(o in qn?o:Un[o]=gr(o)||o)}var fr=/^(none|table(?!-c[ea]).+)/,ir={position:"absolute",visibility:"hidden",display:"block"},Ir={letterSpacing:"0",fontWeight:"400"};function hr(o,p,k){var N=Oe.exec(p);return N?Math.max(0,N[2]-(k||0))+(N[3]||"px"):p}function Mn(o,p,k,N,oe,ce){var ke=p==="width"?1:0,Xe=0,He=0;if(k===(N?"border":"content"))return 0;for(;ke<4;ke+=2)k==="margin"&&(He+=s.css(o,k+Re[ke],!0,oe)),N?(k==="content"&&(He-=s.css(o,"padding"+Re[ke],!0,oe)),k!=="margin"&&(He-=s.css(o,"border"+Re[ke]+"Width",!0,oe))):(He+=s.css(o,"padding"+Re[ke],!0,oe),k!=="padding"?He+=s.css(o,"border"+Re[ke]+"Width",!0,oe):Xe+=s.css(o,"border"+Re[ke]+"Width",!0,oe));return!N&&ce>=0&&(He+=Math.max(0,Math.ceil(o["offset"+p[0].toUpperCase()+p.slice(1)]-ce-He-Xe-.5))||0),He}function Yt(o,p,k){var N=nn(o),oe=!ne.boxSizingReliable()||k,ce=oe&&s.css(o,"boxSizing",!1,N)==="border-box",ke=ce,Xe=In(o,p,N),He="offset"+p[0].toUpperCase()+p.slice(1);if(gn.test(Xe)){if(!k)return Xe;Xe="auto"}return(!ne.boxSizingReliable()&&ce||!ne.reliableTrDimensions()&&te(o,"tr")||Xe==="auto"||!parseFloat(Xe)&&s.css(o,"display",!1,N)==="inline")&&o.getClientRects().length&&(ce=s.css(o,"boxSizing",!1,N)==="border-box",ke=He in o,ke&&(Xe=o[He])),Xe=parseFloat(Xe)||0,Xe+Mn(o,p,k||(ce?"border":"content"),ke,N,Xe)+"px"}s.extend({cssHooks:{opacity:{get:function(o,p){if(p){var k=In(o,"opacity");return k===""?"1":k}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(o,p,k,N){if(!(!o||o.nodeType===3||o.nodeType===8||!o.style)){var oe,ce,ke,Xe=h(p),He=Wt.test(p),at=o.style;if(He||(p=Bn(Xe)),ke=s.cssHooks[p]||s.cssHooks[Xe],k!==void 0){if(ce=typeof k,ce==="string"&&(oe=Oe.exec(k))&&oe[1]&&(k=x(o,p,oe),ce="number"),k==null||k!==k)return;ce==="number"&&!He&&(k+=oe&&oe[3]||(s.cssNumber[Xe]?"":"px")),!ne.clearCloneStyle&&k===""&&p.indexOf("background")===0&&(at[p]="inherit"),(!ke||!("set"in ke)||(k=ke.set(o,k,N))!==void 0)&&(He?at.setProperty(p,k):at[p]=k)}else return ke&&"get"in ke&&(oe=ke.get(o,!1,N))!==void 0?oe:at[p]}},css:function(o,p,k,N){var oe,ce,ke,Xe=h(p),He=Wt.test(p);return He||(p=Bn(Xe)),ke=s.cssHooks[p]||s.cssHooks[Xe],ke&&"get"in ke&&(oe=ke.get(o,!0,k)),oe===void 0&&(oe=In(o,p,N)),oe==="normal"&&p in Ir&&(oe=Ir[p]),k===""||k?(ce=parseFloat(oe),k===!0||isFinite(ce)?ce||0:oe):oe}}),s.each(["height","width"],function(o,p){s.cssHooks[p]={get:function(k,N,oe){if(N)return fr.test(s.css(k,"display"))&&(!k.getClientRects().length||!k.getBoundingClientRect().width)?$n(k,ir,function(){return Yt(k,p,oe)}):Yt(k,p,oe)},set:function(k,N,oe){var ce,ke=nn(k),Xe=!ne.scrollboxSize()&&ke.position==="absolute",He=Xe||oe,at=He&&s.css(k,"boxSizing",!1,ke)==="border-box",vt=oe?Mn(k,p,oe,at,ke):0;return at&&Xe&&(vt-=Math.ceil(k["offset"+p[0].toUpperCase()+p.slice(1)]-parseFloat(ke[p])-Mn(k,p,"border",!1,ke)-.5)),vt&&(ce=Oe.exec(N))&&(ce[3]||"px")!=="px"&&(k.style[p]=N,N=s.css(k,p)),hr(k,N,vt)}}}),s.cssHooks.marginLeft=Hn(ne.reliableMarginLeft,function(o,p){if(p)return(parseFloat(In(o,"marginLeft"))||o.getBoundingClientRect().left-$n(o,{marginLeft:0},function(){return o.getBoundingClientRect().left}))+"px"}),s.each({margin:"",padding:"",border:"Width"},function(o,p){s.cssHooks[o+p]={expand:function(k){for(var N=0,oe={},ce=typeof k=="string"?k.split(" "):[k];N<4;N++)oe[o+Re[N]+p]=ce[N]||ce[N-2]||ce[0];return oe}},o!=="margin"&&(s.cssHooks[o+p].set=hr)}),s.fn.extend({css:function(o,p){return I(this,function(k,N,oe){var ce,ke,Xe={},He=0;if(Array.isArray(N)){for(ce=nn(k),ke=N.length;He<ke;He++)Xe[N[He]]=s.css(k,N[He],!1,ce);return Xe}return oe!==void 0?s.style(k,N,oe):s.css(k,N)},o,p,arguments.length>1)}});function Nn(o,p,k,N,oe){return new Nn.prototype.init(o,p,k,N,oe)}s.Tween=Nn,Nn.prototype={constructor:Nn,init:function(o,p,k,N,oe,ce){this.elem=o,this.prop=k,this.easing=oe||s.easing._default,this.options=p,this.start=this.now=this.cur(),this.end=N,this.unit=ce||(s.cssNumber[k]?"":"px")},cur:function(){var o=Nn.propHooks[this.prop];return o&&o.get?o.get(this):Nn.propHooks._default.get(this)},run:function(o){var p,k=Nn.propHooks[this.prop];return this.options.duration?this.pos=p=s.easing[this.easing](o,this.options.duration*o,0,1,this.options.duration):this.pos=p=o,this.now=(this.end-this.start)*p+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),k&&k.set?k.set(this):Nn.propHooks._default.set(this),this}},Nn.prototype.init.prototype=Nn.prototype,Nn.propHooks={_default:{get:function(o){var p;return o.elem.nodeType!==1||o.elem[o.prop]!=null&&o.elem.style[o.prop]==null?o.elem[o.prop]:(p=s.css(o.elem,o.prop,""),!p||p==="auto"?0:p)},set:function(o){s.fx.step[o.prop]?s.fx.step[o.prop](o):o.elem.nodeType===1&&(s.cssHooks[o.prop]||o.elem.style[Bn(o.prop)]!=null)?s.style(o.elem,o.prop,o.now+o.unit):o.elem[o.prop]=o.now}}},Nn.propHooks.scrollTop=Nn.propHooks.scrollLeft={set:function(o){o.elem.nodeType&&o.elem.parentNode&&(o.elem[o.prop]=o.now)}},s.easing={linear:function(o){return o},swing:function(o){return .5-Math.cos(o*Math.PI)/2},_default:"swing"},s.fx=Nn.prototype.init,s.fx.step={};var sr,Ln,un=/^(?:toggle|show|hide)$/,cn=/queueHooks$/;function Mr(){Ln&&(j.hidden===!1&&ln.requestAnimationFrame?ln.requestAnimationFrame(Mr):ln.setTimeout(Mr,s.fx.interval),s.fx.tick())}function Fr(){return ln.setTimeout(function(){sr=void 0}),sr=Date.now()}function Tt(o,p){var k,N=0,oe={height:o};for(p=p?1:0;N<4;N+=2-p)k=Re[N],oe["margin"+k]=oe["padding"+k]=o;return p&&(oe.opacity=oe.width=o),oe}function ye(o,p,k){for(var N,oe=(Vt.tweeners[p]||[]).concat(Vt.tweeners["*"]),ce=0,ke=oe.length;ce<ke;ce++)if(N=oe[ce].call(k,p,o))return N}function ze(o,p,k){var N,oe,ce,ke,Xe,He,at,vt,jt="width"in p||"height"in p,dt=this,Ot={},tn=o.style,_n=o.nodeType&&je(o),Qt=P.get(o,"fxshow");k.queue||(ke=s._queueHooks(o,"fx"),ke.unqueued==null&&(ke.unqueued=0,Xe=ke.empty.fire,ke.empty.fire=function(){ke.unqueued||Xe()}),ke.unqueued++,dt.always(function(){dt.always(function(){ke.unqueued--,s.queue(o,"fx").length||ke.empty.fire()})}));for(N in p)if(oe=p[N],un.test(oe)){if(delete p[N],ce=ce||oe==="toggle",oe===(_n?"hide":"show"))if(oe==="show"&&Qt&&Qt[N]!==void 0)_n=!0;else continue;Ot[N]=Qt&&Qt[N]||s.style(o,N)}if(He=!s.isEmptyObject(p),!(!He&&s.isEmptyObject(Ot))){jt&&o.nodeType===1&&(k.overflow=[tn.overflow,tn.overflowX,tn.overflowY],at=Qt&&Qt.display,at==null&&(at=P.get(o,"display")),vt=s.css(o,"display"),vt==="none"&&(at?vt=at:(De([o],!0),at=o.style.display||at,vt=s.css(o,"display"),De([o]))),(vt==="inline"||vt==="inline-block"&&at!=null)&&s.css(o,"float")==="none"&&(He||(dt.done(function(){tn.display=at}),at==null&&(vt=tn.display,at=vt==="none"?"":vt)),tn.display="inline-block")),k.overflow&&(tn.overflow="hidden",dt.always(function(){tn.overflow=k.overflow[0],tn.overflowX=k.overflow[1],tn.overflowY=k.overflow[2]})),He=!1;for(N in Ot)He||(Qt?"hidden"in Qt&&(_n=Qt.hidden):Qt=P.access(o,"fxshow",{display:at}),ce&&(Qt.hidden=!_n),_n&&De([o],!0),dt.done(function(){_n||De([o]),P.remove(o,"fxshow");for(N in Ot)s.style(o,N,Ot[N])})),He=ye(_n?Qt[N]:0,N,dt),N in Qt||(Qt[N]=He.start,_n&&(He.end=He.start,He.start=0))}}function xt(o,p){var k,N,oe,ce,ke;for(k in o)if(N=h(k),oe=p[N],ce=o[k],Array.isArray(ce)&&(oe=ce[1],ce=o[k]=ce[0]),k!==N&&(o[N]=ce,delete o[k]),ke=s.cssHooks[N],ke&&"expand"in ke){ce=ke.expand(ce),delete o[N];for(k in ce)k in o||(o[k]=ce[k],p[k]=oe)}else p[N]=oe}function Vt(o,p,k){var N,oe,ce=0,ke=Vt.prefilters.length,Xe=s.Deferred().always(function(){delete He.elem}),He=function(){if(oe)return!1;for(var jt=sr||Fr(),dt=Math.max(0,at.startTime+at.duration-jt),Ot=dt/at.duration||0,tn=1-Ot,_n=0,Qt=at.tweens.length;_n<Qt;_n++)at.tweens[_n].run(tn);return Xe.notifyWith(o,[at,tn,dt]),tn<1&&Qt?dt:(Qt||Xe.notifyWith(o,[at,1,0]),Xe.resolveWith(o,[at]),!1)},at=Xe.promise({elem:o,props:s.extend({},p),opts:s.extend(!0,{specialEasing:{},easing:s.easing._default},k),originalProperties:p,originalOptions:k,startTime:sr||Fr(),duration:k.duration,tweens:[],createTween:function(jt,dt){var Ot=s.Tween(o,at.opts,jt,dt,at.opts.specialEasing[jt]||at.opts.easing);return at.tweens.push(Ot),Ot},stop:function(jt){var dt=0,Ot=jt?at.tweens.length:0;if(oe)return this;for(oe=!0;dt<Ot;dt++)at.tweens[dt].run(1);return jt?(Xe.notifyWith(o,[at,1,0]),Xe.resolveWith(o,[at,jt])):Xe.rejectWith(o,[at,jt]),this}}),vt=at.props;for(xt(vt,at.opts.specialEasing);ce<ke;ce++)if(N=Vt.prefilters[ce].call(at,o,vt,at.opts),N)return X(N.stop)&&(s._queueHooks(at.elem,at.opts.queue).stop=N.stop.bind(N)),N;return s.map(vt,ye,at),X(at.opts.start)&&at.opts.start.call(o,at),at.progress(at.opts.progress).done(at.opts.done,at.opts.complete).fail(at.opts.fail).always(at.opts.always),s.fx.timer(s.extend(He,{elem:o,anim:at,queue:at.opts.queue})),at}s.Animation=s.extend(Vt,{tweeners:{"*":[function(o,p){var k=this.createTween(o,p);return x(k.elem,o,Oe.exec(p),k),k}]},tweener:function(o,p){X(o)?(p=o,o=["*"]):o=o.match(O);for(var k,N=0,oe=o.length;N<oe;N++)k=o[N],Vt.tweeners[k]=Vt.tweeners[k]||[],Vt.tweeners[k].unshift(p)},prefilters:[ze],prefilter:function(o,p){p?Vt.prefilters.unshift(o):Vt.prefilters.push(o)}}),s.speed=function(o,p,k){var N=o&&typeof o=="object"?s.extend({},o):{complete:k||!k&&p||X(o)&&o,duration:o,easing:k&&p||p&&!X(p)&&p};return s.fx.off?N.duration=0:typeof N.duration!="number"&&(N.duration in s.fx.speeds?N.duration=s.fx.speeds[N.duration]:N.duration=s.fx.speeds._default),(N.queue==null||N.queue===!0)&&(N.queue="fx"),N.old=N.complete,N.complete=function(){X(N.old)&&N.old.call(this),N.queue&&s.dequeue(this,N.queue)},N},s.fn.extend({fadeTo:function(o,p,k,N){return this.filter(je).css("opacity",0).show().end().animate({opacity:p},o,k,N)},animate:function(o,p,k,N){var oe=s.isEmptyObject(o),ce=s.speed(p,k,N),ke=function(){var Xe=Vt(this,s.extend({},o),ce);(oe||P.get(this,"finish"))&&Xe.stop(!0)};return ke.finish=ke,oe||ce.queue===!1?this.each(ke):this.queue(ce.queue,ke)},stop:function(o,p,k){var N=function(oe){var ce=oe.stop;delete oe.stop,ce(k)};return typeof o!="string"&&(k=p,p=o,o=void 0),p&&this.queue(o||"fx",[]),this.each(function(){var oe=!0,ce=o!=null&&o+"queueHooks",ke=s.timers,Xe=P.get(this);if(ce)Xe[ce]&&Xe[ce].stop&&N(Xe[ce]);else for(ce in Xe)Xe[ce]&&Xe[ce].stop&&cn.test(ce)&&N(Xe[ce]);for(ce=ke.length;ce--;)ke[ce].elem===this&&(o==null||ke[ce].queue===o)&&(ke[ce].anim.stop(k),oe=!1,ke.splice(ce,1));(oe||!k)&&s.dequeue(this,o)})},finish:function(o){return o!==!1&&(o=o||"fx"),this.each(function(){var p,k=P.get(this),N=k[o+"queue"],oe=k[o+"queueHooks"],ce=s.timers,ke=N?N.length:0;for(k.finish=!0,s.queue(this,o,[]),oe&&oe.stop&&oe.stop.call(this,!0),p=ce.length;p--;)ce[p].elem===this&&ce[p].queue===o&&(ce[p].anim.stop(!0),ce.splice(p,1));for(p=0;p<ke;p++)N[p]&&N[p].finish&&N[p].finish.call(this);delete k.finish})}}),s.each(["toggle","show","hide"],function(o,p){var k=s.fn[p];s.fn[p]=function(N,oe,ce){return N==null||typeof N=="boolean"?k.apply(this,arguments):this.animate(Tt(p,!0),N,oe,ce)}}),s.each({slideDown:Tt("show"),slideUp:Tt("hide"),slideToggle:Tt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(o,p){s.fn[o]=function(k,N,oe){return this.animate(p,k,N,oe)}}),s.timers=[],s.fx.tick=function(){var o,p=0,k=s.timers;for(sr=Date.now();p<k.length;p++)o=k[p],!o()&&k[p]===o&&k.splice(p--,1);k.length||s.fx.stop(),sr=void 0},s.fx.timer=function(o){s.timers.push(o),s.fx.start()},s.fx.interval=13,s.fx.start=function(){Ln||(Ln=!0,Mr())},s.fx.stop=function(){Ln=null},s.fx.speeds={slow:600,fast:200,_default:400},s.fn.delay=function(o,p){return o=s.fx&&s.fx.speeds[o]||o,p=p||"fx",this.queue(p,function(k,N){var oe=ln.setTimeout(k,o);N.stop=function(){ln.clearTimeout(oe)}})},function(){var o=j.createElement("input"),p=j.createElement("select"),k=p.appendChild(j.createElement("option"));o.type="checkbox",ne.checkOn=o.value!=="",ne.optSelected=k.selected,o=j.createElement("input"),o.value="t",o.type="radio",ne.radioValue=o.value==="t"}();var $t,vn=s.expr.attrHandle;s.fn.extend({attr:function(o,p){return I(this,s.attr,o,p,arguments.length>1)},removeAttr:function(o){return this.each(function(){s.removeAttr(this,o)})}}),s.extend({attr:function(o,p,k){var N,oe,ce=o.nodeType;if(!(ce===3||ce===8||ce===2)){if(typeof o.getAttribute=="undefined")return s.prop(o,p,k);if((ce!==1||!s.isXMLDoc(o))&&(oe=s.attrHooks[p.toLowerCase()]||(s.expr.match.bool.test(p)?$t:void 0)),k!==void 0){if(k===null){s.removeAttr(o,p);return}return oe&&"set"in oe&&(N=oe.set(o,k,p))!==void 0?N:(o.setAttribute(p,k+""),k)}return oe&&"get"in oe&&(N=oe.get(o,p))!==null?N:(N=s.find.attr(o,p),N==null?void 0:N)}},attrHooks:{type:{set:function(o,p){if(!ne.radioValue&&p==="radio"&&te(o,"input")){var k=o.value;return o.setAttribute("type",p),k&&(o.value=k),p}}}},removeAttr:function(o,p){var k,N=0,oe=p&&p.match(O);if(oe&&o.nodeType===1)for(;k=oe[N++];)o.removeAttribute(k)}}),$t={set:function(o,p,k){return p===!1?s.removeAttr(o,k):o.setAttribute(k,k),k}},s.each(s.expr.match.bool.source.match(/\w+/g),function(o,p){var k=vn[p]||s.find.attr;vn[p]=function(N,oe,ce){var ke,Xe,He=oe.toLowerCase();return ce||(Xe=vn[He],vn[He]=ke,ke=k(N,oe,ce)!=null?He:null,vn[He]=Xe),ke}});var qt=/^(?:input|select|textarea|button)$/i,rr=/^(?:a|area)$/i;s.fn.extend({prop:function(o,p){return I(this,s.prop,o,p,arguments.length>1)},removeProp:function(o){return this.each(function(){delete this[s.propFix[o]||o]})}}),s.extend({prop:function(o,p,k){var N,oe,ce=o.nodeType;if(!(ce===3||ce===8||ce===2))return(ce!==1||!s.isXMLDoc(o))&&(p=s.propFix[p]||p,oe=s.propHooks[p]),k!==void 0?oe&&"set"in oe&&(N=oe.set(o,k,p))!==void 0?N:o[p]=k:oe&&"get"in oe&&(N=oe.get(o,p))!==null?N:o[p]},propHooks:{tabIndex:{get:function(o){var p=s.find.attr(o,"tabindex");return p?parseInt(p,10):qt.test(o.nodeName)||rr.test(o.nodeName)&&o.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ne.optSelected||(s.propHooks.selected={get:function(o){var p=o.parentNode;return p&&p.parentNode&&p.parentNode.selectedIndex,null},set:function(o){var p=o.parentNode;p&&(p.selectedIndex,p.parentNode&&p.parentNode.selectedIndex)}}),s.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){s.propFix[this.toLowerCase()]=this});function Jn(o){var p=o.match(O)||[];return p.join(" ")}function kr(o){return o.getAttribute&&o.getAttribute("class")||""}function vr(o){return Array.isArray(o)?o:typeof o=="string"?o.match(O)||[]:[]}s.fn.extend({addClass:function(o){var p,k,N,oe,ce,ke;return X(o)?this.each(function(Xe){s(this).addClass(o.call(this,Xe,kr(this)))}):(p=vr(o),p.length?this.each(function(){if(N=kr(this),k=this.nodeType===1&&" "+Jn(N)+" ",k){for(ce=0;ce<p.length;ce++)oe=p[ce],k.indexOf(" "+oe+" ")<0&&(k+=oe+" ");ke=Jn(k),N!==ke&&this.setAttribute("class",ke)}}):this)},removeClass:function(o){var p,k,N,oe,ce,ke;return X(o)?this.each(function(Xe){s(this).removeClass(o.call(this,Xe,kr(this)))}):arguments.length?(p=vr(o),p.length?this.each(function(){if(N=kr(this),k=this.nodeType===1&&" "+Jn(N)+" ",k){for(ce=0;ce<p.length;ce++)for(oe=p[ce];k.indexOf(" "+oe+" ")>-1;)k=k.replace(" "+oe+" "," ");ke=Jn(k),N!==ke&&this.setAttribute("class",ke)}}):this):this.attr("class","")},toggleClass:function(o,p){var k,N,oe,ce,ke=typeof o,Xe=ke==="string"||Array.isArray(o);return X(o)?this.each(function(He){s(this).toggleClass(o.call(this,He,kr(this),p),p)}):typeof p=="boolean"&&Xe?p?this.addClass(o):this.removeClass(o):(k=vr(o),this.each(function(){if(Xe)for(ce=s(this),oe=0;oe<k.length;oe++)N=k[oe],ce.hasClass(N)?ce.removeClass(N):ce.addClass(N);else(o===void 0||ke==="boolean")&&(N=kr(this),N&&P.set(this,"__className__",N),this.setAttribute&&this.setAttribute("class",N||o===!1?"":P.get(this,"__className__")||""))}))},hasClass:function(o){var p,k,N=0;for(p=" "+o+" ";k=this[N++];)if(k.nodeType===1&&(" "+Jn(kr(k))+" ").indexOf(p)>-1)return!0;return!1}});var Ur=/\r/g;s.fn.extend({val:function(o){var p,k,N,oe=this[0];return arguments.length?(N=X(o),this.each(function(ce){var ke;this.nodeType===1&&(N?ke=o.call(this,ce,s(this).val()):ke=o,ke==null?ke="":typeof ke=="number"?ke+="":Array.isArray(ke)&&(ke=s.map(ke,function(Xe){return Xe==null?"":Xe+""})),p=s.valHooks[this.type]||s.valHooks[this.nodeName.toLowerCase()],(!p||!("set"in p)||p.set(this,ke,"value")===void 0)&&(this.value=ke))})):oe?(p=s.valHooks[oe.type]||s.valHooks[oe.nodeName.toLowerCase()],p&&"get"in p&&(k=p.get(oe,"value"))!==void 0?k:(k=oe.value,typeof k=="string"?k.replace(Ur,""):k==null?"":k)):void 0}}),s.extend({valHooks:{option:{get:function(o){var p=s.find.attr(o,"value");return p!=null?p:Jn(s.text(o))}},select:{get:function(o){var p,k,N,oe=o.options,ce=o.selectedIndex,ke=o.type==="select-one",Xe=ke?null:[],He=ke?ce+1:oe.length;for(ce<0?N=He:N=ke?ce:0;N<He;N++)if(k=oe[N],(k.selected||N===ce)&&!k.disabled&&(!k.parentNode.disabled||!te(k.parentNode,"optgroup"))){if(p=s(k).val(),ke)return p;Xe.push(p)}return Xe},set:function(o,p){for(var k,N,oe=o.options,ce=s.makeArray(p),ke=oe.length;ke--;)N=oe[ke],(N.selected=s.inArray(s.valHooks.option.get(N),ce)>-1)&&(k=!0);return k||(o.selectedIndex=-1),ce}}}}),s.each(["radio","checkbox"],function(){s.valHooks[this]={set:function(o,p){if(Array.isArray(p))return o.checked=s.inArray(s(o).val(),p)>-1}},ne.checkOn||(s.valHooks[this].get=function(o){return o.getAttribute("value")===null?"on":o.value})}),ne.focusin="onfocusin"in ln;var Kr=/^(?:focusinfocus|focusoutblur)$/,Br=function(o){o.stopPropagation()};s.extend(s.event,{trigger:function(o,p,k,N){var oe,ce,ke,Xe,He,at,vt,jt,dt=[k||j],Ot=fe.call(o,"type")?o.type:o,tn=fe.call(o,"namespace")?o.namespace.split("."):[];if(ce=jt=ke=k=k||j,!(k.nodeType===3||k.nodeType===8)&&!Kr.test(Ot+s.event.triggered)&&(Ot.indexOf(".")>-1&&(tn=Ot.split("."),Ot=tn.shift(),tn.sort()),He=Ot.indexOf(":")<0&&"on"+Ot,o=o[s.expando]?o:new s.Event(Ot,typeof o=="object"&&o),o.isTrigger=N?2:3,o.namespace=tn.join("."),o.rnamespace=o.namespace?new RegExp("(^|\\.)"+tn.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,o.result=void 0,o.target||(o.target=k),p=p==null?[o]:s.makeArray(p,[o]),vt=s.event.special[Ot]||{},!(!N&&vt.trigger&&vt.trigger.apply(k,p)===!1))){if(!N&&!vt.noBubble&&!ee(k)){for(Xe=vt.delegateType||Ot,Kr.test(Xe+Ot)||(ce=ce.parentNode);ce;ce=ce.parentNode)dt.push(ce),ke=ce;ke===(k.ownerDocument||j)&&dt.push(ke.defaultView||ke.parentWindow||ln)}for(oe=0;(ce=dt[oe++])&&!o.isPropagationStopped();)jt=ce,o.type=oe>1?Xe:vt.bindType||Ot,at=(P.get(ce,"events")||Object.create(null))[o.type]&&P.get(ce,"handle"),at&&at.apply(ce,p),at=He&&ce[He],at&&at.apply&&u(ce)&&(o.result=at.apply(ce,p),o.result===!1&&o.preventDefault());return o.type=Ot,!N&&!o.isDefaultPrevented()&&(!vt._default||vt._default.apply(dt.pop(),p)===!1)&&u(k)&&He&&X(k[Ot])&&!ee(k)&&(ke=k[He],ke&&(k[He]=null),s.event.triggered=Ot,o.isPropagationStopped()&&jt.addEventListener(Ot,Br),k[Ot](),o.isPropagationStopped()&&jt.removeEventListener(Ot,Br),s.event.triggered=void 0,ke&&(k[He]=ke)),o.result}},simulate:function(o,p,k){var N=s.extend(new s.Event,k,{type:o,isSimulated:!0});s.event.trigger(N,null,p)}}),s.fn.extend({trigger:function(o,p){return this.each(function(){s.event.trigger(o,p,this)})},triggerHandler:function(o,p){var k=this[0];if(k)return s.event.trigger(o,p,k,!0)}}),ne.focusin||s.each({focus:"focusin",blur:"focusout"},function(o,p){var k=function(N){s.event.simulate(p,N.target,s.event.fix(N))};s.event.special[p]={setup:function(){var N=this.ownerDocument||this.document||this,oe=P.access(N,p);oe||N.addEventListener(o,k,!0),P.access(N,p,(oe||0)+1)},teardown:function(){var N=this.ownerDocument||this.document||this,oe=P.access(N,p)-1;oe?P.access(N,p,oe):(N.removeEventListener(o,k,!0),P.remove(N,p))}}});var Cr=ln.location,Tr={guid:Date.now()},Qn=/\?/;s.parseXML=function(o){var p,k;if(!o||typeof o!="string")return null;try{p=new ln.DOMParser().parseFromString(o,"text/xml")}catch{}return k=p&&p.getElementsByTagName("parsererror")[0],(!p||k)&&s.error("Invalid XML: "+(k?s.map(k.childNodes,function(N){return N.textContent}).join(`
`):o)),p};var Or=/\[\]$/,Vr=/\r?\n/g,Wr=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;function Fe(o,p,k,N){var oe;if(Array.isArray(p))s.each(p,function(ce,ke){k||Or.test(o)?N(o,ke):Fe(o+"["+(typeof ke=="object"&&ke!=null?ce:"")+"]",ke,k,N)});else if(!k&&T(p)==="object")for(oe in p)Fe(o+"["+oe+"]",p[oe],k,N);else N(o,p)}s.param=function(o,p){var k,N=[],oe=function(ce,ke){var Xe=X(ke)?ke():ke;N[N.length]=encodeURIComponent(ce)+"="+encodeURIComponent(Xe==null?"":Xe)};if(o==null)return"";if(Array.isArray(o)||o.jquery&&!s.isPlainObject(o))s.each(o,function(){oe(this.name,this.value)});else for(k in o)Fe(k,o[k],p,oe);return N.join("&")},s.fn.extend({serialize:function(){return s.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var o=s.prop(this,"elements");return o?s.makeArray(o):this}).filter(function(){var o=this.type;return this.name&&!s(this).is(":disabled")&&Me.test(this.nodeName)&&!Wr.test(o)&&(this.checked||!Ge.test(o))}).map(function(o,p){var k=s(this).val();return k==null?null:Array.isArray(k)?s.map(k,function(N){return{name:p.name,value:N.replace(Vr,`\r
`)}}):{name:p.name,value:k.replace(Vr,`\r
`)}}).get()}});var pe=/%20/g,y=/#.*$/,Q=/([?&])_=[^&]*/,Te=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ie=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tt=/^(?:GET|HEAD)$/,pt=/^\/\//,Pt={},Ct={},Zt="*/".concat("*"),It=j.createElement("a");It.href=Cr.href;function Ut(o){return function(p,k){typeof p!="string"&&(k=p,p="*");var N,oe=0,ce=p.toLowerCase().match(O)||[];if(X(k))for(;N=ce[oe++];)N[0]==="+"?(N=N.slice(1)||"*",(o[N]=o[N]||[]).unshift(k)):(o[N]=o[N]||[]).push(k)}}function xn(o,p,k,N){var oe={},ce=o===Ct;function ke(Xe){var He;return oe[Xe]=!0,s.each(o[Xe]||[],function(at,vt){var jt=vt(p,k,N);if(typeof jt=="string"&&!ce&&!oe[jt])return p.dataTypes.unshift(jt),ke(jt),!1;if(ce)return!(He=jt)}),He}return ke(p.dataTypes[0])||!oe["*"]&&ke("*")}function hn(o,p){var k,N,oe=s.ajaxSettings.flatOptions||{};for(k in p)p[k]!==void 0&&((oe[k]?o:N||(N={}))[k]=p[k]);return N&&s.extend(!0,o,N),o}function kn(o,p,k){for(var N,oe,ce,ke,Xe=o.contents,He=o.dataTypes;He[0]==="*";)He.shift(),N===void 0&&(N=o.mimeType||p.getResponseHeader("Content-Type"));if(N){for(oe in Xe)if(Xe[oe]&&Xe[oe].test(N)){He.unshift(oe);break}}if(He[0]in k)ce=He[0];else{for(oe in k){if(!He[0]||o.converters[oe+" "+He[0]]){ce=oe;break}ke||(ke=oe)}ce=ce||ke}if(ce)return ce!==He[0]&&He.unshift(ce),k[ce]}function Ce(o,p,k,N){var oe,ce,ke,Xe,He,at={},vt=o.dataTypes.slice();if(vt[1])for(ke in o.converters)at[ke.toLowerCase()]=o.converters[ke];for(ce=vt.shift();ce;)if(o.responseFields[ce]&&(k[o.responseFields[ce]]=p),!He&&N&&o.dataFilter&&(p=o.dataFilter(p,o.dataType)),He=ce,ce=vt.shift(),ce){if(ce==="*")ce=He;else if(He!=="*"&&He!==ce){if(ke=at[He+" "+ce]||at["* "+ce],!ke){for(oe in at)if(Xe=oe.split(" "),Xe[1]===ce&&(ke=at[He+" "+Xe[0]]||at["* "+Xe[0]],ke)){ke===!0?ke=at[oe]:at[oe]!==!0&&(ce=Xe[0],vt.unshift(Xe[1]));break}}if(ke!==!0)if(ke&&o.throws)p=ke(p);else try{p=ke(p)}catch(jt){return{state:"parsererror",error:ke?jt:"No conversion from "+He+" to "+ce}}}}return{state:"success",data:p}}s.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cr.href,type:"GET",isLocal:Ie.test(Cr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":s.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(o,p){return p?hn(hn(o,s.ajaxSettings),p):hn(s.ajaxSettings,o)},ajaxPrefilter:Ut(Pt),ajaxTransport:Ut(Ct),ajax:function(o,p){typeof o=="object"&&(p=o,o=void 0),p=p||{};var k,N,oe,ce,ke,Xe,He,at,vt,jt,dt=s.ajaxSetup({},p),Ot=dt.context||dt,tn=dt.context&&(Ot.nodeType||Ot.jquery)?s(Ot):s.event,_n=s.Deferred(),Qt=s.Callbacks("once memory"),mr=dt.statusCode||{},yr={},Hr={},Gn="canceled",An={readyState:0,getResponseHeader:function(Vn){var er;if(He){if(!ce)for(ce={};er=Te.exec(oe);)ce[er[1].toLowerCase()+" "]=(ce[er[1].toLowerCase()+" "]||[]).concat(er[2]);er=ce[Vn.toLowerCase()+" "]}return er==null?null:er.join(", ")},getAllResponseHeaders:function(){return He?oe:null},setRequestHeader:function(Vn,er){return He==null&&(Vn=Hr[Vn.toLowerCase()]=Hr[Vn.toLowerCase()]||Vn,yr[Vn]=er),this},overrideMimeType:function(Vn){return He==null&&(dt.mimeType=Vn),this},statusCode:function(Vn){var er;if(Vn)if(He)An.always(Vn[An.status]);else for(er in Vn)mr[er]=[mr[er],Vn[er]];return this},abort:function(Vn){var er=Vn||Gn;return k&&k.abort(er),Sr(0,er),this}};if(_n.promise(An),dt.url=((o||dt.url||Cr.href)+"").replace(pt,Cr.protocol+"//"),dt.type=p.method||p.type||dt.method||dt.type,dt.dataTypes=(dt.dataType||"*").toLowerCase().match(O)||[""],dt.crossDomain==null){Xe=j.createElement("a");try{Xe.href=dt.url,Xe.href=Xe.href,dt.crossDomain=It.protocol+"//"+It.host!=Xe.protocol+"//"+Xe.host}catch{dt.crossDomain=!0}}if(dt.data&&dt.processData&&typeof dt.data!="string"&&(dt.data=s.param(dt.data,dt.traditional)),xn(Pt,dt,p,An),He)return An;at=s.event&&dt.global,at&&s.active++===0&&s.event.trigger("ajaxStart"),dt.type=dt.type.toUpperCase(),dt.hasContent=!tt.test(dt.type),N=dt.url.replace(y,""),dt.hasContent?dt.data&&dt.processData&&(dt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(dt.data=dt.data.replace(pe,"+")):(jt=dt.url.slice(N.length),dt.data&&(dt.processData||typeof dt.data=="string")&&(N+=(Qn.test(N)?"&":"?")+dt.data,delete dt.data),dt.cache===!1&&(N=N.replace(Q,"$1"),jt=(Qn.test(N)?"&":"?")+"_="+Tr.guid+++jt),dt.url=N+jt),dt.ifModified&&(s.lastModified[N]&&An.setRequestHeader("If-Modified-Since",s.lastModified[N]),s.etag[N]&&An.setRequestHeader("If-None-Match",s.etag[N])),(dt.data&&dt.hasContent&&dt.contentType!==!1||p.contentType)&&An.setRequestHeader("Content-Type",dt.contentType),An.setRequestHeader("Accept",dt.dataTypes[0]&&dt.accepts[dt.dataTypes[0]]?dt.accepts[dt.dataTypes[0]]+(dt.dataTypes[0]!=="*"?", "+Zt+"; q=0.01":""):dt.accepts["*"]);for(vt in dt.headers)An.setRequestHeader(vt,dt.headers[vt]);if(dt.beforeSend&&(dt.beforeSend.call(Ot,An,dt)===!1||He))return An.abort();if(Gn="abort",Qt.add(dt.complete),An.done(dt.success),An.fail(dt.error),k=xn(Ct,dt,p,An),!k)Sr(-1,"No Transport");else{if(An.readyState=1,at&&tn.trigger("ajaxSend",[An,dt]),He)return An;dt.async&&dt.timeout>0&&(ke=ln.setTimeout(function(){An.abort("timeout")},dt.timeout));try{He=!1,k.send(yr,Sr)}catch(Vn){if(He)throw Vn;Sr(-1,Vn)}}function Sr(Vn,er,Ar,$r){var Yr,bi,wi,_r,ar,zr=er;He||(He=!0,ke&&ln.clearTimeout(ke),k=void 0,oe=$r||"",An.readyState=Vn>0?4:0,Yr=Vn>=200&&Vn<300||Vn===304,Ar&&(_r=kn(dt,An,Ar)),!Yr&&s.inArray("script",dt.dataTypes)>-1&&s.inArray("json",dt.dataTypes)<0&&(dt.converters["text script"]=function(){}),_r=Ce(dt,_r,An,Yr),Yr?(dt.ifModified&&(ar=An.getResponseHeader("Last-Modified"),ar&&(s.lastModified[N]=ar),ar=An.getResponseHeader("etag"),ar&&(s.etag[N]=ar)),Vn===204||dt.type==="HEAD"?zr="nocontent":Vn===304?zr="notmodified":(zr=_r.state,bi=_r.data,wi=_r.error,Yr=!wi)):(wi=zr,(Vn||!zr)&&(zr="error",Vn<0&&(Vn=0))),An.status=Vn,An.statusText=(er||zr)+"",Yr?_n.resolveWith(Ot,[bi,zr,An]):_n.rejectWith(Ot,[An,zr,wi]),An.statusCode(mr),mr=void 0,at&&tn.trigger(Yr?"ajaxSuccess":"ajaxError",[An,dt,Yr?bi:wi]),Qt.fireWith(Ot,[An,zr]),at&&(tn.trigger("ajaxComplete",[An,dt]),--s.active||s.event.trigger("ajaxStop")))}return An},getJSON:function(o,p,k){return s.get(o,p,k,"json")},getScript:function(o,p){return s.get(o,void 0,p,"script")}}),s.each(["get","post"],function(o,p){s[p]=function(k,N,oe,ce){return X(N)&&(ce=ce||oe,oe=N,N=void 0),s.ajax(s.extend({url:k,type:p,dataType:ce,data:N,success:oe},s.isPlainObject(k)&&k))}}),s.ajaxPrefilter(function(o){var p;for(p in o.headers)p.toLowerCase()==="content-type"&&(o.contentType=o.headers[p]||"")}),s._evalUrl=function(o,p,k){return s.ajax({url:o,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(N){s.globalEval(N,p,k)}})},s.fn.extend({wrapAll:function(o){var p;return this[0]&&(X(o)&&(o=o.call(this[0])),p=s(o,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&p.insertBefore(this[0]),p.map(function(){for(var k=this;k.firstElementChild;)k=k.firstElementChild;return k}).append(this)),this},wrapInner:function(o){return X(o)?this.each(function(p){s(this).wrapInner(o.call(this,p))}):this.each(function(){var p=s(this),k=p.contents();k.length?k.wrapAll(o):p.append(o)})},wrap:function(o){var p=X(o);return this.each(function(k){s(this).wrapAll(p?o.call(this,k):o)})},unwrap:function(o){return this.parent(o).not("body").each(function(){s(this).replaceWith(this.childNodes)}),this}}),s.expr.pseudos.hidden=function(o){return!s.expr.pseudos.visible(o)},s.expr.pseudos.visible=function(o){return!!(o.offsetWidth||o.offsetHeight||o.getClientRects().length)},s.ajaxSettings.xhr=function(){try{return new ln.XMLHttpRequest}catch{}};var Pe={0:200,1223:204},F=s.ajaxSettings.xhr();ne.cors=!!F&&"withCredentials"in F,ne.ajax=F=!!F,s.ajaxTransport(function(o){var p,k;if(ne.cors||F&&!o.crossDomain)return{send:function(N,oe){var ce,ke=o.xhr();if(ke.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(ce in o.xhrFields)ke[ce]=o.xhrFields[ce];o.mimeType&&ke.overrideMimeType&&ke.overrideMimeType(o.mimeType),!o.crossDomain&&!N["X-Requested-With"]&&(N["X-Requested-With"]="XMLHttpRequest");for(ce in N)ke.setRequestHeader(ce,N[ce]);p=function(Xe){return function(){p&&(p=k=ke.onload=ke.onerror=ke.onabort=ke.ontimeout=ke.onreadystatechange=null,Xe==="abort"?ke.abort():Xe==="error"?typeof ke.status!="number"?oe(0,"error"):oe(ke.status,ke.statusText):oe(Pe[ke.status]||ke.status,ke.statusText,(ke.responseType||"text")!=="text"||typeof ke.responseText!="string"?{binary:ke.response}:{text:ke.responseText},ke.getAllResponseHeaders()))}},ke.onload=p(),k=ke.onerror=ke.ontimeout=p("error"),ke.onabort!==void 0?ke.onabort=k:ke.onreadystatechange=function(){ke.readyState===4&&ln.setTimeout(function(){p&&k()})},p=p("abort");try{ke.send(o.hasContent&&o.data||null)}catch(Xe){if(p)throw Xe}},abort:function(){p&&p()}}}),s.ajaxPrefilter(function(o){o.crossDomain&&(o.contents.script=!1)}),s.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(o){return s.globalEval(o),o}}}),s.ajaxPrefilter("script",function(o){o.cache===void 0&&(o.cache=!1),o.crossDomain&&(o.type="GET")}),s.ajaxTransport("script",function(o){if(o.crossDomain||o.scriptAttrs){var p,k;return{send:function(N,oe){p=s("<script>").attr(o.scriptAttrs||{}).prop({charset:o.scriptCharset,src:o.url}).on("load error",k=function(ce){p.remove(),k=null,ce&&oe(ce.type==="error"?404:200,ce.type)}),j.head.appendChild(p[0])},abort:function(){k&&k()}}}});var G=[],Ne=/(=)\?(?=&|$)|\?\?/;s.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var o=G.pop()||s.expando+"_"+Tr.guid++;return this[o]=!0,o}}),s.ajaxPrefilter("json jsonp",function(o,p,k){var N,oe,ce,ke=o.jsonp!==!1&&(Ne.test(o.url)?"url":typeof o.data=="string"&&(o.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ne.test(o.data)&&"data");if(ke||o.dataTypes[0]==="jsonp")return N=o.jsonpCallback=X(o.jsonpCallback)?o.jsonpCallback():o.jsonpCallback,ke?o[ke]=o[ke].replace(Ne,"$1"+N):o.jsonp!==!1&&(o.url+=(Qn.test(o.url)?"&":"?")+o.jsonp+"="+N),o.converters["script json"]=function(){return ce||s.error(N+" was not called"),ce[0]},o.dataTypes[0]="json",oe=ln[N],ln[N]=function(){ce=arguments},k.always(function(){oe===void 0?s(ln).removeProp(N):ln[N]=oe,o[N]&&(o.jsonpCallback=p.jsonpCallback,G.push(N)),ce&&X(oe)&&oe(ce[0]),ce=oe=void 0}),"script"}),ne.createHTMLDocument=function(){var o=j.implementation.createHTMLDocument("").body;return o.innerHTML="<form></form><form></form>",o.childNodes.length===2}(),s.parseHTML=function(o,p,k){if(typeof o!="string")return[];typeof p=="boolean"&&(k=p,p=!1);var N,oe,ce;return p||(ne.createHTMLDocument?(p=j.implementation.createHTMLDocument(""),N=p.createElement("base"),N.href=j.location.href,p.head.appendChild(N)):p=j),oe=xe.exec(o),ce=!k&&[],oe?[p.createElement(oe[1])]:(oe=kt([o],p,ce),ce&&ce.length&&s(ce).remove(),s.merge([],oe.childNodes))},s.fn.load=function(o,p,k){var N,oe,ce,ke=this,Xe=o.indexOf(" ");return Xe>-1&&(N=Jn(o.slice(Xe)),o=o.slice(0,Xe)),X(p)?(k=p,p=void 0):p&&typeof p=="object"&&(oe="POST"),ke.length>0&&s.ajax({url:o,type:oe||"GET",dataType:"html",data:p}).done(function(He){ce=arguments,ke.html(N?s("<div>").append(s.parseHTML(He)).find(N):He)}).always(k&&function(He,at){ke.each(function(){k.apply(this,ce||[He.responseText,at,He])})}),this},s.expr.pseudos.animated=function(o){return s.grep(s.timers,function(p){return o===p.elem}).length},s.offset={setOffset:function(o,p,k){var N,oe,ce,ke,Xe,He,at,vt=s.css(o,"position"),jt=s(o),dt={};vt==="static"&&(o.style.position="relative"),Xe=jt.offset(),ce=s.css(o,"top"),He=s.css(o,"left"),at=(vt==="absolute"||vt==="fixed")&&(ce+He).indexOf("auto")>-1,at?(N=jt.position(),ke=N.top,oe=N.left):(ke=parseFloat(ce)||0,oe=parseFloat(He)||0),X(p)&&(p=p.call(o,k,s.extend({},Xe))),p.top!=null&&(dt.top=p.top-Xe.top+ke),p.left!=null&&(dt.left=p.left-Xe.left+oe),"using"in p?p.using.call(o,dt):jt.css(dt)}},s.fn.extend({offset:function(o){if(arguments.length)return o===void 0?this:this.each(function(oe){s.offset.setOffset(this,o,oe)});var p,k,N=this[0];if(!!N)return N.getClientRects().length?(p=N.getBoundingClientRect(),k=N.ownerDocument.defaultView,{top:p.top+k.pageYOffset,left:p.left+k.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var o,p,k,N=this[0],oe={top:0,left:0};if(s.css(N,"position")==="fixed")p=N.getBoundingClientRect();else{for(p=this.offset(),k=N.ownerDocument,o=N.offsetParent||k.documentElement;o&&(o===k.body||o===k.documentElement)&&s.css(o,"position")==="static";)o=o.parentNode;o&&o!==N&&o.nodeType===1&&(oe=s(o).offset(),oe.top+=s.css(o,"borderTopWidth",!0),oe.left+=s.css(o,"borderLeftWidth",!0))}return{top:p.top-oe.top-s.css(N,"marginTop",!0),left:p.left-oe.left-s.css(N,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var o=this.offsetParent;o&&s.css(o,"position")==="static";)o=o.offsetParent;return o||Ye})}}),s.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(o,p){var k=p==="pageYOffset";s.fn[o]=function(N){return I(this,function(oe,ce,ke){var Xe;if(ee(oe)?Xe=oe:oe.nodeType===9&&(Xe=oe.defaultView),ke===void 0)return Xe?Xe[p]:oe[ce];Xe?Xe.scrollTo(k?Xe.pageXOffset:ke,k?ke:Xe.pageYOffset):oe[ce]=ke},o,N,arguments.length)}}),s.each(["top","left"],function(o,p){s.cssHooks[p]=Hn(ne.pixelPosition,function(k,N){if(N)return N=In(k,p),gn.test(N)?s(k).position()[p]+"px":N})}),s.each({Height:"height",Width:"width"},function(o,p){s.each({padding:"inner"+o,content:p,"":"outer"+o},function(k,N){s.fn[N]=function(oe,ce){var ke=arguments.length&&(k||typeof oe!="boolean"),Xe=k||(oe===!0||ce===!0?"margin":"border");return I(this,function(He,at,vt){var jt;return ee(He)?N.indexOf("outer")===0?He["inner"+o]:He.document.documentElement["client"+o]:He.nodeType===9?(jt=He.documentElement,Math.max(He.body["scroll"+o],jt["scroll"+o],He.body["offset"+o],jt["offset"+o],jt["client"+o])):vt===void 0?s.css(He,at,Xe):s.style(He,at,vt,Xe)},p,ke?oe:void 0,ke)}})}),s.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(o,p){s.fn[p]=function(k){return this.on(p,k)}}),s.fn.extend({bind:function(o,p,k){return this.on(o,null,p,k)},unbind:function(o,p){return this.off(o,null,p)},delegate:function(o,p,k,N){return this.on(p,o,k,N)},undelegate:function(o,p,k){return arguments.length===1?this.off(o,"**"):this.off(p,o||"**",k)},hover:function(o,p){return this.mouseenter(o).mouseleave(p||o)}}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(o,p){s.fn[p]=function(k,N){return arguments.length>0?this.on(p,null,k,N):this.trigger(p)}});var st=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;s.proxy=function(o,p){var k,N,oe;if(typeof p=="string"&&(k=o[p],p=o,o=k),!!X(o))return N=zn.call(arguments,2),oe=function(){return o.apply(p||this,N.concat(zn.call(arguments)))},oe.guid=o.guid=o.guid||s.guid++,oe},s.holdReady=function(o){o?s.readyWait++:s.ready(!0)},s.isArray=Array.isArray,s.parseJSON=JSON.parse,s.nodeName=te,s.isFunction=X,s.isWindow=ee,s.camelCase=h,s.type=T,s.now=Date.now,s.isNumeric=function(o){var p=s.type(o);return(p==="number"||p==="string")&&!isNaN(o-parseFloat(o))},s.trim=function(o){return o==null?"":(o+"").replace(st,"$1")};var wt=ln.jQuery,zt=ln.$;return s.noConflict=function(o){return ln.$===s&&(ln.$=zt),o&&ln.jQuery===s&&(ln.jQuery=wt),s},typeof Dn=="undefined"&&(ln.jQuery=ln.$=s),s})})(il);(function(jn){(function(ln){ln(["jquery"],function(Dn){return function(){var sn,bn,zn=0,gt={error:"error",info:"info",success:"success",warning:"warning"},Ze={clear:X,remove:ee,error:ve,getContainer:_e,info:fe,options:{},subscribe:de,success:ue,version:"2.1.4",warning:ne},_;return Ze;function ve(R,Z,L){return s({type:gt.error,iconClass:ae().iconClasses.error,message:R,optionsOverride:L,title:Z})}function _e(R,Z){return R||(R=ae()),sn=Dn("#"+R.containerId),sn.length||Z&&(sn=b(R)),sn}function fe(R,Z,L){return s({type:gt.info,iconClass:ae().iconClasses.info,message:R,optionsOverride:L,title:Z})}function de(R){bn=R}function ue(R,Z,L){return s({type:gt.success,iconClass:ae().iconClasses.success,message:R,optionsOverride:L,title:Z})}function ne(R,Z,L){return s({type:gt.warning,iconClass:ae().iconClasses.warning,message:R,optionsOverride:L,title:Z})}function X(R,Z){var L=ae();sn||_e(L),m(R,L,Z)||j(L)}function ee(R){var Z=ae();if(sn||_e(Z),R&&Dn(":focus",R).length===0){$(R);return}sn.children().length&&sn.remove()}function j(R){for(var Z=sn.children(),L=Z.length-1;L>=0;L--)m(Dn(Z[L]),R)}function m(R,Z,L){var te=L&&L.force?L.force:!1;return R&&(te||Dn(":focus",R).length===0)?(R[Z.hideMethod]({duration:Z.hideDuration,easing:Z.hideEasing,complete:function(){$(R)}}),!0):!1}function b(R){return sn=Dn("<div/>").attr("id",R.containerId).addClass(R.positionClass),sn.appendTo(Dn(R.target)),sn}function T(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function V(R){!bn||bn(R)}function s(R){var Z=ae(),L=R.iconClass||Z.iconClass;if(typeof R.optionsOverride!="undefined"&&(Z=Dn.extend(Z,R.optionsOverride),L=R.optionsOverride.iconClass||L),f(Z,R))return;zn++,sn=_e(Z,!0);var te=null,xe=Dn("<div/>"),he=Dn("<div/>"),A=Dn("<div/>"),z=Dn("<div/>"),B=Dn(Z.closeHtml),W={intervalId:null,hideEta:null,maxHideTime:null},ie={toastId:zn,state:"visible",startTime:new Date,options:Z,map:R};return O(),g(),c(),V(ie),Z.debug&&console&&console.log(ie),xe;function E(q){return q==null&&(q=""),q.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function O(){S(),le(),D(),I(),C(),l(),se(),a()}function a(){var q="";switch(R.iconClass){case"toast-success":case"toast-info":q="polite";break;default:q="assertive"}xe.attr("aria-live",q)}function c(){Z.closeOnHover&&xe.hover(d,u),!Z.onclick&&Z.tapToDismiss&&xe.click(h),Z.closeButton&&B&&B.click(function(q){q.stopPropagation?q.stopPropagation():q.cancelBubble!==void 0&&q.cancelBubble!==!0&&(q.cancelBubble=!0),Z.onCloseClick&&Z.onCloseClick(q),h(!0)}),Z.onclick&&xe.click(function(q){Z.onclick(q),h()})}function g(){xe.hide(),xe[Z.showMethod]({duration:Z.showDuration,easing:Z.showEasing,complete:Z.onShown}),Z.timeOut>0&&(te=setTimeout(h,Z.timeOut),W.maxHideTime=parseFloat(Z.timeOut),W.hideEta=new Date().getTime()+W.maxHideTime,Z.progressBar&&(W.intervalId=setInterval(P,10)))}function S(){R.iconClass&&xe.addClass(Z.toastClass).addClass(L)}function se(){Z.newestOnTop?sn.prepend(xe):sn.append(xe)}function le(){if(R.title){var q=R.title;Z.escapeHtml&&(q=E(R.title)),he.append(q).addClass(Z.titleClass),xe.append(he)}}function D(){if(R.message){var q=R.message;Z.escapeHtml&&(q=E(R.message)),A.append(q).addClass(Z.messageClass),xe.append(A)}}function I(){Z.closeButton&&(B.addClass(Z.closeClass).attr("role","button"),xe.prepend(B))}function C(){Z.progressBar&&(z.addClass(Z.progressClass),xe.prepend(z))}function l(){Z.rtl&&xe.addClass("rtl")}function f(q,K){if(q.preventDuplicates){if(K.message===_)return!0;_=K.message}return!1}function h(q){var K=q&&Z.closeMethod!==!1?Z.closeMethod:Z.hideMethod,H=q&&Z.closeDuration!==!1?Z.closeDuration:Z.hideDuration,w=q&&Z.closeEasing!==!1?Z.closeEasing:Z.hideEasing;if(!(Dn(":focus",xe).length&&!q))return clearTimeout(W.intervalId),xe[K]({duration:H,easing:w,complete:function(){$(xe),clearTimeout(te),Z.onHidden&&ie.state!=="hidden"&&Z.onHidden(),ie.state="hidden",ie.endTime=new Date,V(ie)}})}function u(){(Z.timeOut>0||Z.extendedTimeOut>0)&&(te=setTimeout(h,Z.extendedTimeOut),W.maxHideTime=parseFloat(Z.extendedTimeOut),W.hideEta=new Date().getTime()+W.maxHideTime)}function d(){clearTimeout(te),W.hideEta=0,xe.stop(!0,!0)[Z.showMethod]({duration:Z.showDuration,easing:Z.showEasing})}function P(){var q=(W.hideEta-new Date().getTime())/W.maxHideTime*100;z.width(q+"%")}}function ae(){return Dn.extend({},T(),Ze.options)}function $(R){sn||(sn=_e()),!R.is(":visible")&&(R.remove(),R=null,sn.children().length===0&&(sn.remove(),_=void 0))}}()})})(function(ln,Dn){jn.exports?jn.exports=Dn(il.exports):window.toastr=Dn(window.jQuery)})})(rl);var ga=rl.exports,Ou=(jn,ln)=>{jn.Commands.add("notify",(sn,bn,zn)=>{zn.type=="info"&&ga.info(zn.message,zn.title),zn.type=="success"&&ga.success(zn.message,zn.title),zn.type=="error"&&ga.error(zn.message,zn.title),zn.type=="warning"&&ga.warning(zn.message,zn.title)})},Su=(jn,ln={})=>{jn.StorageManager.config.onStore=(Dn,sn)=>{const bn=sn.Pages.getSelected(),zn=bn.getMainComponent(),gt=sn.getHtml({component:zn}),Ze=sn.getCss({component:zn}),_=Dn.styles;return{page:bn,html:gt,css:Ze,styles:_}}};let Ii=window.editorConfig;delete window.editorConfig;if(Object.keys(Ii).length===0)throw new Error("No config found");Ii.plugins=[Ou,ku,wu,xu,nl,Cu,Su];Ii.pluginsOpts={[nl]:{remoteIcons:Ii.editor_icons,proxy_url:Ii.media_proxy_url,proxy_url_input:Ii.media_proxy_url_input,use_proxy:!0}};window.editor=bu.init(Ii);let _u=editor.BlockManager;Ii.templatesUrl&&fetch(Ii.templatesUrl).then(jn=>jn.json()).then(jn=>{jn.forEach(ln=>{_u.add("block-"+ln.id,ln)})}).catch(jn=>{console.log(jn)});
